!function(){var t,e={9892:function(t,e,s){"use strict";var i={};s.r(i),s.d(i,{AdapterService:function(){return nt},BindersService:function(){return ot},ComponentService:function(){return lt},CoreService:function(){return ct},FormatterService:function(){return ht},HttpService:function(){return dt},LifecycleService:function(){return at}});var n={};s.r(n),s.d(n,{dotAdapter:function(){return pt}});var o={};s.r(o),s.d(o,{addClassBinder:function(){return mt},animateStarBinder:function(){return vt},assignBinder:function(){return gt},assignPropertyBinder:function(){return ft},attributeBinder:function(){return be},blockBinder:function(){return bt},checkedBinder:function(){return It},classStarBinder:function(){return Nt},componentAttributeBinder:function(){return Qt},disabledBinder:function(){return oe},eachStarBinder:function(){return Te},enabledBinder:function(){return ie},flexSortChildsBinder:function(){return ne},hideBinder:function(){return De},htmlBinder:function(){return Ae},ifBinder:function(){return ke},maxlengthBinder:function(){return re},notDraggableBinder:function(){return ae},onEventBinder:function(){return le},parentBinder:function(){return ce},readonlyBinder:function(){return he},removeClassBinder:function(){return de},showBinder:function(){return Le},srcsetSizeBinder:function(){return Oe},styleBackgroundImageBinder:function(){return xe},styleBinder:function(){return ee},styleStarBinder:function(){return te},tagStarBinder:function(){return se},templateBinder:function(){return Ne},textBinder:function(){return Pe},toggleOnEventBinder:function(){return Ie},unlessBinder:function(){return Ze},valueBinder:function(){return Re}});var r={};s.r(r),s.d(r,{VideoComponent:function(){return qe}});var a={};s.r(a),s.d(a,{andFormatter:function(){return is},appendFormatter:function(){return Ns},argsFormatter:function(){return Ss},betweenFormatter:function(){return ns},booleanFormatter:function(){return ni},callFormatter:function(){return Ds},callNameFormatter:function(){return Ls},capitalizeFormatter:function(){return Zs},containsFormatter:function(){return ze},cutFormatter:function(){return Bs},debugFormatter:function(){return _s},defaultFormatter:function(){return ks},digitsFormatter:function(){return Cs},dividedByFormatter:function(){return gs},downcaseFormatter:function(){return Rs},egtFormatter:function(){return os},eltFormatter:function(){return hs},emptyFormatter:function(){return We},endsWithFormatter:function(){return Fs},eqFormatter:function(){return rs},evenFormatter:function(){return ws},filledFormatter:function(){return Ms},firstFormatter:function(){return Ye},gcdFormatter:function(){return ys},getFormatter:function(){return Ge},gtFormatter:function(){return as},handleizeFormatter:function(){return js},isArrayFormatter:function(){return oi},isBooleanFormatter:function(){return ri},isDefinedFormatter:function(){return ai},isDesktopFormatter:function(){return Ts},isIntegerFormatter:function(){return Ws},isLastFormatter:function(){return Xe},isMobileFormatter:function(){return As},isNumberFormatter:function(){return li},isObjectFormatter:function(){return ci},isStringFormatter:function(){return hi},isUndefinedFormatter:function(){return di},joinFormatter:function(){return ss},jsonFormatter:function(){return fe},lastFormatter:function(){return Ke},ltFormatter:function(){return cs},mapFormatter:function(){return Os},matchFormatter:function(){return qs},minusFormatter:function(){return ms},moduloFormatter:function(){return fs},neFormatter:function(){return ls},notFormatter:function(){return us},numberFormatFormatter:function(){return Gs},orFormatter:function(){return ds},osFormatter:function(){return xs},overlapsFormatter:function(){return es},padEndFormatter:function(){return Hs},padStartFormatter:function(){return Us},parseFormatter:function(){return ui},pluralizeFormatter:function(){return Ys},plusFormatter:function(){return ps},preferFormatter:function(){return Ps},prependFormatter:function(){return Xs},randomFormatter:function(){return Je},rangeFormatter:function(){return Qe},replaceFirstFormatter:function(){return Qs},replaceFormatter:function(){return Js},setFormatter:function(){return ts},sizeFormatter:function(){return Ve},sliceFormatter:function(){return ti},startsWithFormatter:function(){return ei},stripFormatter:function(){return si},stripHtmlFormatter:function(){return ii},ternaryFormatter:function(){return Is},timesFormatter:function(){return vs},toDecimalFormatter:function(){return Vs},toFloatFormatter:function(){return zs},toIntegerFormatter:function(){return $s},toNumberFormatter:function(){return mi},toStringFormatter:function(){return pi},unevenFormatter:function(){return Es},upcaseFormatter:function(){return Ks}});var l={};s.r(l),s.d(l,{easeInCubic:function(){return wi},easeInOutCubic:function(){return Ci},easeInOutQuad:function(){return yi},easeInOutQuart:function(){return ki},easeInOutQuint:function(){return Di},easeInQuad:function(){return fi},easeInQuart:function(){return Si},easeInQuint:function(){return Ti},easeOutCubic:function(){return Ei},easeOutQuad:function(){return bi},easeOutQuart:function(){return _i},easeOutQuint:function(){return Ai},getScrollPosition:function(){return Li},isScrollable:function(){return Oi},linear:function(){return gi}});var c={};s.r(c),s.d(c,{Autoscroll:function(){return Pi},Dragscroll:function(){return Ii},ExtrasService:function(){return Ni},FullscreenService:function(){return Zi},Gameloop:function(){return xi},ScrollEventsService:function(){return Ri},TouchEventsService:function(){return Mi}});var h={};s.r(h),s.d(h,{autoscrollBinder:function(){return Wi},dataScrollPositionYBinder:function(){return ji},imageEventsBinder:function(){return Hi},scrollEventsBinder:function(){return zi},scrollPositionAngleBinder:function(){return Vi},scrollbarDraggableBinder:function(){return Gi},syncElementPropertyBinder:function(){return Yi},touchEventsBinder:function(){return $i}});var d={};s.r(d),s.d(d,{ModuleService:function(){return Ki},PQueue:function(){return tn},PriorityQueue:function(){return Qi},ShopifyCartService:function(){return en},ShopifyProductService:function(){return sn},ShopifyService:function(){return nn},lowerBound:function(){return Ji}});var u={};s.r(u),s.d(u,{shopifyCartCountBinder:function(){return on},shopifyImgBinder:function(){return an}});var p={};s.r(p),s.d(p,{imgUrlFormatter:function(){return rn},moneyFormatter:function(){return ln},moneyWithCurrencyFormatter:function(){return cn}});var m={};s.r(m),s.d(m,{BaseTransition:function(){return pn},BaseView:function(){return fn},CustomTransition:function(){return mn},Dom:function(){return bn},FadeTransition:function(){return vn},HideShowTransition:function(){return gn},Pjax:function(){return En},Prefetch:function(){return wn},RouterService:function(){return Cn}});var v={};s.r(v),s.d(v,{parentRouteClassStarBinder:function(){return Ln},routeBackOnStarBinder:function(){return xn},routeBinder:function(){return Tn},routeClassStarBinder:function(){return An},routePreloadBinder:function(){return Dn},viewBinder:function(){return Sn},viewStaticBinder:function(){return kn}});var g={};s.r(g),s.d(g,{RouterLoadScriptComponent:function(){return Pn},RouterViewComponent:function(){return In}});var f={};s.r(f),s.d(f,{ShopifyAddressesComponent:function(){return hn},ShopifyCartButtonComponent:function(){return Zn},ShopifyCartComponent:function(){return dn},ShopifyCartItemComponent:function(){return Bn},ShopifyCommentsFormComponent:function(){return Rn},ShopifyContactFormComponent:function(){return Fn},ShopifyDebugBarComponent:function(){return Mn},ShopifyLinklistComponent:function(){return jn},ShopifyLoginFormComponent:function(){return qn},ShopifyProductComponent:function(){return Un},ShopifyProductItemComponent:function(){return Hn},ShopifyProductScrollbarComponent:function(){return $n}});var b={};s.r(b),s.d(b,{i18nStarBinder:function(){return Wn}});var y={};s.r(y),s.d(y,{I18nService:function(){return Vn},LocalesRestService:function(){return Yn},LocalesStaticService:function(){return Xn}});var w={};s.r(w),s.d(w,{ARIA_ATTRIBUTE_PATTERN:function(){return oo},DATA_URL_PATTERN:function(){return ao},DEFAULT_ALLOWLIST:function(){return lo},MILLISECONDS_MULTIPLIER:function(){return co},NODE_TEXT:function(){return to},SAFE_URL_PATTERN:function(){return ro},TOGGLE_ATTRIBUTE:function(){return so},TOGGLE_BUTTON:function(){return eo},TOGGLE_CLASS:function(){return io},TRANSITION_END:function(){return ho},URI_ATTRS:function(){return no}});var E={};s.r(E),s.d(E,{Bs4Service:function(){return Qn},CollapseService:function(){return kr},DropdownService:function(){return Wr},ModalService:function(){return da},PopoverService:function(){return cl},ToastService:function(){return yl},TooltipService:function(){return Wa}});var C={};s.r(C),s.d(C,{collapseBinder:function(){return El},collapseOnUrlBinder:function(){return wl},dropdownBinder:function(){return Sl},expanOnUrlBinder:function(){return _l},popoverBinder:function(){return Al},scrollToOnEventBinder:function(){return Zl},scrollspyClassBinder:function(){return Ol},showToastOnEventBinder:function(){return Ll},toggleAttributeBinder:function(){return Bl},toggleClassBinder:function(){return Rl},toggleCollapseOnEventBinder:function(){return Cl},tooltipBinder:function(){return Nl}});var S={};s.r(S),s.d(S,{Bs4AccordionComponent:function(){return jl},Bs4ButtonComponent:function(){return ql},Bs4CarouselComponent:function(){return Ul},Bs4ColorPickerComponent:function(){return Vl},Bs4ContentsComponent:function(){return Wl},Bs4DropdownComponent:function(){return Fl},Bs4FormComponent:function(){return rc},Bs4IconComponent:function(){return Gl},Bs4ModalItemComponent:function(){return cc},Bs4NavbarComponent:function(){return ic},Bs4NotificationContainerComponent:function(){return ac},Bs4ScrollspyComponent:function(){return Yl},Bs4ShareComponent:function(){return mc},Bs4SidebarComponent:function(){return Xl},Bs4SlideshowComponent:function(){return ec},Bs4TabsComponent:function(){return oc},Bs4TaggedImageComponent:function(){return uc},Bs4ToastItemComponent:function(){return lc},Bs4ToggleButtonComponent:function(){return sc}});var _={};s.r(_);var k={};s.r(k),s.d(k,{allowedAttribute:function(){return ua},children:function(){return Io},closest:function(){return Zo},emulateTransitionEnd:function(){return bo},find:function(){return xo},findOne:function(){return Po},findShadowRoot:function(){return Co},getData:function(){return cr},getDataAttribute:function(){return wa},getDataAttributes:function(){return ya},getElementFromSelector:function(){return mo},getSelector:function(){return uo},getSelectorFromElement:function(){return po},getTransitionDurationFromElement:function(){return vo},getjQuery:function(){return ko},isElement:function(){return fo},isVisible:function(){return Eo},makeArray:function(){return wo},matches:function(){return Oo},noop:function(){return So},off:function(){return Do},offset:function(){return Ea},on:function(){return To},one:function(){return Ao},parents:function(){return No},position:function(){return Ca},prev:function(){return Bo},reflow:function(){return _o},removeData:function(){return hr},removeDataAttribute:function(){return ba},sanitizeHtml:function(){return pa},setData:function(){return lr},setDataAttribute:function(){return fa},toggleClass:function(){return Sa},trigger:function(){return Lo},triggerTransitionEnd:function(){return go},typeCheckConfig:function(){return yo}});var T={};s.r(T),s.d(T,{I18nShareComponent:function(){return vc},I18nSwitcherComponent:function(){return Kn}});var A={};s.r(A),s.d(A,{tFormatter:function(){return fc}});var D={};s.r(D),s.d(D,{ShopifyTdaInstagramComponent:function(){return wc},ShopifyTdaInstagramScrollbarComponent:function(){return _c}});var L={};s.r(L),s.d(L,{BaseApiService:function(){return Cc},FacebookApiService:function(){return kc},InstagramApiService:function(){return Sc},LocalesService:function(){return Tc},ModuleService:function(){return Ac},ShopifyApiArticleService:function(){return Dc},ShopifyApiBlogsService:function(){return Lc},ShopifyApiProductService:function(){return Oc},ShopifyApiThemesService:function(){return xc}});var O={};s.r(O);var x={};s.r(x);var P={};s.r(P),s.d(P,{BindContentComponent:function(){return Pc},ExampleBs4TabsComponent:function(){return Nc},FileTreeComponent:function(){return Zc},IconPreviewComponent:function(){return Bc},LoremIpsumComponent:function(){return Fc},ShopifyLinklistComponent:function(){return Mc}});var I=s(1304);let N;!function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(N||(N={}));s(5475);const Z=t=>{const e={}.toString.call(t).match(/\s([a-z]+)/i);return e?e[1].toLowerCase():null},B=t=>!(!t||"string"!=typeof t)&&("{"===(t=t.trim()).charAt(0)||"["===t.charAt(0)),R=t=>{if(!t||!B(t))return!1;try{const e=JSON.parse(t);return!(!Array.isArray(e)&&"object"!=typeof e)}catch(t){return!1}},F=t=>{let e=null;if(!B(t))return e;if(R(t))e=JSON.parse(t)||null;else try{e=JSON.parse(t.replace(/'/g,'"'))||null}catch(t){console.warn(t)}return e},M=t=>void 0===t,j=t=>!M(t),q=t=>j(t)&&"object"==typeof t&&null!==t,U=t=>null!=t&&t.toString?t.toString():void 0,H=t=>t?parseFloat(t):void 0,$=(Array.isArray,t=>!isNaN(parseFloat(t))&&!isNaN(t-0)),z=t=>"boolean"==typeof t,V=t=>"string"==typeof t,W=t=>{if("number"==typeof t)return t;const e=t.replace(/[^-\d.]/g,"");return $(e)?Number(e):0},G=t=>{const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t.replace(/[&<>]/g,(t=>e[t]||t))},Y=t=>{const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},X=t=>t.replace(/-([a-z0-9])/g,(t=>t[1].toUpperCase())),K=(t={},e={},...s)=>{const i=s=>{for(const i in s)s.hasOwnProperty(i)&&(t.deep&&"[object Object]"===Object.prototype.toString.call(s[i])?e[i]=K(t,e[i],s[i]):t.keepValues?void 0===e[i]&&(e[i]=s[i]):t.onlyDefined?void 0!==s[i]&&(e[i]=s[i]):t.mergeArrays&&Array.isArray(e[i])&&Array.isArray(s[i])?e[i]=[...e[i],...s[i]]:e[i]=s[i])};for(let t=0;t<s.length;t++)i(s[t]);return e},J=(t,e)=>Array.isArray(e)?t?e.map((t=>J(!0,t))):e.slice():q(e)?K({deep:t},{},e):e,Q=t=>t.constructor;class tt{constructor(t){(0,I.Z)(this,"elements",void 0),(0,I.Z)(this,"type",void 0),this.elements=t}regists(t){if(!q(t))throw new Error("Elements to register must be an object of elements");for(const e in t)if(t[e]&&"__esModule"!==e){const s=t[e];this.regist(s,e)}return this.elements}}function et(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function st(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?et(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):et(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class it{static updateOptions(t){if(!t.adapters)throw new Error("adapters are required!");if(t.adapters&&(it.adapters=st(st({},it.adapters),t.adapters),it.interfaces=Object.keys(it.adapters)),it.rootInterface=t.rootInterface||it.interfaces[0],!it.rootInterface)throw new Error("rootInterface is required!")}static tokenize(t,e){const s=[];let i,n,o={i:e,path:""};for(i=0;i<t.length;i++)n=t.charAt(i),~it.interfaces.indexOf(n)?(s.push(o),o={i:n,path:""}):o.path+=n;return s.push(o),s}static get(t,e){return it.adapters[t.i].get(e,t.path)}static set(t,e,s,i){t?it.adapters[e.i].observe(s,e.path,i):it.adapters[e.i].unobserve(s,e.path,i)}constructor(t,e,s){(0,I.Z)(this,"keypath",void 0),(0,I.Z)(this,"callback",void 0),(0,I.Z)(this,"objectPath",void 0),(0,I.Z)(this,"obj",void 0),(0,I.Z)(this,"target",void 0),(0,I.Z)(this,"key",void 0),(0,I.Z)(this,"tokens",void 0),this.keypath=e,this.callback=s,this.objectPath=[];const i=this.parse();this.key=i.key,this.tokens=i.tokens,this.obj=this.getRootObject(t),this.target=this.realize(),q(this.target)&&it.set(!0,this.key,this.target,this.callback)}parse(){let t,e;if(!it.interfaces||!it.interfaces.length)throw new Error(`[Observer] Must define at least one adapter interface. interfaces: "${JSON.stringify(it.interfaces)}" adapters: "${JSON.stringify(it.adapters)}"`);if(~it.interfaces.indexOf(this.keypath[0])?(e=this.keypath[0],t=this.keypath.substr(1)):(e=it.rootInterface,t=this.keypath),this.tokens=it.tokenize(t,e),!this.tokens.length)throw new Error("[Observer] No tokens");return this.key=this.tokens.pop(),{key:this.key,tokens:this.tokens}}realize(){let t,e,s=this.obj,i=-1;for(let n=0;n<this.tokens.length;n++)e=this.tokens[n],q(s)?(void 0!==this.objectPath[n]?(t=this.objectPath[n],s!==t&&(it.set(!1,e,t,this),it.set(!0,e,s,this),this.objectPath[n]=s)):(it.set(!0,e,s,this),this.objectPath[n]=s),s=it.get(e,s)):(-1===i&&(i=n),t=this.objectPath[n],t&&it.set(!1,e,t,this));return-1!==i&&this.objectPath.splice(i),s}sync(){let t,e;const s=this.realize();s!==this.target?(q(this.target)&&it.set(!1,this.key,this.target,this.callback),q(s)&&it.set(!0,this.key,s,this.callback),t=this.value(),this.target=s,e=this.value(),(e!==t||Array.isArray(e))&&this.callback.sync()):Array.isArray(s)&&this.callback.sync()}value(){if(q(this.target))return it.get(this.key,this.target)}setValue(t){q(this.target)&&it.adapters[this.key.i].set(this.target,this.key.path,t)}unobserve(){let t,e;for(let s=0;s<this.tokens.length;s++)e=this.tokens[s],t=this.objectPath[s],t&&it.set(!1,e,t,this);q(this.target)&&it.set(!1,this.key,this.target,this.callback)}getRootObject(t){let e,s;if(!t.$parent)return t;for(e=this.tokens.length?this.tokens[0].path:this.key.path,s=t;s.$parent&&void 0===s[e];)s=s.$parent;return s}}(0,I.Z)(it,"adapters",void 0),(0,I.Z)(it,"interfaces",[]),(0,I.Z)(it,"rootInterface",void 0);class nt extends tt{constructor(t){super(t),(0,I.Z)(this,"type","adapter")}regist(t,e,s=!1){const i=s?e||t.name:t.name||e;if(!i)throw new Error("Adapter name not found!");this.elements[i]=t;const n={adapters:this.elements};return it.updateOptions(n),this.elements}}class ot extends tt{constructor(t){super(t),(0,I.Z)(this,"type","binder")}regist(t,e,s=!1){if(!t||"function"!=typeof t.routine)return console.warn(new Error("Can not regist binder!"),t),this.elements;const i=s?e||t.name:t.name||e;return i?(this.elements[i]=t,this.elements):(console.warn(new Error("Binder name not found!"),t),this.elements)}}class rt{static getNamespaces(){return Object.keys(this.instances)}static getInstance(t="main"){const e=rt.instances[t];return e||new this(t)}static getAllInstances(){return rt.instances}static clearInstance(t="main"){const e=rt.instances[t];return e.events={},e.eventsOnce={},e}static deleteInstance(t="main"){this.clearInstance(t),delete this.instances[t]}static clearAllInstances(){const t=this.getNamespaces();for(const e of t)this.clearInstance(e)}static deleteAllInstances(){this.clearAllInstances(),this.instances={}}get namespace(){return this._namespace}constructor(t){if((0,I.Z)(this,"events",{}),(0,I.Z)(this,"eventsOnce",{}),(0,I.Z)(this,"_namespace","anonymous"),t)return rt.instances[t]||(this._namespace=t,rt.instances[t]=this),rt.instances[t]}once(t,e,s){this.eventsOnce[t]=this.eventsOnce[t]||[],void 0!==s?this.eventsOnce[t].push({cb:e.bind(s),orgCb:e,thisContext:s}):this.eventsOnce[t].push(e)}on(t,e,s){this.events[t]=this.events[t]||[],void 0!==s?this.events[t].push({cb:e.bind(s),orgCb:e,thisContext:s}):this.events[t].push(e)}off(t,e,s){if(void 0===t)return this.events={},void(this.eventsOnce={});if(void 0!==e)if(void 0!==s){if(t in this.events)for(const[i,n]of this.events[t].entries()){const o=n;o.orgCb===e&&o.thisContext===s&&this.events[t].splice(i,1)}if(t in this.eventsOnce)for(const[i,n]of this.eventsOnce[t].entries()){const o=n;o.orgCb===e&&o.thisContext===s&&this.eventsOnce[t].splice(i,1)}}else{if(t in this.events)for(const[s,i]of this.events[t].entries()){i===e&&this.events[t].splice(s,1)}if(t in this.eventsOnce)for(const[s,i]of this.eventsOnce[t].entries()){i===e&&this.eventsOnce[t].splice(s,1)}}else this.events[t]=[],this.eventsOnce[t]=[]}trigger(t,...e){if(t in this.events)for(const s of this.events[t])null!=s&&s.cb?s.cb(...e):s(...e);if(t in this.eventsOnce)for(const[s,i]of this.eventsOnce[t].entries())null!=i&&i.cb?(i.cb(...e),this.eventsOnce[t].splice(s,1)):(i(...e),this.eventsOnce[t].splice(s,1))}}(0,I.Z)(rt,"instances",{});class at{constructor(){(0,I.Z)(this,"events",rt.getInstance("lifecycle")),(0,I.Z)(this,"timeoutDelay",5e3),(0,I.Z)(this,"debug",!1),(0,I.Z)(this,"routerEvents",rt.getInstance()),(0,I.Z)(this,"timeout",null),(0,I.Z)(this,"components",{}),this.addEventListeners(),this.reset(),at.instance=this}static getInstance(){return at.instance||(at.instance=new at),at.instance}getEmpty(){return{components:[]}}addEventListeners(){this.events.on("Component:connected",(t=>{this.resetTimeout(),this.components[t.tagName]=this.components[t.tagName]||this.getEmpty(),this.components[t.tagName].components.push(t.component)})),this.events.on("Component:disconnected",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:afterBind",(()=>{this.resetTimeout(),this.checkStates()})),this.events.on("Component:error",((t,e)=>{this.onError(t,e)})),this.routerEvents.on("newPageReady",((t,e,s,i,n,o,r)=>{this.debug&&console.debug("newPageReady",t,e,s,"firstPageLoad",r),r||this.reset()}))}getState(t){let e=0,s=0;for(const i of this.components[t].components)i.connected&&(e++,i.bound&&s++);return{connected:e,bound:s}}getStates(){const t={};for(const e in this.components){const s=this.getState(e);t[e]={state:s,components:this.components[e].components}}return t}checkStates(){let t=!0;const e=this.getStates();for(const s in e){const i=e[s].state;if(i.connected!==i.bound){t=!1;break}}return t&&this.onAllBound(),{states:e,allBound:t}}onAllBound(){this.clearTimeout(),this.events.trigger("ComponentLifecycle:allBound",this.components),this.debug&&console.debug("[ComponentLifecycle] All components bound!")}onError(t,e){this.clearTimeout(),console.error(`The component "${e.tagName}" has caused an error:`,t),this.events.trigger("ComponentLifecycle:error",t,e)}onTimeout(){this.clearTimeout();const t=this.getStates();if(Object.keys(t).length<=0)return void console.warn("No component found");let e="[ComponentLifecycle] Timeout! {count} component(s) takes too long!\nUnfinished components:\n",s=0;for(const i in t){const n=t[i].state;n.connected!==n.bound&&(s++,e+=`${i}: ${JSON.stringify(t[i].state,null,2)} + \n`)}e=e.replace("{count}",s.toString()),this.events.trigger("ComponentLifecycle:error",new Error(e),{})}clearTimeout(){this.timeout&&window.clearTimeout(this.timeout)}resetTimeout(){return this.debug&&console.debug("[ComponentLifecycle] reset timeout.."),this.clearTimeout(),this.timeout=window.setTimeout(this.onTimeout.bind(this),this.timeoutDelay),this.timeout}reset(){this.debug&&console.debug("[ComponentLifecycle] reset!"),this.components={},this.resetTimeout()}}(0,I.Z)(at,"instance",void 0);class lt extends tt{constructor(t){super(t),(0,I.Z)(this,"type","components")}regist(t,e,s=!1){const i=s?e||t.tagName:t.tagName||e;return i?(this.elements[i]=t,this.elements):(console.warn(new Error("Component name not found!"),t),this.elements)}}class ct{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of CoreService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of CoreService already defined!");return this._options=t,this.instance=new this,this.instance}}(0,I.Z)(ct,"_options",void 0),(0,I.Z)(ct,"instance",void 0);class ht extends tt{constructor(t){super(t),(0,I.Z)(this,"type","formatter")}regist(t,e,s=!1){const i=s?e||t.name:t.name||e;if(!i)throw new Error("Formatter name not found!");return this.elements[i]=t,this.elements}}class dt{static setRequestHeaderEachRequest(t,e){this._requestHeadersEachRequest.push({name:t,value:e})}static async getJSON(t,e,s={},i={}){return this.fetch(t,"GET",e,"json",s,i)}static async post(t,e,s,i={},n={}){return this.fetch(t,"POST",e,s,i,n)}static async delete(t,e,s,i={},n={}){return this.fetch(t,"DELETE",e,s,i,n)}static async put(t,e,s,i={},n={}){return this.fetch(t,"PUT",e,s,i,n)}static async get(t,e,s,i={},n={}){return this.fetch(t,"GET",e,s,i,n)}static parseDataType(t){const e={};let s="application/x-www-form-urlencoded",i="*/*";switch(t){case"script":s="application/javascript";break;case"json":s="application/json",i="application/json, text/javascript";break;case"xml":s="application/xml",i="application/xml, text/xml";break;case"text":s="text/plain",i="text/plain";break;case"html":s="text/html",i="text/html";break;case"form":s="application/x-www-form-urlencoded"}return s&&(e["Content-Type"]=s,e.Accept=i),e}static async fetch(t,e="GET",s={},i,n={},o={}){if(!fetch)throw new Error("Your browser does not support the fetch API, use xhr instead or install a polyfill.");let r;for(const t of this._requestHeadersEachRequest)n[t.name]=t.value;i&&(n=K({deep:!1},n,this.parseDataType(i))),o.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");const a=o.cache?o.cache:"default";if("GET"===e&&s){if(new URLSearchParams(s).toString()){const e=-1!==t.indexOf("?")?"&":"?";t=t+e+new URLSearchParams(s).toString()}}else s&&(r="form"===i?new URLSearchParams(s):JSON.stringify(s));const l=await fetch(t,{credentials:"same-origin",cache:a,method:e,body:r,headers:n,mode:o.mode||"cors"});let c=await l.text();if("string"==typeof c&&R(c)&&(c=JSON.parse(c)),"string"==typeof c)switch(c){case"null":c=null;break;case"true":c=!0;break;case"false":c=!1;break;case"undefined":c=void 0}return{status:l.status,headers:l.headers,ok:l.ok,redirected:l.redirected,statusText:l.statusText,trailer:l.trailer,type:l.type,url:l.url,arrayBuffer:l.arrayBuffer,blob:l.blob,bodyUsed:l.bodyUsed,clone:l.clone,formData:l.formData,text:l.text,body:c}}}(0,I.Z)(dt,"_requestHeadersEachRequest",[]);class ut{constructor(){(0,I.Z)(this,"name","."),(0,I.Z)(this,"counter",0),(0,I.Z)(this,"weakmap",{})}weakReference(t){if(!t.hasOwnProperty("__rv")){const e=this.counter++;Object.defineProperty(t,"__rv",{value:e})}return this.weakmap[t.__rv]||(this.weakmap[t.__rv]={callbacks:{}}),this.weakmap[t.__rv]}cleanupWeakReference(t,e){Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length||delete this.weakmap[e]}stubFunction(t,e){const s=t[e],i=this.weakReference(t),n=this.weakmap;t[e]=(...e)=>{const o=s.apply(t,e);return Object.keys(i.pointers).forEach((t=>{const e=i.pointers[t];n[t]&&Array.isArray(n[t].callbacks[e])&&n[t].callbacks[e].forEach((t=>{t.sync()}))})),o}}observeMutations(t,e,s){if(Array.isArray(t)){const i=this.weakReference(t);i.pointers||(i.pointers={},ut.ARRAY_METHODS.forEach((e=>{this.stubFunction(t,e)}))),i.pointers[e]||(i.pointers[e]=[]),-1===i.pointers[e].indexOf(s)&&i.pointers[e].push(s)}}unobserveMutations(t,e,s){if(Array.isArray(t)&&null!=t.__rv){const i=this.weakmap[t.__rv];if(i){const n=i.pointers[e];if(n){const o=n.indexOf(s);o>-1&&n.splice(o,1),n.length||delete i.pointers[e],this.cleanupWeakReference(i,t.__rv)}}}}observe(t,e,s){let i;const n=this.weakReference(t).callbacks;if(!n[e]){n[e]=[];const s=Object.getOwnPropertyDescriptor(t,e);s&&(s.get||s.set||!s.configurable)||(i=t[e],Object.defineProperty(t,e,{enumerable:!0,get:()=>i,set:s=>{if(s!==i){this.unobserveMutations(i,t.__rv,e),i=s;const n=this.weakmap[t.__rv];if(n){const i=n.callbacks[e];i&&i.forEach((t=>{t.sync()})),this.observeMutations(s,t.__rv,e)}}}}))}-1===n[e].indexOf(s)&&n[e].push(s),this.observeMutations(t[e],t.__rv,e)}unobserve(t,e,s){const i=this.weakmap[t.__rv];if(i){const n=i.callbacks[e];if(n){const o=n.indexOf(s);o>-1&&(n.splice(o,1),n.length||(delete i.callbacks[e],this.unobserveMutations(t[e],t.__rv,e))),this.cleanupWeakReference(i,t.__rv)}}}get(t,e){return t[e]}set(t,e,s){t[e]=s}}(0,I.Z)(ut,"ARRAY_METHODS",["push","pop","shift","unshift","sort","reverse","splice"]);const pt=new ut,mt={name:"add-class",function:!0,priority:1e3,bind(t){this.customData={staticClasses:t.className.split(" ")}},unbind(){delete this.customData},routine(t,e){e?-1===this.customData.staticClasses.indexOf(e)&&(t.className=this.customData.staticClasses.join(" ")+" "+e):t.className=this.customData.staticClasses.join(" "),t.className=t.className.trim()}},vt={name:"animate-*",function:!0,priority:1e3,bind(t){const e=this.args[0];t.classList.add(e)},unbind(){},routine(t,e){const s=this.args[0];e?(t.classList.add(s+"-start"),t.classList.remove(s+"-done")):(t.classList.remove(s+"-start"),t.classList.add(s+"-done"))}},gt={name:"assign",routine(t,e){if("object"==typeof e)return K({deep:!1},this.view.models,e);console.warn("Value must be an object or propertyName is required")}},ft={name:"assign-*",routine(t,e){const s=X(this.args[0].trim());this.view.models[s]=e}},bt={name:"block",block:!0,routine(){}},yt=t=>{let e=t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=F(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e},wt=t=>{const e=J(!1,t.dataset);for(const t in e)e[t]&&(e[t]=yt(e[t]));return e},Et=t=>{if(!t.hasChildNodes())return!1;const e=t.childNodes;var s;if(1===e.length&&3===e[0].nodeType&&(!e[0].nodeValue||""===(null===(s=e[0].nodeValue)||void 0===s?void 0:s.trim())))return!1;return!0},Ct=t=>{const e=[];if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){const s=t.options;for(const t in s)if(s[t]){const i=s[t];i.selected&&e.push(i.value)}return e}return t.hasAttribute("contenteditable")?t.innerHTML:t.value},St=t=>!(t=>t.hasAttribute("hidden")||"none"===t.style.display||"hidden"===t.style.visibility||"none"===window.getComputedStyle(t).display||"hidden"===window.getComputedStyle(t).visibility)(t),_t=async t=>new Promise((e=>{let s;const i=()=>{void 0!==s&&clearTimeout(s),s=setTimeout((()=>{e()}),100)};t.addEventListener("scroll",i),i()})),kt=async(t,e,s,i="vertical",n="smooth")=>{s||(s=window);const o=_t(s);let r=0,a=0;if("number"==typeof s.pageYOffset)"vertical"===i?r=t.getBoundingClientRect().top+s.pageYOffset-e:a=t.getBoundingClientRect().left+s.pageXOffset-e;else if("vertical"===i){const i=W(window.getComputedStyle(s).marginTop);r=t.offsetTop-e-i}else{const i=W(window.getComputedStyle(s).marginLeft);a=t.offsetLeft-e-i}return s.scroll({behavior:n,left:a,top:r}),o},Tt=async(t,e,s="vertical",i="smooth")=>{let n,o;if(!t)return;const r=_t(t);if("vertical"===s||"both"===s)switch(e){case"start":n=0;break;case"end":n=t.scrollHeight||t.innerHeight;break;default:n=e}if("horizontal"===s||"both"===s)switch(e){case"start":o=0;break;case"end":o=t.scrollWidth||t.innerWidth;break;default:o=e}return void 0!==n&&void 0!==o?t.scroll({behavior:i,top:n,left:o}):void 0!==n?t.scroll({behavior:i,top:n}):void 0!==o&&t.scroll({behavior:i,left:o}),r},At=t=>t.target||t.currentTarget||t.relatedTarget||t.delegateTarget||t.fromElement,Dt=()=>{const t=Math.max(document.documentElement?document.documentElement.clientWidth:0,window.innerWidth||0);return{h:Math.max(document.documentElement?document.documentElement.clientHeight:0,window.innerHeight||0),w:t}},Lt=t=>{do{t+=~~(1e3*Math.random())}while(document.getElementById(t));return t},Ot=(t,e=!1,s=!1)=>{const i=-1!==t.localName.indexOf("-");if(i&&e&&customElements){const e=customElements.get(t.localName);return!!e&&(!s||e===t.constructor)}return i},xt=async t=>(await customElements.whenDefined(t.localName),t),Pt=t=>{if(!t)return-1;let e=0;do{e++,t=t.previousElementSibling}while(t);return e},It={name:"checked",publishes:!0,priority:2e3,bind(t){this.customData={onChange:this.publish.bind(this)},t.addEventListener("change",this.customData.onChange)},unbind(t){t.removeEventListener(this.customData.event,this.customData.onChange)},routine(t,e){const s=this.getValue(t);"radio"===t.type?t.checked=U(s)===U(e):s!==e&&(t.checked=!!e)},getValue:Ct},Nt={name:"class-*",routine(t,e){if(null===this.args)throw new Error("args is null");const s=t.className.split(" ").filter((t=>""!==t)),i=this.args[0].trim(),n=s.indexOf(i);-1===n?e&&(t.className+=` ${i}`):e||(t.className=s.filter(((t,e)=>e!==n)).join(" "))}},Zt=()=>{const t={},e=new Promise(((e,s)=>{t.resolve=e,t.reject=s}));return t.promise=e,t},Bt=t=>{let e,s,i=null,n=new Promise(((t,i)=>{e=t,s=i}));return(...o)=>(i&&cancelAnimationFrame(i),i=window.requestAnimationFrame((()=>{try{e(t(...o))}catch(t){s(t)}i=null,n=new Promise(((t,i)=>{e=t,s=i}))})),n)},Rt=(t,e=100)=>{let s,i,n=null,o=new Promise(((t,e)=>{s=t,i=e}));return(...r)=>{if(null===n){n=window.setTimeout((()=>{n=null,o=new Promise(((t,e)=>{s=t,i=e}))}),e);try{s(t(...r))}catch(t){i(t)}}return o}};let Ft=1;const Mt={};let jt=!1;const qt="setImmediate$"+Math.random()+"$";function Ut(t){delete Mt[t]}function Ht(t){if(jt)setTimeout(Ht,0,t);else{const e=Mt[t];if(e){jt=!0;try{!function(t){(0,t.callback)(...t.args)}(e)}finally{Ut(t),jt=!1}}}}window.addEventListener("message",(function(t){t.source===window&&"string"==typeof t.data&&0===t.data.indexOf(qt)&&Ht(+t.data.slice(qt.length))}),!1);window.setImmediate,window.clearImmediate;const $t=()=>{const t=navigator.userAgent,e=window.navigator.platform,s={windows7:/Windows NT 6.1/,windows8:/Windows NT 6.2/,windows81:/Windows NT 6.3/,windows10:/Windows NT 10.0/,windows:/windows/i,windowsPhone:/trident/i,android:/android/i,ios:/(ipad|iphone|ipod)/i,linux:/(linux)/i,unix:/(openbsd|freebsd|netbsd)/i,osxCatalina:/macintosh.+10(_|\.)15/i,osxBigSur:/macintosh.+((10(_|\.)16)|(11(_|\.)))/i,osx:/macintosh/i,mac:/mac/i},i={linux:/Linux/i,unix:/(FreeBSD|OpenBSD|X11|SunOS)/i,webOS:/webOS/i,playstation3:/playstation 3/i,playstation4:/playstation 4/i,PlaystationPortable:/psp/i,newNintendo3Ds:/new nintendo 3ds/i,nintendoDsi:/nintendo dsi/i,nintendo3Ds:/nintendo 3ds/i,nintendoWii:/nintendo wii/i,nintendoWiiU:/nintendo wiiu/i,palmos:/palmos/i,symbian:/(nokia_series_40|s60|symbian)/i};for(const e of Object.keys(s)){if(s[e].test(t))return"mac"===e&&"ontouchend"in document?"ios":e}for(const t of Object.keys(i)){if(i[t].test(e))return t}return"Unknown"},zt=()=>{const t=$t();let e=!1,s=!1,i=!1;switch(t){case"windows":case"windows10":case"windows7":case"windows8":case"windows81":case"osxBigSur":case"osxCatalina":case"osx":case"mac":case"linux":case"unix":s=!0;break;case"ios":case"android":case"windowsPhone":case"symbian":e=!0}return-1===t.indexOf("playstation")&&-1===t.indexOf("nintendo")||(i=!0),{isMobile:e,isDesktop:s,isGameConsole:i}},Vt=t=>{if(!t)return window.location;const e=document.createElement("a");return e.href=t,e},Wt=t=>{const e=Vt(t),s=Vt().hostname;return e.hostname===s?e.pathname+e.search+e.hash:Gt(t)},Gt=t=>{const e=Vt(t);return e.protocol+"//"+e.host+e.pathname+e.search+e.hash},Yt=t=>{if(t){const e=Vt(),s=e.pathname,i=e.hostname,n=Vt(t),o=n.pathname;return i===n.hostname&&s===o}return!1},Xt=t=>t.replace(/#.*/,""),Kt=(t,e)=>{const s=Vt(e),i=void 0!==t?t:s.port,n=s.protocol;return""!==i?Number(i):"http:"===n?80:"https:"===n?443:void 0},Jt=t=>{if((e=t)&&(new RegExp("^(?:[a-z]+:)?//","i").test(e)||e.startsWith("mailto:")||e.startsWith("tel:")||e.startsWith("fax:"))){const e=Vt(),s=e.protocol+"//"+e.hostname;let i=!0;return t.startsWith(s)&&(i=!1),i}var e;return!1},Qt={name:"co-*",publishes:!0,_routine(t,e){const s=this.args[0].trim();t.setBinderAttribute?void 0!==e&&t.setBinderAttribute(s,e):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},async routine(t,e){Ot(t,!0,!0)?Qt._routine.call(this,t,e):Ot(t,!0)?(await xt(t),Qt._routine.call(this,t,e)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},_bind(t){const e=this.args[0].trim();"function"==typeof t.observeAttribute?this.customData={componentAttributeObserver:t.observeAttribute(e,{sync:()=>{this.publish()}})}:console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},async bind(t){Ot(t,!0,!0)?Qt._bind.call(this,t):Ot(t,!0)?(await xt(t),Qt._bind.call(this,t)):console.warn("[componentAttributeBinder] You can only use this binder on Riba components",t)},unbind(){var t,e;null===(t=this.customData)||void 0===t||null===(e=t.componentAttributeObserver)||void 0===e||e.unobserve()},getValue(t){const e=this.args[0].trim();return t.getBinderAttribute(e)}},te={name:"style-*",routine(t,e){const s=this.args[0];null==e||""===e?t.style.removeProperty(s.toString()):t.style.setProperty(s.toString(),e)}},ee={name:"style",routine(t,e){if(e)if("string"==typeof e)t.setAttribute("style",e);else for(const s of Object.keys(e))t.style.setProperty(s.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),e[s]||null);else for(const e of Object.keys(t.style))t.style.removeProperty(e)}},se={name:"tag-*",priority:-1e3,bind(t){this.customData={originalTag:t.tagName.toLowerCase()}},routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.el.tagName.toLowerCase();let i;if(i=e?this.args[0].trim().toLowerCase():this.customData.originalTag.toLowerCase(),s!==i){const e=document.createElement(i);for(;t.childNodes.length>0;)t.firstChild&&e.appendChild(t.firstChild);const s=Array.prototype.slice.call(t.attributes);for(const t of s)console.debug("attribute",t),e.setAttribute(t.name,t.value);t.parentNode?t.parentNode.replaceChild(e,t):console.warn("No parent"),this.el=e}}},ie={name:"enabled",routine(t,e){t.disabled=!e}},ne={name:"flex-sort-childs",priority:9e4,routine(t,e){const s=Array.from(t.children);s.sort(((t,s)=>t.dataset.sortBy&&s.dataset.sortBy?t.dataset.sortBy<s.dataset.sortBy?e?1:-1:t.dataset.sortBy>s.dataset.sortBy?e?-1:1:0:0));for(let t=0;t<s.length;t++){s[t].style.order=t.toString()}}},oe={name:"disabled",routine(t,e){t.disabled=!!e}},re={name:"maxlength",bind(){this.customData={}},routine(t,e){"number"==typeof e?(t.setAttribute("maxlength",e.toString()),t.maxLength=e):t.removeAttribute("maxlength")}},ae={name:"not-draggable",bind(){this.customData={}},routine(t){t.addEventListener("dragstart",(t=>(t.preventDefault(),!1)))}},le={name:"on-*",function:!0,priority:1e3,bind(){this.customData={handler:null}},unbind(t){if(this.customData.handler){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.customData.handler)}},routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.args[0],i={passive:"true"===this.el.dataset.passive};this.customData.handler&&t.removeEventListener(s,this.customData.handler,i),this.customData.handler=this.eventHandler(e,t).bind(this.customData),t.addEventListener(s,this.customData.handler,i)}},ce={name:"parent",routine(){},_bind(t){t.setBinderAttribute?t.setBinderAttribute("$parent",this.view.models):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName,customElements.get(t.localName))},async bind(t){Ot(t,!0,!0)?ce._bind.call(this,t):Ot(t,!0)?(console.debug(`[parentBinder] CustomElement ${t.localName} has been defined, but not yet upgraded. Waiting for upgrade.`,t),await xt(t),ce._bind.call(this,t)):console.warn("[parentBinder] You can only use this binder on Riba components",t.localName)}},he={name:"readonly",bind(){this.customData={}},routine(t,e){e=!!e,t.readOnly=e,e?t.setAttribute("readonly",""):t.removeAttribute("readonly")}},de={name:"remove-class",bind(t){this.customData={staticClassesString:t.className}},routine(t,e){const s=new RegExp(`\\b${e}\\b`,"g");t.className=this.customData.staticClassesString.replace(s,"").trim()}},ue=/^'.*'$|^".*"$/,pe=/((?:'[^']*')*(?:(?:[^|']*(?:'[^']*')+[^|']*)+|[^|]+))|^$/g;function me(t){let e=0,s=t;if(void 0===t)return{type:e,value:void 0};if(ue.test(t)){s=t.slice(1,-1);const e=F(s);s=e||s}else if("true"===t)s=!0;else if("false"===t)s=!1;else if("null"===t)s=null;else if("undefined"===t)s=void 0;else if(""===t)s=void 0;else if(isNaN(Number(t)))if(B(s)){const t=F(s);s=t||s}else e=1;else s=Number(t);return{type:e,value:s}}function ve(t,e){let s=null;const i=t.length;let n=0,o=0;const r=e[0],a=e[1];for(;o<i;){if(n=t.indexOf(r,o),n<0){s&&s.push({type:0,value:t.slice(o)});break}{if(s=s||[],n>0&&o<n&&s.push({type:0,value:t.slice(o,n)}),o=n+r.length,n=t.indexOf(a,o),n<0){const e=t.slice(o-r.length),i=s[s.length-1];i&&0===i.type?i.value+=e:s.push({type:0,value:e});break}const e=t.slice(o,n).trim();s.push({type:1,value:e}),o=n+a.length}}return s}function ge(t,e,s){let i=!1;if((e=e).nodeType===Node.TEXT_NODE){let n=null;if(e.data&&(n=ve(e.data,s)),n&&n.length){for(let s=0;s<n.length;s++){const i=n[s],o=document.createTextNode(i.value);e.parentNode&&o&&e&&e.parentNode.insertBefore(o,e),1===i.type&&t.buildBinding(o,null,i.value,_e.mustacheTextBinder,null)}e.parentNode&&e.parentNode.removeChild(e)}i=!0}else e.nodeType===Node.ELEMENT_NODE&&(i=t.traverse(e));if(!i&&e.childNodes&&e.childNodes.length>0)for(let i=0;i<e.childNodes.length;i++){const n=e.childNodes[i];n&&ge(t,n,s)}}const fe={name:"json",read(t,e=2,s=!0){const i=JSON.stringify(t,null,e);return s&&i?i.replace(/'/g,"&#39;"):i}},be={name:"*",bind(){},unbind(){delete this.customData},routine(t,e){if(!this.type)throw new Error("Can't set attribute of "+this.type);const s=t.getAttribute(this.type);let i;switch(typeof e){case"string":case"number":case"boolean":i=e;break;case"object":null===e?e=null:i=fe.read(e,0);break;default:i=e}null!=i?String(s).toString()!==String(i).toString()&&(t.setAttribute(this.type,i),t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}}))):(t.removeAttribute(this.type),t.dispatchEvent(new CustomEvent("binder-changed",{detail:{name:this.type,newValue:i,oldValue:s}})))}};class ye{constructor(t,e,s,i){(0,I.Z)(this,"binder",void 0),(0,I.Z)(this,"component",void 0),(0,I.Z)(this,"formatter",void 0),(0,I.Z)(this,"adapter",void 0),this.binder=new ot(t),this.component=new lt(e),this.formatter=new ht(s),this.adapter=new nt(i)}regist(t){if(!t)throw console.error(t),new Error("The Riba module is falsy!");t.binders&&this.binder.regists(t.binders),t.components&&this.component.regists(t.components),t.formatters&&this.formatter.regists(t.formatters),t.adapters&&this.adapter.regists(t.adapters)}}function we(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Ee(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?we(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):we(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class Ce{static handler(t,e,s,i){if(!this||!this.call){const t=new Error(`[rv-${s.type}="${s.keypath}"] Event handler "${s.keypath}" not found!"`);throw console.error(t,s,i,s.view.models),t}this.call(t,e,s.view.models,i)}set prefix(t){if(Array.isArray(t)){this._prefix=[],this._fullPrefix=[];for(const e of t)this._prefix.push(e),this._fullPrefix.push(e+"-")}}get prefix(){return this._prefix}get fullPrefix(){return this._fullPrefix}constructor(){if((0,I.Z)(this,"module",void 0),(0,I.Z)(this,"lifecycle",at.getInstance()),(0,I.Z)(this,"binders",{}),(0,I.Z)(this,"components",{}),(0,I.Z)(this,"formatters",{}),(0,I.Z)(this,"adapters",{}),(0,I.Z)(this,"parseTemplate",ve),(0,I.Z)(this,"parseType",me),(0,I.Z)(this,"templateDelimiters",["{","}"]),(0,I.Z)(this,"rootInterface","."),(0,I.Z)(this,"preloadData",!0),(0,I.Z)(this,"removeBinderAttributes",!0),(0,I.Z)(this,"blockNodeNames",["SCRIPT","STYLE","TEMPLATE","CODE"]),(0,I.Z)(this,"blockUnknownCustomElements",!0),(0,I.Z)(this,"_prefix",["rv"]),(0,I.Z)(this,"_fullPrefix",["rv-"]),this.module=new ye(this.binders,this.components,this.formatters,this.adapters),Ce.instance)return Ce.instance;Ce.instance=this}configure(t){if(t)for(const[e,s]of Object.entries(t))switch(e){case"binders":this.binders=Ee(Ee({},this.binders),s);break;case"formatters":this.formatters=Ee(Ee({},this.formatters),s);break;case"components":this.components=Ee(Ee({},this.components),s);break;case"adapters":this.adapters=Ee(Ee({},this.adapters),s);break;case"prefix":this.prefix=s;break;case"parseTemplate":this.parseTemplate=s;break;case"parseType":this.parseType=s;break;case"templateDelimiters":this.templateDelimiters=s;break;case"rootInterface":this.rootInterface=s;break;case"preloadData":this.preloadData=s;break;case"blockNodeNames":this.blockNodeNames=s;break;case"blockUnknownCustomElements":this.blockUnknownCustomElements=Boolean(s);break;default:console.warn("Option not supported",e,s)}}getViewOptions(t){const e={adapters:{},binders:{},components:{},formatters:{},attributeBinders:{},rootInterface:{}};if(t&&(e.binders=Ee(Ee({},e.binders),t.binders),e.formatters=Ee(Ee({},e.formatters),t.formatters),e.components=Ee(Ee({},e.components),t.components),e.adapters=Ee(Ee({},e.adapters),t.adapters)),null!=t&&t.prefix&&Array.isArray(null==t?void 0:t.prefix)){e.prefix=[],e.fullPrefix=[];for(const s of t.prefix)e.prefix.push(s),e.fullPrefix.push(s+"-")}else e.prefix=this.prefix,e.fullPrefix=this.fullPrefix;return e.templateDelimiters=(null==t?void 0:t.templateDelimiters)||this.templateDelimiters,e.rootInterface=(null==t?void 0:t.rootInterface)||this.rootInterface,e.removeBinderAttributes="boolean"==typeof(null==t?void 0:t.removeBinderAttributes)?t.removeBinderAttributes:this.removeBinderAttributes,e.blockNodeNames=(null==t?void 0:t.blockNodeNames)||this.blockNodeNames,e.preloadData="boolean"==typeof(null==t?void 0:t.preloadData)?t.preloadData:this.preloadData,e.handler=(null==t?void 0:t.handler)||Ce.handler,e.binders=Ee(Ee({},this.binders),e.binders),e.formatters=Ee(Ee({},this.formatters),e.formatters),e.components=Ee(Ee({},this.components),e.components),e.adapters=Ee(Ee({},this.adapters),e.adapters),e.binders&&(e.attributeBinders=Object.keys(e.binders).filter((t=>t.indexOf("*")>=1))),e}bind(t,e,s){const i=this.getViewOptions(s);e=e||Object.create(null),it.updateOptions(i);const n=new _e(t,e,i);return n.bind(),n}}(0,I.Z)(Ce,"fallbackBinder",be),(0,I.Z)(Ce,"instance",void 0),window.Riba=Ce;class Se{constructor(t,e,s,i,n,o,r){(0,I.Z)(this,"value",void 0),(0,I.Z)(this,"observer",void 0),(0,I.Z)(this,"view",void 0),(0,I.Z)(this,"el",void 0),(0,I.Z)(this,"type",void 0),(0,I.Z)(this,"binder",void 0),(0,I.Z)(this,"formatters",void 0),(0,I.Z)(this,"formatterObservers",{}),(0,I.Z)(this,"keypath",void 0),(0,I.Z)(this,"args",void 0),(0,I.Z)(this,"model",void 0),(0,I.Z)(this,"marker",void 0),(0,I.Z)(this,"customData",void 0),this.view=t,this.el=e,this.type=s,this.keypath=i,this.binder=n,this.formatters=o,this.model=void 0,this.customData={},this.args=r&&s?this.getStarArguments(r,s):new Array}observe(t,e,s){return new it(t,e,s)}parseTarget(){if(this.keypath){const t=me(this.keypath);if(0===t.type)this.value=t.value;else{if(1!==t.type)throw new Error(`[${this.binder.name}] Unknown type in token`);this.observer=this.observe(this.view.models,this.keypath,this),this.model=this.observer.target}}else this.value=void 0}getIterationAlias(t){return"%"+t+"%"}parseFormatterArguments(t,e){return t.map(me).map((({type:t,value:s},i)=>{if(0===t){return s}if(1===t){const t=s;this.formatterObservers[e]||(this.formatterObservers[e]={});let n=this.formatterObservers[e][i];return n||(n=this.observe(this.view.models,t,this),this.formatterObservers[e][i]=n),n.value()}throw new Error(`[${this.binder.name}] Unknown argument type`)}))}formattedValue(t,e=0){if(null===this.formatters)throw new Error(`[${this.binder.name} formatters is null`);let s=!1;const i=e?this.formatters.slice(e):this.formatters;return i.reduce(((e,n,o)=>{if(s)return e;const r=n.match(Se.FORMATTER_ARGS);if(null===r)return console.warn(new Error(`[${this.binder.name}] No args matched with regex "FORMATTER_ARGS"!\nvalue: ${JSON.stringify(t)}\nresult: ${JSON.stringify(e)}\ndeclaration: ${JSON.stringify(n)}\nindex: ${o}\n`)),e;const a=r.shift();if(!a)throw new Error(`[${this.binder.name}] No formatter id found in args!`);if(!this.view.options.formatters)throw new Error(`[${this.binder.name}] No formatters are defined!`);const l=this.view.options.formatters[a];if(!l)throw new Error(`[${this.binder.name}] No formatters with id "${a}" found!`);const c=this.parseFormatterArguments(r,o);return l&&"function"==typeof l.read&&(e=l.read.apply(this.model,[e,...c])),o<i.length-1&&e&&"function"==typeof e.then&&"function"==typeof e.catch?(s=!0,e.then((t=>this.formattedValue(t,o+1)))):e}),t)}eventHandler(t,e){const s=this,i=s.view.options.handler;return n=>{if(!i)throw new Error("No handler defined in binding.view.options.handler");i.call(t,this,n,s,e)}}set(t){if(null!==this.binder){try{t=this.formattedValue(t)}catch(e){return console.error(e),t}this.binder&&"function"==typeof this.binder.routine&&(t&&"function"==typeof t.then&&"function"==typeof t.catch?t.then((t=>{this.binder.routine.call(this,this.el,t)})).catch((t=>{console.error(t)})):this.binder.routine.call(this,this.el,t))}else console.warn(new Error("Binder is null"),this)}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){if(null===this.formatters)throw new Error("formatters is null");const t=this.formatters.reduceRight(((t,e,s)=>{const i=e.split(Se.FORMATTER_SPLIT),n=i.shift();if(!n)throw new Error("id not defined");if(!this.view.options.formatters)return;const o=this.view.options.formatters[n],r=this.parseFormatterArguments(i,s);return o&&"function"==typeof o.publish&&(t=o.publish(t,...r)),t}),this.getValue(this.el));this.observer.setValue(t)}}bind(){if(this.parseTarget(),this.binder&&this.binder.bind){if("function"!=typeof this.binder.bind)throw new Error("the method bind is not a function");this.binder.bind.call(this,this.el)}this.view.options.preloadData&&this.sync()}unbind(){this.binder?(this.binder.unbind&&this.binder.unbind.call(this,this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach((t=>{const e=this.formatterObservers[t];Object.keys(e).forEach((t=>{e[t].unobserve()}))})),this.formatterObservers={}):console.warn(new Error("Binder is not defined"),this)}update(t={}){if(this.observer&&(this.model=this.observer.target),null===this.binder)throw new Error("binder is null");"function"==typeof this.binder.update&&this.binder.update.call(this,t)}getValue(t){if(null===this.binder)throw new Error("binder is null");return"function"==typeof this.binder.getValue?this.binder.getValue.call(this,t):Ct(t)}getStarArguments(t,e){const s=new RegExp(`^${t.replace(/\*/g,"(.+)")}$`),i=e.match(s);return i&&i.slice(1)||[]}}(0,I.Z)(Se,"FORMATTER_ARGS",/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g),(0,I.Z)(Se,"FORMATTER_SPLIT",/\s+/);class _e{static create(t,e,s){var i;const n=t.el.cloneNode(!0),o=new _e(n,e,t.view.options);return o.bind(),null!=t&&null!==(i=t.marker)&&void 0!==i&&i.parentNode?t.marker.parentNode.insertBefore(n,s):console.warn("[View]: No parent node for binding!"),o}constructor(t,e,s){(0,I.Z)(this,"els",void 0),(0,I.Z)(this,"models",void 0),(0,I.Z)(this,"options",void 0),(0,I.Z)(this,"bindings",[]),(0,I.Z)(this,"webComponents",[]),Array.isArray(t)?this.els=t:this.els=[t],this.models=e,this.options=s,this.build()}registComponents(){for(const t in this.options.components)if(this.options.components[t]&&!customElements.get(t)){const e=this.options.components[t];this.registComponent(e,t)}}bind(){this.bindings.forEach((t=>{t.bind()}))}unbind(){Array.isArray(this.bindings)&&this.bindings.forEach((t=>{t.unbind(),t.el,this.options.removeBinderAttributes})),Array.isArray(this.webComponents)&&this.webComponents.forEach((t=>{"function"==typeof t.unbind&&t.unbind()}))}sync(){this.bindings.forEach((t=>{t.sync&&t.sync()}))}publish(){this.bindings.forEach((t=>{t.binder&&t.binder.publishes&&t.publish&&t.publish()}))}update(t={}){Object.keys(t).forEach((e=>{this.models[e]=t[e]}));for(const e of this.bindings)e.update(t)}build(){if(this.bindings=[],!this.options.templateDelimiters)throw new Error("templateDelimiters required");const t=this.els;for(let e=0;e<t.length;e++){const s=t[e];s&&ge(this,s,this.options.templateDelimiters)}this.bindings.sort(_e.bindingComparator)}startsWithPrefix(t){const e=this.options.fullPrefix;if(!e)throw new Error("prefix is required");for(const s of e)if(t.startsWith(s))return s}traverse(t){let e=-1!==this.options.blockNodeNames.indexOf(t.nodeName);const s=t.attributes,i=[],n=this.options.attributeBinders;if(s&&this.options.binders){for(let e=0,o=s.length;e<o;e++){let o=null,r=null,a=null;const l=s[e],c=this.startsWithPrefix(l.name);if(c){if(o=l.name.slice(c.length),this.options.binders[o]&&(r=this.options.binders[o]),null===r)for(let t=0;t<n.length;t++){a=n[t];if(new RegExp(`^${a.replace(/\*/g,".+")}$`).test(o)){r=this.options.binders[a];break}}if(null===r&&(this.options.binders["*"]?(r=this.options.binders["*"],a="*"):r=Ce.fallbackBinder),r.block)return this.buildBinding(t,o,l.value,r,a),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(l.name),!0;i.push({attr:l,binder:r,nodeName:o,identifier:a})}}for(let e=0;e<i.length;e++){const s=i[e];this.buildBinding(t,s.nodeName,s.attr.value,s.binder,s.identifier),t.removeAttribute&&this.options.removeBinderAttributes&&t.removeAttribute(s.attr.name)}}if(!e&&!t._bound&&this.options.components){const s=t.nodeName.toLowerCase(),i=this.options.components[s];i?(this.registComponent(i,s),e=!0):this.options.blockUnknownCustomElements&&Ot(t)&&!s.endsWith("-page")&&(e=!0)}return e}buildBinding(t,e,s,i,n){const o=function(t){const e=t.match(pe);if(null===e)throw new Error("[View] No matches");const s=e.map((t=>t.trim()));return{keypath:s.shift()||void 0,pipes:s}}(s),r=o.keypath,a=o.pipes;this.bindings.push(new Se(this,t,e,r,i,a,n))}registComponent(t,e){if(!customElements)throw console.error("customElements not supported by your browser!"),new Error("customElements not supported by your browser!");const s=e||t.tagName;customElements.get(s)||customElements.define(t.tagName,t)}}(0,I.Z)(_e,"mustacheTextBinder",{name:"mustache-text",routine:(t,e)=>{t.data=null!=e?e:""}}),(0,I.Z)(_e,"bindingComparator",((t,e)=>{var s,i;const n=(null===(s=t.binder)||void 0===s?void 0:s.priority)||0;return((null===(i=e.binder)||void 0===i?void 0:i.priority)||0)-n}));const ke={name:"if",block:!0,priority:4e3,bind(t){var e,s;(this.customData={},this.marker)?this.customData.nested&&this.customData.nested.bind():(this.marker=null===(e=document)||void 0===e?void 0:e.createComment(" riba: "+this.type+" "+this.keypath+" "),this.customData.attached=!1,null!==(s=t.parentNode)&&void 0!==s&&s.insertBefore&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))},unbind(){this.customData.nested&&this.customData.nested.unbind()},routine(t,e){(e=!!e)!==this.customData.attached&&(e?(this.customData.nested||(this.customData.nested=new _e(t,this.view.models,this.view.options),this.customData.nested.bind()),this.marker&&this.marker.parentNode&&this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.customData.attached=!0):(t.parentNode&&t.parentNode.removeChild(t),this.customData.attached=!1))},update(t){this.customData.nested&&this.customData.nested.update(t)}},Te={name:"each-*",block:!0,priority:4e3,bind(t){var e,s;this.marker?this.customData.iterated.forEach((t=>{t.bind()})):(this.marker=null===(e=document)||void 0===e?void 0:e.createComment(` riba: ${this.type} `),this.customData={iterated:[]},null!==(s=t.parentNode)&&void 0!==s&&s.insertBefore&&this.marker&&(t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)))},unbind(){this.customData.iterated&&this.customData.iterated.forEach((t=>{t.unbind()}))},routine(t,e){if(null===this.args)throw new Error("args is null");let s=!1;const i=X(this.args[0].toString());if(e=e||[],Array.isArray(e)||"object"!=typeof e||null===e||(console.debug("original collection",e),e=Object.entries(e).map((([t,e])=>({key:t,value:e}))),s=!0,console.debug("converted collection",e)),!Array.isArray(e))throw new Error(`each-${this.args[0]} needs an array or object to iterate over, but it is ${typeof e}`);const n=t.getAttribute("index-property")||this.getIterationAlias(i);e.forEach(((t,e)=>{const o={$parent:this.view.models};s?(o[n]=t.key,o[i]=t.value):(o[n]=e,o[i]=t);let r=this.customData.iterated[e];if(r)if(r.models[i]!==t){let s,l;for(let n=e+1;n<this.customData.iterated.length;n++)if(l=this.customData.iterated[n],l.models[i]===t){s=n;break}if(void 0!==s){var a;if(this.customData.iterated.splice(s,1),!this.marker||null===(a=this.marker.parentNode)||void 0===a||!a.insertBefore)throw new Error("Marker has no parent node");l.els[0]&&r.els[0]&&this.marker.parentNode.insertBefore(l.els[0],r.els[0]),l.models[n]=e}else l=_e.create(this,o,r.els[0]);this.customData.iterated.splice(e,0,l)}else r.models[n]=e;else{let t;if(this.customData.iterated.length?t=this.customData.iterated[this.customData.iterated.length-1].els[0]:this.marker&&(t=this.marker),!t)return;r=_e.create(this,o,t.nextSibling),this.customData.iterated.push(r)}})),this.customData.iterated.length>e.length&&((t,e)=>{for(let s=0;s<t;s++)e()})(this.customData.iterated.length-e.length,(()=>{const t=this.customData.iterated.pop();if(t.unbind(),!this.marker||!this.marker.parentNode)throw new Error("Marker has no parent node");this.marker.parentNode.removeChild(t.els[0])})),"OPTION"===t.nodeName&&this.view.bindings&&this.view.bindings.forEach((t=>{this.marker&&t.el===this.marker.parentNode&&"value"===t.type&&t.sync&&t.sync()}))},update(t){const e={};Object.keys(t).forEach((s=>{if(null===this.args)throw new Error("args is null");s!==this.args[0]&&(e[s]=t[s])})),this.customData.iterated.forEach((t=>{t.update(e)}))}},Ae={name:"html",routine(t,e){t.innerHTML=void 0!==e?e:""}},De={name:"hide",routine(t,e){t.style.display=e?"none":"",e?t.setAttribute("hidden","true"):t.removeAttribute("hidden")}},Le={name:"show",routine(t,e){t.style.display=e?"":"none",e?t.removeAttribute("hidden"):t.setAttribute("hidden","true")}},Oe={name:"srcset-*",routine(t,e){const s=this.args[0];let i=t.getAttribute("srcset");if("string"!=typeof i&&(i=""),"string"==typeof e&&e.length>0){i+=`${i.length>0?", ":""}${e} ${s}`}else{let t=i.split(",");t=t.map((t=>t.trim())),t=t.filter((t=>!(-1!==t.indexOf(s)))),i=t.join(", ")||""}t.setAttribute("srcset",i)}},xe={name:"style-background-image",routine(t,e){const s="background-image";null==e||""===e?t.style.removeProperty(s):t.style.setProperty(s,`url(${e})`)}},Pe={name:"text",routine(t,e){t.textContent=null!=e?e:""}},Ie={name:"toggle-on-*",bind(t){this.customData={handler:null,propertyKey:null,toggle:()=>{this.customData.propertyKey&&(this.view.models[this.customData.propertyKey]=!this.view.models[this.customData.propertyKey])}};const e=this.args[0],s="true"===this.el.dataset.passive;t.addEventListener(e,this.customData.toggle,{passive:s})},unbind(t){if(this.customData.handler){if(null===this.args)throw new Error("args is null");const e=this.args[0];t.removeEventListener(e,this.customData.toggle)}},routine(t,e){if(null===this.args)throw new Error("args is null");this.customData.propertyKey=e}},Ne={name:"template",bind(t){this.customData={nested:new _e(t,this.view.models,this.view.options)}},routine(t,e){var s,i;null===(s=this.customData.nested)||void 0===s||s.unbind(),t.innerHTML=e||"",this.customData.nested=new _e(t,this.view.models,this.view.options),null===(i=this.customData.nested)||void 0===i||i.bind()},unbind(){var t;null===(t=this.customData.nested)||void 0===t||t.unbind()},update(t){var e;null===(e=this.customData.nested)||void 0===e||e.update(t)}},Ze={name:"unless",block:!0,priority:4e3,bind:ke.bind,unbind:ke.unbind,routine(t,e){return ke.routine.call(this,t,!e)},update:ke.update},Be=t=>{const e={};return e.type=t.type,e.tagName=t.tagName,e.contenteditable=!!t.getAttribute("contenteditable"),e.isRadio="INPUT"===e.tagName&&"radio"===e.type,e},Re={name:"value",publishes:!0,priority:3e3,onChange(){this.publish()},bind(t){if(this.customData||(this.customData=Be(t)),!this.customData.isRadio){this.customData.event=t.getAttribute("event-name")||"change input paste blur focus";const e=this;this.customData.onChange||(this.customData.onChange=()=>{e.publish()});const s=this.customData.event.split(" ");for(const e of s)t.addEventListener(e.trim(),this.customData.onChange,!1)}},unbind(t){const e=this.customData.event.split(" ");for(const s in e)t.removeEventListener(s.trim(),this.customData.onChange)},routine(t,e){let s=this.getValue(t);if(Array.isArray(e)||(e=null!=e?U(e):""),Array.isArray(s)||(s=null!=s?U(s):""),s!==e)if(this.customData||(this.customData=Be(t)),this.customData.isRadio)t.setAttribute("value",e);else if("select-multiple"===t.type){if(Array.isArray(e))for(let s=0;s<t.options.length;s++){const i=t.options[s];i.selected=e.indexOf(i.value)>-1}}else t.getAttribute("contenteditable")?t.innerHTML=e:t.value=e},getValue:Ct},Fe=()=>{let t="#";for(let e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t};class Me extends HTMLElement{constructor(){super(),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"_color",void 0),(0,I.Z)(this,"templateLoaded",!1),(0,I.Z)(this,"observedAttributesToCheck",{}),(0,I.Z)(this,"observedAttributes",[]),(0,I.Z)(this,"scope",void 0),this._debug&&(this._color=Fe())}remove(){this&&this.parentElement&&this.parentElement.removeChild(this)}_log(t,...e){const s=this.constructor.name||this.tagName;this._color||(this._color=Fe()),((t,...e)=>{const s=[];t.color?(t.namespace?s.push(`%c[${t.namespace}] ${t.mode.toUpperCase()}: `):s.push(`%c${t.mode.toUpperCase()}: `),s.push(`color: ${t.color}`)):t.namespace?s.push(`[${t.namespace}] ${t.mode.toUpperCase()}: `):s.push(`${t.mode.toUpperCase()}: `),s.push(...e),console[t.mode](...s)})({namespace:s,color:this._color,mode:t},...e)}info(...t){return this._log("info",...t)}debug(...t){if(this._debug)return this._log("debug",...t)}error(...t){console.error(...t)}requiredAttributes(){return[]}async init(t){this.loadAttributes(t),this.getPassedObservedAttributes(t)}ready(){return this.allPassedObservedAttributesAreInitialized()&&this.checkRequiredAttributes()}attributeIsPassed(t){return this.hasAttribute(t)}getPassedObservedAttributes(t){const e=this.observedAttributesToCheck;for(const s of t)e[s]?e[s].passed||(e[s].passed=this.attributeIsPassed(s)):e[s]={passed:!1,initialized:!1}}allPassedObservedAttributesAreInitialized(){return Object.keys(this.observedAttributesToCheck).every((t=>{var e,s;return!(null!==(e=this.observedAttributesToCheck[t])&&void 0!==e&&e.passed)||(null===(s=this.observedAttributesToCheck[t])||void 0===s?void 0:s.initialized)}))}checkRequiredAttributes(){return this.requiredAttributes().every((t=>(t=X(t),this.scope.hasOwnProperty(t)&&void 0!==this.scope[t])))}parseAttribute(t){let e=t;if("true"===t)e=!0;else if("false"===t)e=!1;else if("null"===t)e=null;else if("undefined"===t)e=void 0;else if(""===t)e=void 0;else if(isNaN(Number(t))){const t=F(e);e=t||e}else e=Number(t),e>=Number.MAX_SAFE_INTEGER&&(e=t);return e}eventHandler(t){return function(e,s,i,n){if(!this||!this.call){const t=new Error(`[rv-${i.type}="${i.keypath}"] Event handler "${i.keypath}" not found!"`);throw console.error(i,n),t}this.call(t,s,i.view.models,n)}}connectedCallback(){}disconnectedCallback(){}async attributeChangedCallback(t,e,s,i){this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s);const n=X(t);this.scope&&this.scope[n]&&(e=this.scope[n]),this.scope[n]=s,this.parsedAttributeChangedCallback(n,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){this.debug("parsedAttributeChangedCallback called",t,e,s,i)}adoptedCallback(t,e){this.debug("adoptedCallback called",t,e)}async loadTemplate(){return!0===this.templateLoaded?null:this.checkRequiredAttributes()?(this.templateLoaded=!0,Promise.resolve(this.template()).then((t=>(t instanceof HTMLElement?(this.innerHTML="",this.appendChild(t)):null!==t&&(this.innerHTML=t),t))).catch((t=>(console.error(t),this.templateLoaded=!1,null)))):(this.debug("Not all required attributes are set to load the template"),null)}async beforeTemplate(){}async afterTemplate(t){this.debug("afterTemplate",t)}async onReady(){}observe(t,e){return new it(this.scope,t,e)}observeAttribute(t,e){const s=X(t);return this.observe(s,e)}setBinderAttribute(t,e,s=null){const i=X(t),n=this.scope[i];this.attributeChangedCallback(t,n,e,s)}getBinderAttribute(t){const e=X(t);return this.scope[e]}loadAttributes(t){const e=this.attributes;for(const s in e){const i=e[s],n=i.nodeName;if(-1!==t.indexOf(n)){const t=i.nodeValue;this.attributeChangedCallback(n,void 0,t,null)}}}}(0,I.Z)(Me,"tagName",void 0);class je extends Me{get binds(){return this._binds}get bound(){return this._bound}get connected(){return this._connected}get disconnected(){return this._disconnected}constructor(){super(),(0,I.Z)(this,"view",null),(0,I.Z)(this,"riba",void 0),(0,I.Z)(this,"_binds",!1),(0,I.Z)(this,"_bound",!1),(0,I.Z)(this,"_connected",!1),(0,I.Z)(this,"_disconnected",!1),(0,I.Z)(this,"lifecycleEvents",rt.getInstance("lifecycle")),(0,I.Z)(this,"autobind",!0),this.lifecycleEvents.trigger("Component:constructor",this.getLifecycleEventData()),this.lifecycleEvents.on("ComponentLifecycle:allBound",this.afterAllBind,this)}async init(t){try{return await super.init(t),this.lifecycleEvents.trigger("Component:init",this.getLifecycleEventData()),this.bindIfReady()}catch(t){this.throw(t)}}throw(t){t.message&&(t.message=`[${this.tagName}] ${t.message}`),this.lifecycleEvents.trigger("Component:error",t,this.getLifecycleEventData()),this.error(t)}async bindIfReady(){if(this.ready()){await this.beforeTemplate();const t=await this.loadTemplate();return await this.afterTemplate(t),this.autobind&&await this.bind(),void await this.onReady()}this.debug("Not all required or passed attributes are set to load and bind the template",this.observedAttributesToCheck,this.scope)}async _beforeBind(){this._binds=!0,this.debug("Start to bind Riba"),this.lifecycleEvents.trigger("Component:beforeBind",this.getLifecycleEventData())}async beforeBind(){}async _afterBind(){this._binds=!1,this._bound=!0,this.lifecycleEvents.trigger("Component:afterBind",this.getLifecycleEventData())}async afterBind(){}async afterAllBind(){}getLifecycleEventData(){return{tagName:this.tagName.toLowerCase(),component:this}}disconnectedCallback(){try{this._disconnected=!0,this._connected=!1,super.disconnectedCallback(),this.lifecycleEvents.trigger("Component:disconnected",this.getLifecycleEventData()),this.lifecycleEvents.off("ComponentLifecycle:allBound",this.afterAllBind,this)}catch(t){this.throw(t)}}connectedCallback(){try{this._disconnected=!1,this._connected=!0,super.connectedCallback(),this.lifecycleEvents.trigger("Component:connected",this.getLifecycleEventData())}catch(t){this.throw(t)}}async attributeChangedCallback(t,e,s,i){try{super.attributeChangedCallback(t,e,s,i),await this.bindIfReady()}catch(t){this.throw(t)}}callFormatterHandler(t){return{name:"call",read:(e,...s)=>{if(!e)throw new Error(`[${t.tagName}] Can not use "call" formatter: fn is undefined!`);return e.apply(t,s)}}}argsFormatterHandler(t){return{name:"args",read:(e,...s)=>(i,n,o,r)=>{if(!e)throw new Error(`[${t.tagName}] Can not use "args" formatter: fn is undefined!`);return s.push(i),s.push(n),s.push(o),s.push(r),e.apply(t,s)}}}async bind(){if(this.binds||this.bound)return this.view;if(this.checkRequiredAttributes()){try{await this._beforeBind(),await this.beforeBind(),this.riba=new Ce,this.view=this.getView(),this.view&&(this.scope=this.view.models,this.view.bind()),await this._afterBind(),await this.afterBind()}catch(t){this._binds=!1,this._bound=!1,this.throw(t)}return this.view}this.debug("Not all required attributes are set for bind")}getView(){try{var t;const e=null===(t=this.riba)||void 0===t?void 0:t.getViewOptions({handler:this.eventHandler(this),formatters:{call:this.callFormatterHandler(this),args:this.argsFormatterHandler(this)}});if(e){return new _e(Array.prototype.slice.call(this.childNodes),this.scope,e)}return null}catch(t){this.throw(t)}}async unbind(){try{this.view&&(this._binds=!1,this._bound=!1,this.view.unbind(),this.view=null)}catch(t){this.throw(t)}}async build(){try{this.view&&this.view.build()}catch(t){this.throw(t)}}}class qe extends je{static get observedAttributes(){return["video-src","autoplay-on-min-buffer","autoplay-media-query"]}get muted(){return this.video&&this.video.muted}set muted(t){this.video.muted=t,this.scope.muted=this.video.muted,t?this.video.setAttribute("muted",""):this.video.removeAttribute("muted"),this.onUpdate()}get volume(){var t;return(null===(t=this.video)||void 0===t?void 0:t.volume)||0}set volume(t){this.video.volume=t,this.onUpdate()}get loop(){var t;return null===(t=this.video)||void 0===t?void 0:t.loop}set loop(t){this.video.loop=t,t?this.video.setAttribute("loop",""):this.video.removeAttribute("loop"),this.onUpdate()}get controls(){var t;return null===(t=this.video)||void 0===t?void 0:t.controls}set controls(t){this.video.controls=t,this.scope.controls=this.video.controls,t?(this.video.setAttribute("controls",""),this.video.dispatchEvent(new Event("mouseover")),this.video.dispatchEvent(new Event("mouseenter")),this.video.dispatchEvent(new Event("mousemove"))):this.video.removeAttribute("controls"),this.onUpdate()}get currentTime(){var t;return(null===(t=this.video)||void 0===t?void 0:t.currentTime)||0}set currentTime(t){this.video.currentTime=t,this.onUpdate()}get autoplay(){var t;return(null===(t=this.video)||void 0===t?void 0:t.autoplay)||!1}set autoplay(t){this.video.autoplay=t,this.onUpdate()}get height(){var t;return(null===(t=this.video)||void 0===t?void 0:t.height)||0}set height(t){this.video.height=t,this.onUpdate()}get width(){var t;return(null===(t=this.video)||void 0===t?void 0:t.width)||0}set width(t){this.video.width=t,this.onUpdate()}get poster(){var t;return null===(t=this.video)||void 0===t?void 0:t.poster}set poster(t){this.video.poster=t,this.onUpdate()}get preload(){var t;return null===(t=this.video)||void 0===t?void 0:t.preload}set preload(t){this.video.preload=t,this.onUpdate()}get disablePictureInPicture(){var t,e;return(null===(t=this.video)||void 0===t?void 0:t.disablePictureInPicture)||(null===(e=this.video)||void 0===e?void 0:e.hasAttribute("disablePictureInPicture"))||!1}set disablePictureInPicture(t){var e;void 0!==(null===(e=this.video)||void 0===e?void 0:e.disablePictureInPicture)&&(this.video.disablePictureInPicture=t),t?this.video.setAttribute("disablePictureInPicture",""):this.video.removeAttribute("disablePictureInPicture"),this.onUpdate()}get paused(){var t;return(null===(t=this.video)||void 0===t?void 0:t.paused)??!0}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"alreadyStartedPlaying",!1),(0,I.Z)(this,"wasPaused",!1),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"video",void 0),(0,I.Z)(this,"scope",{muted:this.muted,volume:this.volume,loop:this.loop,controls:this.controls,currentTime:this.currentTime,videoSrc:void 0,autoplayOnMinBuffer:0,autoplayMediaQuery:"",disablePictureInPicture:this.disablePictureInPicture,paused:this.paused,loading:!1,duration:0,readyState:N.HAVE_NOTHING,buffer:0,toggleMute:this.toggleMute,toggleControls:this.toggleControls,play:this.play,pause:this.pause,togglePlay:this.togglePlay,togglePause:this.togglePause,reset:this.reset}),(0,I.Z)(this,"onUpdate",this._onUpdate.bind(this)),(0,I.Z)(this,"forceAutoplay",this._forceAutoplay.bind(this)),(0,I.Z)(this,"onMediaQueryListEvent",this._onMediaQueryListEvent.bind(this)),(0,I.Z)(this,"onVideoProgress",this._onVideoProgress.bind(this)),(0,I.Z)(this,"onLoadStart",this._onLoadStart.bind(this)),(0,I.Z)(this,"onCanPlay",this._onCanPlay.bind(this)),(0,I.Z)(this,"onCanPlayThrough",this._onCanPlayThrough.bind(this)),(0,I.Z)(this,"onWaiting",this._onWaiting.bind(this)),(0,I.Z)(this,"onDurationChange",this._onDurationChange.bind(this)),(0,I.Z)(this,"onTimeUpdate",this._onTimeUpdate.bind(this)),(0,I.Z)(this,"onPlay",this._onPlay.bind(this)),(0,I.Z)(this,"onPause",this._onPause.bind(this));const t=this.querySelector("video");this.video=t}toggleMute(){this.debug("toggleMute"),this.muted=!this.muted,this.onUpdate()}toggleControls(){this.debug("toggleControls"),this.controls=!this.controls,this.onUpdate()}play(){this.debug("play"),this.video.play()}pause(){this.debug("pause"),this.video.pause(),this.onUpdate()}togglePlay(){return this.paused?this.play():this.pause()}togglePause(){return this.debug("togglePause"),this.togglePlay()}reset(){this.debug("reset"),this.video.currentTime=0,this.onUpdate()}connectedCallback(){super.connectedCallback(),this.init(qe.observedAttributes)}initVideoElement(){const t=this.querySelector("video");if(!t)throw new Error("The video child element is required!");this.video=t,this.addEventListeners(),this.onUpdate()}resetVideo(){this.video.innerHTML="";const t=this.video.cloneNode(!0),e=this.querySelector(".video-wrapper");this.removeEventListeners(),this.video.remove(),e?e.appendChild(t):this.appendChild(t),this.video=t,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("controls")?this.controls=!0:this.controls=!1,this.video.hasAttribute("autoplay")?this.autoplay=!0:this.autoplay=!1,this.video.hasAttribute("height")&&(this.height=W(this.video.getAttribute("height")||0)),this.video.hasAttribute("width")&&(this.width=W(this.video.getAttribute("width")||0)),this.video.hasAttribute("loop")?this.loop=!0:this.loop=!1,this.video.hasAttribute("muted")?this.muted=!0:this.muted=!1,this.video.hasAttribute("poster")&&(this.poster=this.video.getAttribute("poster")||""),this.video.hasAttribute("preload")&&(this.preload=this.video.getAttribute("preload")||""),this.video.hasAttribute("disablePictureInPicture")?this.disablePictureInPicture=!0:this.disablePictureInPicture=!1,this.scope.readyState=N.HAVE_NOTHING,this.alreadyStartedPlaying=!1,this.scope.loading=!1,this.initVideoElement()}setVideoSource(){if(this.scope.videoSrc){this.resetVideo();let t=this.video.querySelector("source");t||(t=document.createElement("source"),this.video.appendChild(t)),t.setAttribute("src",this.scope.videoSrc)}}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),this.debug("parsedAttributeChangedCallback",t),"videoSrc"===t&&this.setVideoSource()}addEventListeners(){if(this.scope.autoplayMediaQuery){const t=window.matchMedia(this.scope.autoplayMediaQuery);t.addEventListener("change",this.onMediaQueryListEvent),t.matches&&this.startAutoplay()}this.video.addEventListener("progress",this.onVideoProgress),this.video.addEventListener("loadstart",this.onLoadStart),this.video.addEventListener("canplay",this.onCanPlay),this.video.addEventListener("canplaythrough",this.onCanPlayThrough),this.video.addEventListener("waiting",this.onWaiting),this.video.addEventListener("durationchange",this.onDurationChange),this.video.addEventListener("timeupdate",this.onTimeUpdate),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause)}removeEventListeners(){if(this.scope.autoplayMediaQuery){window.matchMedia(this.scope.autoplayMediaQuery).removeEventListener("change",this.onMediaQueryListEvent)}this.video.removeEventListener("progress",this.onVideoProgress),this.video.removeEventListener("loadstart",this.onLoadStart),this.video.removeEventListener("canplay",this.onCanPlay),this.video.removeEventListener("canplaythrough",this.onCanPlayThrough),this.video.removeEventListener("waiting",this.onWaiting),this.video.removeEventListener("durationchange",this.onDurationChange),this.video.removeEventListener("timeupdate",this.onTimeUpdate),this.video.removeEventListener("play",this.onPlay),this.video.removeEventListener("pause",this.onPause)}_onUpdate(){this.scope.muted!==this.video.muted&&(this.scope.muted=this.video.muted),this.scope.volume!==this.video.volume&&(this.scope.volume=this.video.volume),this.scope.loop!==this.video.loop&&(this.scope.loop=this.video.loop),this.scope.controls!==this.video.controls&&(this.scope.controls=this.video.controls),this.scope.currentTime!==this.video.currentTime&&(this.scope.currentTime=this.video.currentTime),this.scope.paused!==this.video.paused&&(this.scope.paused=this.video.paused),this.scope.duration!==this.video.duration&&(this.scope.duration=this.video.duration),this.scope.readyState!==this.video.readyState&&(this.scope.readyState=this.video.readyState)}async beforeBind(){this.initVideoElement()}startAutoplay(){this.scope.autoplayOnMinBuffer?this.forceLoad():this.forceAutoplay()}forceLoad(){this.video.setAttribute("preload","auto"),this.video.load()}_forceAutoplay(){this.alreadyStartedPlaying||(this.alreadyStartedPlaying=!0,this.video.muted=!0,this.forceLoad(),this.play())}_onMediaQueryListEvent(t){t.matches?this.alreadyStartedPlaying?this.wasPaused||this.play():this.startAutoplay():(this.wasPaused=this.video.paused,this.pause())}_onVideoProgress(){if(this.debug("_onVideoProgress"),this.alreadyStartedPlaying)return;if(isNaN(this.video.duration))return void console.warn("Video duration is NaN");let t=0;for(let e=0;e<this.video.buffered.length;e++)t+=this.video.buffered.end(e)-this.video.buffered.start(e);this.scope.buffer=t/this.video.duration,this.scope.autoplayOnMinBuffer&&this.scope.buffer>this.scope.autoplayOnMinBuffer&&this.forceAutoplay()}_onLoadStart(){this.debug("_onLoadStart"),this.scope.loading=!0,this.onUpdate()}_onCanPlay(){this.debug("_onCanPlay"),this.onUpdate()}_onCanPlayThrough(){this.scope.loading=!1,this.scope.autoplayOnMinBuffer&&this.forceAutoplay(),this.onUpdate()}_onWaiting(){this.debug("_onPlay"),this.scope.loading=!0,this.onUpdate()}_onDurationChange(){this.onUpdate()}_onTimeUpdate(){this.onUpdate()}_onPlay(){this.debug("_onPlay"),this.scope.loading=!1,this.alreadyStartedPlaying=!0,this.scope.paused=!1,this.onUpdate()}_onPause(){this.scope.paused=!0,this.onUpdate()}async init(t){return super.init(t).then((t=>t))}disconnectedCallback(){super.disconnectedCallback()}template(){return null}}function Ue(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function He(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ue(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}(0,I.Z)(qe,"tagName","rv-video");class $e extends je{constructor(...t){super(...t),(0,I.Z)(this,"templateAttributes",[]),(0,I.Z)(this,"templateReady",!1),(0,I.Z)(this,"scope",void 0)}connectedCallback(){this.addItemsByTemplate(),super.connectedCallback(),this.removeTemplates(),this.bindIfReady()}ready(){return super.ready()&&this.templateReady}transformTemplateAttribute(t,e,s){switch(s){case"number":return Number(e);case"boolean":return"true"===e;case"string":if("string"==typeof e)return e;if("function"==typeof e.toString)return e.toString();case"object":return F(e)}return me(e).value}transformTemplateAttributes(t,e){return t.index=t.index||e,t}getTemplateAttributes(t,e){const s={};for(const e of this.templateAttributes){"string"!=typeof t.getAttribute(e.name)&&e.required?console.error(new Error(`template "${e.name}" attribute is required!`)):s[X(e.name)]=this.transformTemplateAttribute(e.name,t.getAttribute(e.name))}return this.transformTemplateAttributes(s,e)}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;this.scope.items||(this.scope.items=[]),this.scope.items.push(He(He({},s),{},{content:i}))}addItemsByTemplate(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const s=t[e];this.addItemByTemplate(s,e)}this.templateReady=!0}removeTemplates(){const t=this.querySelectorAll("template, .template");for(let e=0;e<t.length;e++){const s=t[e];this.removeChild(s)}}hasOnlyTemplateChilds(){return!Array.from(this.children).some((t=>{var e;return"TEMPLATE"!==t.nodeName&&!(null!==(e=t.classList)&&void 0!==e&&e.contains("template"))&&"#text"!==t.nodeName}))}}const ze={name:"contains",read(t,e,s){if(V(t))return t.indexOf(e)>-1;if(Array.isArray(t)){if($(e)||console.warn("[containsFormatter] The second parameter must be of type number for arrays but is "+typeof e),e=Number(e),j(e))return j(s)?t[e]===s:-1!==t.indexOf(e)}else if(q(t)&&j(e))return j(s)?t[e]===s:(V(e)||console.warn("[containsFormatter] The second parameter must be of type string for objects"+typeof e),-1!==Object.keys(t).indexOf(String(e)));return!1}},Ve={name:"size",read:t=>t&&t.length?t.length:0},We={name:"empty",read:t=>Ve.read(t)<=0},Ge={name:"get",read:(t,e)=>q(t)||Array.isArray(t)?t[e]:V(t)&&$(e)?t.charAt(e):null},Ye={name:"first",read:t=>Ge.read(t,0)},Xe={name:"isLast",read:(t,e)=>t.length===e+1},Ke={name:"last",read:t=>Ge.read(t,t.length-1)},Je={name:"random",read(t,e=0){if(Array.isArray(t))return t[Math.floor(Math.random()*t.length)];if($(t)){const s=t;return Math.floor(Math.random()*(s-e+1)+e)}return null}},Qe={name:"range",read:(t,e,s)=>(e=Number($(e)?e:0),(s=Number($(s)?s:t.length-1))>t.length-1&&(s=t.length-1),e>s?[]:t.slice(Number(e||0),1+s))},ts={name:"set",read:(t,e,s)=>(s||(s=e),q(t)||Array.isArray(t)?t[e]=s:t=s,t)},es={name:"overlaps",read(t,e){for(const s of t)for(const t of e){if(s.equals&&s.equals(t))return!0;if(s===t)return!0}return!1}},ss={name:"join",read:(t,e)=>t.join(e)},is={name:"and",read:(t,e)=>t&&e},ns={name:"between",read:(t,...e)=>t>=e[0]&&t<=e[1]},os={name:"egt",read:(t,e)=>t>=e},rs={name:"eq",read:(t,e)=>t===e},as={name:"gt",read:(t,e)=>t>e},ls={name:"ne",read:(t,e)=>t!==e},cs={name:"lt",read:(t,e)=>t<e},hs={name:"elt",read:(t,e)=>t<=e},ds={name:"or",read:(t,e)=>t||e},us={name:"not",read:t=>!t},ps={name:"plus",read:(t,e)=>Number(t)+Number(e)},ms={name:"minus",read:(t,e)=>Number(t)-Number(e)},vs={name:"times",read:(t,e)=>Number(t)*Number(e)},gs={name:"dividedBy",read:(t,e)=>Number(t)/Number(e)},fs={name:"modulo",read:(t,e)=>Number(t)%Number(e)},bs=(t,e)=>0===e?t:bs(e,t%e),ys={name:"gcd",read:bs},ws={name:"even",read:t=>t%2==0},Es={name:"uneven",read:t=>t%2!=0},Cs={name:"digits",read:t=>$(t)?t:W(t)},Ss={name:"args",read(t,...e){return(s,i,n,o)=>(e.push(s),e.push(i),e.push(n),e.push(o),t.apply(this,e))}},_s={name:"debug",read:(t,e="debug")=>(console[e](t),t)},ks={name:"default",read:(t,e)=>j(t)?V(t)?t.length>0?t:e:null===t?e:t:e},Ts={name:"is-desktop",read:()=>zt().isDesktop},As={name:"is-mobile",read:()=>zt().isMobile},Ds={name:"call",read(t,...e){return t.apply(this,e)}},Ls={name:"call-name",read:function(t,e,...s){return t[e](...s)}},Os={name:"map",read(t,e,s){const i=Array.prototype.slice.call(arguments);return i.splice(1,2),e[s].apply(e,i)}},xs={name:"os",read:()=>$t()},Ps={name:"prefer",read:(t,e)=>e||t},Is={name:"ternary",read:(t,e,s)=>t?e:s},Ns={name:"append",read:(t,e)=>t+e},Zs={name:"capitalize",read:t=>(t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1))(t)},Bs={name:"cut",read:(t,e,s="")=>t?"string"!=typeof t?(console.warn("[cutFormatter] Value must be of type string"),t):t.length>e?t.substring(e,-1===e?void 0:-1)+s:t:""},Rs={name:"downcase",read:t=>t.toLowerCase()},Fs={name:"ends-with",read:(t,e)=>"string"!=typeof t?(console.warn("[endsWithFormatter] Value must be of type string"),t):t.endsWith(e)},Ms={name:"filled",read:t=>V(t)&&!We.read(t.replace(/\s/g,""))},js={name:"handleize",read:t=>t?(t=>(t=(t=(t=>t.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,""))(t=(t=>t.replace(/\s\s+/g," "))(t=t.trim()))).toLowerCase()).replace(/ /g,"-"))(t):(console.warn("[handleizeFormatter] str is not set"),"")},qs={name:"match",read:(t,e,s)=>!(!t||!e)&&t.match(new RegExp(e,s))},Us={name:"padStart",read:(t,e=2,s="0")=>t.padStart(e,s)},Hs={name:"padEnd",read:(t,e=2,s="0")=>t.padEnd(e,s)},$s={name:"toInteger",read(t){const e=parseInt(1*t,10);return isNaN(e)?0:e}},zs={name:"toFloat",read(t){const e=parseFloat(1*t);return isNaN(e)?0:e}},Vs={name:"toDecimal",read(t){if(!$s.read)throw new Error("toIntegerFormatter must have a read function");if(!zs.read)throw new Error("toFloatFormatter must have a read function");const e=$s.read(1*t),s=zs.read(t);return e==s?e:s}},Ws={name:"isInteger",read:t=>t===+t&&t===(0|t)},Gs={name:"numberFormat",read(t,e=2,s=".",i="'"){if(!Vs.read)throw new Error("toDecimalFormatter must have a read function");if(!Ws.read)throw new Error("isIntegerFormatter must have a read function");t=$(t)?t:Vs.read(t),Ws.read(e)||(e=2);let n=(+(Math.round(+(Math.abs(t)+"e"+e))+"e"+-e)).toFixed(e);t<0&&(n="-"+n);const o=n.split(".");return 2==o.length?o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)+s+o[1]:o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i)}},Ys={name:"pluralize",read:(t,e,s)=>(null===s&&(s=e+"s"),Array.isArray(t)&&(t=t.length),1===t?e:s)},Xs={name:"prepend",read:(t,e)=>e+t},Ks={name:"upcase",read:t=>t.toUpperCase()},Js={name:"replace",read:(t,e,s)=>t.replace(new RegExp(e,"g"),s)},Qs={name:"replaceFirst",read:(t,e,s)=>t.replace(e,s)},ti={name:"slice",read:(t,e,s)=>t.slice(e,s)},ei={name:"starts-with",read:(t,e)=>"string"!=typeof t?(console.warn("[startsWithFormatter] Value must be of type string"),t):t.startsWith(e)},si={name:"strip",read:t=>t.trim()},ii={name:"strip-html",read:t=>Y(t)},ni={name:"boolean",read:t=>"true"===t||"false"!==t&&!!t},oi={name:"isArray",read:Array.isArray},ri={name:"isBoolean",read:z},ai={name:"isDefined",read:j},li={name:"isNumber",read:$},ci={name:"isObject",read:q},hi={name:"isString",read:t=>V(t)},di={name:"isUndefined",read:M},ui={name:"parse",read:t=>V(t)?F(t):q(t)||Array.isArray(t)?(console.warn("[parseFormatter] You do not need to parse the value because since it already been parsed"),t):null},pi={name:"toString",read(t,e){if(Array.isArray(t))for(const e in t)t[e]&&(t[e]=U(t[e]));else if(q(t))for(const e in t)t[e]=U(t[e]);else t=U(t);return e?t||e:t}},mi={name:"toNumber",read(t,e){const s=H(t);return e?s||e:s}},vi={formatters:a,binders:o,services:i,components:r,adapters:n,init(t={}){return ct.setSingleton(t),this}},gi=t=>t,fi=t=>t*t,bi=t=>t*(2-t),yi=t=>t<.5?2*t*t:(4-2*t)*t-1,wi=t=>t*t*t,Ei=t=>--t*t*t+1,Ci=t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,Si=t=>t*t*t*t,_i=t=>1- --t*t*t*t,ki=t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,Ti=t=>t*t*t*t*t,Ai=t=>1+--t*t*t*t*t,Di=t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,Li=t=>{const e=t,s=t;if(e.document&&e.location){return{x:e.pageXOffset,y:e.pageYOffset,maxX:document.documentElement.scrollWidth-document.documentElement.clientWidth,maxY:document.documentElement.scrollHeight-document.documentElement.clientHeight}}return{x:s.scrollLeft,y:s.scrollTop,maxX:s.scrollWidth-s.clientWidth,maxY:s.scrollHeight-s.clientHeight}},Oi=t=>{const e=Li(t);return e.maxX>0||e.maxY>0};class xi{static getFps(){return this.fps}static startLoop(t={}){this.setOptions(t),this.loopStarted||(this.loopStarted=!0,window.requestAnimationFrame(this.loop.bind(this)))}static setOptions(t){this.maxFPS="number"==typeof t.maxFPS?t.maxFPS:this.maxFPS}static loop(t){if(t<this.lastFrameTimeMs+1e3/this.maxFPS)return void(this.frameID=window.requestAnimationFrame(this.loop.bind(this)));const e=t-this.lastFrameTimeMs;this.delta+=e,this.lastFrameTimeMs=t,this.begin(t,this.delta),t>this.lastFpsUpdate+1e3&&(this.fps=.25*this.framesThisSecond+.75*this.fps,this.lastFpsUpdate=t,this.framesThisSecond=0),this.framesThisSecond++;let s=0;for(;this.delta>=this.timestep;)if(this.update(this.timestep),this.delta-=this.timestep,++s>=240){this.panic();break}this.render(this.delta/this.timestep),this.end(this.fps),this.frameID=window.requestAnimationFrame(this.loop.bind(this))}static begin(t,e){this.events.trigger("begin",t,e)}static render(t){this.events.trigger("render",t)}static update(t){this.events.trigger("update",t)}static end(t){this.events.trigger("end",t)}static panic(){this.delta=0}constructor(t={}){xi.setOptions(t)}}(0,I.Z)(xi,"events",new rt("gameloop")),(0,I.Z)(xi,"maxFPS",60),(0,I.Z)(xi,"fps",60),(0,I.Z)(xi,"timestep",1e3/60),(0,I.Z)(xi,"loopStarted",!1),(0,I.Z)(xi,"lastFrameTimeMs",0),(0,I.Z)(xi,"delta",0),(0,I.Z)(xi,"framesThisSecond",0),(0,I.Z)(xi,"lastFpsUpdate",0),(0,I.Z)(xi,"frameID",0);class Pi{constructor(t,e={}){(0,I.Z)(this,"touchCapable","ontouchstart"in window),(0,I.Z)(this,"direction",1),(0,I.Z)(this,"limit",void 0),(0,I.Z)(this,"options",void 0),(0,I.Z)(this,"el",void 0),(0,I.Z)(this,"_pause",!1),(0,I.Z)(this,"velocity",.008),(0,I.Z)(this,"move",0),(0,I.Z)(this,"lastMove",0),(0,I.Z)(this,"angle","horizontal"),(0,I.Z)(this,"pauseOnHover",!0),(0,I.Z)(this,"resumeTimer",null),(0,I.Z)(this,"onResize",Rt(this._onResize.bind(this))),(0,I.Z)(this,"onScroll",Rt(this._onScroll.bind(this))),this.el=t,this.options=e,this.direction=this.options.direction||this.direction,this.velocity=this.options.velocity||this.velocity,this.angle=this.options.angle||this.angle,this.pauseOnHover="boolean"==typeof this.options.pauseOnHover?this.options.pauseOnHover:this.pauseOnHover,this.limit=this.getLimit(this.el),this.move=this.getPosition(),-1===this.direction?this.el.scrollLeft=this.limit:this.el.scrollLeft=0,this.addEventListeners(),xi.startLoop({maxFPS:60})}update(){this.limit=this.getLimit(this.el),this.setPosition()}destroy(){this.removeEventListeners()}pause(){this.el.style.scrollBehavior="",this._pause=!0}resume(t=0){this._pause&&(this.stopResumeTimeout(),this.resumeTimer=window.setTimeout((()=>{this.setPosition(),this._pause=!1,this.el.style.scrollBehavior="auto"}),t))}addEventListeners(){this.onResize=this.onResize.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onScroll=this.onScroll.bind(this),this.render=this.render.bind(this),this.updateMove=this.updateMove.bind(this),window.addEventListener("resize",this.onResize,{passive:!0}),this.el.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.el.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.el.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.el.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.el.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.el.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.el.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.touchCapable?(this.el.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.el.addEventListener("scrollended",this.onMouseUp,{passive:!0})):(this.el.addEventListener("scroll",this.onScroll,{passive:!0}),this.el.addEventListener("scrollend",this.onScroll,{passive:!0}),this.el.addEventListener("scrollended",this.onScroll,{passive:!0})),xi.events.on("render",this.render),xi.events.on("update",this.updateMove)}removeEventListeners(){window.removeEventListener("resize",this.onResize),this.el.removeEventListener("mouseenter",this.onMouseIn),this.el.removeEventListener("mouseover",this.onMouseIn),this.el.removeEventListener("focusin",this.onMouseIn),this.el.removeEventListener("touchstart",this.onMouseIn),this.el.removeEventListener("mouseleave",this.onMouseOut),this.el.removeEventListener("focusout",this.onMouseOut),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("touchend",this.onMouseUp),this.touchCapable?(this.el.removeEventListener("scroll",this.onMouseUp),this.el.removeEventListener("scrollend",this.onMouseUp),this.el.removeEventListener("scrollended",this.onMouseUp)):(this.el.removeEventListener("scroll",this.onScroll),this.el.removeEventListener("scrollend",this.onScroll),this.el.removeEventListener("scrollended",this.onScroll)),xi.events.off("render",this.render),xi.events.off("update",this.updateMove)}onMouseIn(){this.pauseOnHover&&this.pause()}onMouseOut(){this.resume(200)}onMouseUp(){this.resume(1e3)}_onResize(){this.limit=this.getLimit(this.el),this.resume(200)}_onScroll(){this.stopResumeTimeout()}stopResumeTimeout(){null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null)}getPosition(){return("vertical"===this.angle?this.el.scrollTop:this.el.scrollLeft)||0}setPosition(){this.move=this.getPosition()}getLimit(t){return"vertical"===this.angle?Li(t).maxY:Li(t).maxX}render(){this._pause||this.scroll(this.move)}updateMove(t){if(this._pause)return;this.lastMove=this.move;const e=this.velocity*this.direction*t;this.move+=e,this.move<=0&&1!==this.direction&&(this.direction=1),this.move>=this.limit&&-1!==this.direction&&(this.direction=-1)}scroll(t){"vertical"===this.angle?this.el.scrollTop=t:this.el.scrollLeft=t}}class Ii{constructor(t,e={detectGlobalMove:!0}){if((0,I.Z)(this,"options",void 0),(0,I.Z)(this,"lastClientX",0),(0,I.Z)(this,"lastClientY",0),(0,I.Z)(this,"el",void 0),(0,I.Z)(this,"pushed",!1),(0,I.Z)(this,"touchCapable","ontouchstart"in window),(0,I.Z)(this,"checkDraggable",Rt(this._checkDraggable.bind(this))),this.el=t,this.options=e,this.touchCapable)return this;this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.checkDraggable=this.checkDraggable.bind(this),t.removeEventListener("mousedown",this.onMouseDown),t.addEventListener("mousedown",this.onMouseDown,{passive:!0}),window.addEventListener("resize",this.checkDraggable),this.options.detectGlobalMove?(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp,{passive:!0}),window.addEventListener("mousemove",this.onMouseMove,{passive:!0})):(t.removeEventListener("mouseup",this.onMouseUp),t.removeEventListener("mousemove",this.onMouseMove),t.addEventListener("mouseup",this.onMouseUp,{passive:!0}),t.addEventListener("mousemove",this.onMouseMove,{passive:!0})),this.checkDraggable()}destroy(){this.removeEventListeners(),this.el.classList.remove("draggable")}_checkDraggable(){Oi(this.el)?this.el.classList.add("draggable"):this.el.classList.remove("draggable")}onMouseDown(t){this.pushed=!0,this.lastClientX=t.clientX,this.lastClientY=t.clientY}onMouseUp(){this.pushed=!1}onMouseMove(t){let e=0,s=0;this.pushed&&(this.el.scrollLeft-=e=-this.lastClientX+(this.lastClientX=t.clientX),this.el.scrollTop-=s=-this.lastClientY+(this.lastClientY=t.clientY),this.el===document.body&&(document.documentElement&&(this.el=document.documentElement),this.el.scrollLeft-=e,this.el.scrollTop-=s))}removeEventListeners(){window.removeEventListener("resize",this.checkDraggable),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp),this.el.removeEventListener("mousemove",this.onMouseMove)}}class Ni{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ExtrasService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of ExtrasService already defined!");return this._options=t,this.instance=new this,this.instance}}(0,I.Z)(Ni,"_options",void 0),(0,I.Z)(Ni,"instance",void 0);class Zi{constructor(){(0,I.Z)(this,"enterK","requestFullscreen"),(0,I.Z)(this,"exitK","exitFullscreen"),(0,I.Z)(this,"elementK","fullscreenElement"),(0,I.Z)(this,"eventK","fullscreenchange");const t=document.documentElement,e="fullscreenchange";t.requestFullscreen?(this.enterK="requestFullscreen",this.exitK="exitFullscreen",this.elementK="fullscreenElement",this.eventK=e):t.mozRequestFullScreen?(this.enterK="mozRequestFullScreen",this.exitK="mozCancelFullScreen",this.elementK="mozFullScreenElement",this.eventK="moz"+e):t.webkitRequestFullscreen?(this.enterK="webkitRequestFullscreen",this.exitK="webkitExitFullscreen",this.elementK="webkitFullscreenElement",this.eventK="webkit"+e):t.msRequestFullscreen&&(this.enterK="msRequestFullscreen",this.exitK="msExitFullscreen",this.elementK="msFullscreenElement",this.eventK="MSFullscreenChange")}static getSingleton(){return Zi.instance||(Zi.instance=new Zi),Zi.instance}static supported(){const t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)}enter(t){t||(t=document.body),this.isFullscreen()||("webkitRequestFullscreen"===this.enterK?t[this.enterK](Element.ALLOW_KEYBOARD_INPUT):t[this.enterK]())}exit(){this.isFullscreen()&&document[this.exitK]()}isFullscreen(){return document[this.elementK]}toggle(t){this.isFullscreen()?this.exit():this.enter(t)}}(0,I.Z)(Zi,"instance",void 0);class Bi{get isTouchCapable(){return this.touchCapable}constructor(t){(0,I.Z)(this,"touchCapable","ontouchstart"in window),(0,I.Z)(this,"el",void 0),this.el=t}triggerCustomEvent(t,e,s={}){s.originalEvent=e,s.target=e.target;const i=new CustomEvent(t,{detail:s});this.el.dispatchEvent(i)}}class Ri extends Bi{constructor(t){super(t),(0,I.Z)(this,"isScrolling",!1),(0,I.Z)(this,"_scrollEvent",void 0),(0,I.Z)(this,"el",void 0),(0,I.Z)(this,"startPosition",null),(0,I.Z)(this,"endPosition",null),(0,I.Z)(this,"scrollTimer",null),(0,I.Z)(this,"onScrollEvent",this._onScrollEvent.bind(this)),(0,I.Z)(this,"scroll",Bt(this._scroll.bind(this))),this.el=t,this.startPosition=Li(this.el),this._scrollEvent=this.touchCapable?["touchmove","scrollend","scroll"]:["scroll","scrollend"],this.addEventListeners()}destroy(){this.removeEventListeners()}get scrollEvent(){return this._scrollEvent}getScrollDir(t,e){return t&&e?t.x>e.x?"right":t.x<e.x?"left":t.y>e.y?"down":t.y<e.y?"up":"none":"unknown"}removeEventListeners(){for(const t of this._scrollEvent)this.el.removeEventListener(t,this.onScrollEvent)}addEventListeners(){for(const t of this._scrollEvent)this.el.addEventListener(t,this.onScrollEvent,{passive:!0})}_onScrollEvent(t){return!!t.target&&(null!==this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.isScrolling||this.scrollstart(t),this.isScrolling&&this.scroll(t),this.scrollTimer=window.setTimeout((()=>{this.scrollended(t)}),100),!0)}scrollended(t){this.isScrolling=!1,this.endPosition=Li(this.el);const e=this.getScrollDir(this.startPosition,this.endPosition);this.triggerCustomEvent("scrollended",t,{startPosition:this.startPosition,endPosition:this.endPosition,direction:e})}scrollstart(t){this.isScrolling=!0,this.startPosition=Li(this.el),this.triggerCustomEvent("scrollstart",t,{startPosition:this.startPosition})}_scroll(t){const e=Li(this.el),s=this.getScrollDir(this.startPosition,e);this.triggerCustomEvent("scroll"+s,t,{startPosition:this.startPosition,currentPosition:e,direction:s}),this.triggerCustomEvent("scrolling",t,{startPosition:this.startPosition,currentPosition:e,direction:s})}}let Fi;!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.TARGET=1]="TARGET",t[t.CHANGED=2]="CHANGED"}(Fi||(Fi={}));class Mi extends Bi{get isTouchCapable(){return this.settings.touchCapable}get startEvent(){return this.settings.startevent}get endEvent(){return this.settings.endevent}get moveEvent(){return this.settings.moveevent}get tapEvent(){return this.settings.tapevent}set swipeThresholdX(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeHThreshold=t}set swipeThresholdY(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.swipeVThreshold=t}set doubleTapInt(t){if("number"!=typeof t)throw new Error("Interval parameter must be a type of number");this.settings.doubletapInterval=t}set tapHoldThreshold(t){if("number"!=typeof t)throw new Error("Threshold parameter must be a type of number");this.settings.tapholdThreshold=t}set tapRange(t){if("number"!=typeof t)throw new Error("Ranger parameter must be a type of number");this.settings.tapPixelRange=t}constructor(t,e={tapPixelRange:5,swipeHThreshold:50,swipeVThreshold:50,tapholdThreshold:750,doubletapInterval:500,shakeThreshold:15,touchCapable:"ontouchstart"in window,startevent:["touchstart"],endevent:["touchend"],moveevent:["touchmove"],tapevent:["tap"]}){super(t),(0,I.Z)(this,"el",void 0),(0,I.Z)(this,"startPosition",{x:0,y:0}),(0,I.Z)(this,"endPosition",{x:0,y:0}),(0,I.Z)(this,"originalCoord",{x:0,y:0}),(0,I.Z)(this,"finalCoord",{x:0,y:0}),(0,I.Z)(this,"startEvnt",null),(0,I.Z)(this,"tapheld",!1),(0,I.Z)(this,"firstTap",null),(0,I.Z)(this,"cooling",!1),(0,I.Z)(this,"doubletapped",!1),(0,I.Z)(this,"lastTouch",0),(0,I.Z)(this,"hasSwiped",!1),(0,I.Z)(this,"tapStarted",!1),(0,I.Z)(this,"swipeStarted",!1),(0,I.Z)(this,"startTime",0),(0,I.Z)(this,"holdTimer",-1),(0,I.Z)(this,"tapTimer",-1),(0,I.Z)(this,"actionTimer",-1),(0,I.Z)(this,"settings",void 0),this.el=t,e.startevent=e.touchCapable?["touchstart"]:["mousedown"],e.endevent=e.touchCapable?["touchend"]:["mouseup"],e.moveevent=e.touchCapable?["touchmove"]:["mousemove"],e.tapevent=e.touchCapable?["tap"]:["click"],this.settings=e,this.onStartEvent=this.onStartEvent.bind(this),this.onMoveEvent=this.onMoveEvent.bind(this),this.onEndEvent=this.onEndEvent.bind(this),this.addEventListeners()}destroy(){this.removeEventListeners()}removeEventListeners(){for(const t of this.settings.startevent)this.el.removeEventListener(t,this.onStartEvent);for(const t of this.settings.moveevent)this.el.removeEventListener(t,this.onMoveEvent);for(const t of this.settings.endevent)this.el.removeEventListener(t,this.onEndEvent)}getSwipeDir(t,e,s=this.settings.swipeHThreshold,i=this.settings.swipeVThreshold){let n="";return t.y>e.y&&t.y-e.y>i&&(n="swipeup"),t.x<e.x&&e.x-t.x>s&&(n="swiperight"),t.y<e.y&&e.y-t.y>i&&(n="swipedown"),t.x>e.x&&t.x-e.x>s&&(n="swipeleft"),n}getPosition(t,e=Fi.DEFAULT,s=0){let i;switch(e){case Fi.CHANGED:i=t.changedTouches;break;case Fi.TARGET:i=t.targetTouches;break;default:i=t.touches}return{x:this.settings.touchCapable?i[s].pageX:t.pageX,y:this.settings.touchCapable?i[s].pageY:t.pageY}}getOffset(t,e=Fi.DEFAULT,s=0){const i=this.el.getBoundingClientRect();let n;switch(e){case Fi.CHANGED:n=t.changedTouches;break;case Fi.TARGET:n=t.targetTouches;break;default:n=t.touches}return{x:this.settings.touchCapable?Math.round(n[s].pageX-(i?i.left:0)):Math.round(t.pageX-(i?i.left:0)),y:this.settings.touchCapable?Math.round(n[s].pageY-(i?i.top:0)):Math.round(t.pageY-(i?i.top:0))}}getTouchData(t,e=!1,s=Fi.DEFAULT,i=Fi.CHANGED){const n={position:this.getPosition(t,s),offset:this.getOffset(t,i),time:Date.now()};return e&&(n.index=Pt(t.target)),n}addEventListeners(){for(const t of this.settings.startevent)this.el.addEventListener(t,this.onStartEvent,{passive:!0});for(const t of this.settings.moveevent)this.el.addEventListener(t,this.onMoveEvent,{passive:!0});for(const t of this.settings.endevent)this.el.addEventListener(t,this.onEndEvent,{passive:!0})}onStartEvent(t){return(!t.which||1===t.which)&&(this.startPosition=this.getPosition(t,Fi.TARGET),this.endPosition={x:this.startPosition.x,y:this.startPosition.y},this.startTime=Date.now(),this.doubletapped=!1,this.firstTap||(this.firstTap=this.getTouchData(t,!0,Fi.DEFAULT,Fi.CHANGED)),this.tapStarted=!0,this.swipeStarted=!0,this.originalCoord=this.getPosition(t,Fi.TARGET),this.finalCoord=this.getPosition(t,Fi.TARGET),this.startEvnt=this.getTouchData(t,!1,Fi.DEFAULT,Fi.CHANGED),this.tapstart(t),this.taphold(t),!0)}onEndEvent(t){return this.endPosition=this.getPosition(t,Fi.CHANGED),this.tapheld=!1,window.clearTimeout(this.holdTimer),this.tapend(t),this.swipeend(t),this.tap(t),this.doubletap(t),this.singletap(t),this.tapStarted=!1,this.swipeStarted=!1,this.hasSwiped=!1,!0}onMoveEvent(t){return this.endPosition=this.getPosition(t,Fi.TARGET),this.finalCoord=this.getPosition(t,Fi.TARGET),this.tapmove(t),this.swipe(t),!0}tapstart(t){return this.triggerCustomEvent("tapstart",t,this.getTouchData(t,!1,Fi.DEFAULT,Fi.CHANGED)),!0}tapmove(t){return this.triggerCustomEvent("tapmove",t,this.getTouchData(t,!1,Fi.DEFAULT,Fi.CHANGED)),!0}tapend(t){return this.triggerCustomEvent("tapend",t,this.getTouchData(t,!1,Fi.CHANGED,Fi.CHANGED)),!0}taphold(t){return this.holdTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange){this.tapheld=!0;const e=Date.now()-this.startTime,s=t.targetTouches?t.targetTouches.length:1,i=new Array;for(let e=0;e<s;e++){const s=this.el.getBoundingClientRect(),n={position:{x:this.settings.touchCapable?t.changedTouches[e].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[e].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[e].pageX-(s?s.left:0)):Math.round(t.pageX-(s?s.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[e].pageY-(s?s.top:0)):Math.round(t.pageY-(s?s.top:0))}};i.push(n)}const n=s>1?"taphold"+s:"taphold",o={touches:i,time:Date.now(),duration:e};this.triggerCustomEvent(n,t,o)}}),this.settings.tapholdThreshold),!0}doubletap(t){const e=Date.now(),s=e-(Number(this.lastTouch)||e+1);if(-1!==this.actionTimer&&window.clearTimeout(this.actionTimer),s<this.settings.doubletapInterval&&s>100&&this.firstTap&&Pt(t.target)===this.firstTap.index){this.doubletapped=!0,window.clearTimeout(this.tapTimer);const e=this.getTouchData(t,!0,Fi.CHANGED,Fi.CHANGED),s={firstTap:this.firstTap,secondTap:e,interval:e.time-this.firstTap.time};this.cooling||(this.triggerCustomEvent("doubletap",t,s),this.firstTap=null),this.cooling=!0,window.setTimeout((()=>{this.cooling=!1}),this.settings.doubletapInterval)}else this.actionTimer=window.setTimeout((()=>{this.firstTap=null,window.clearTimeout(this.actionTimer)}),this.settings.doubletapInterval,[t]);this.lastTouch=e}singletap(t){this.tapTimer=window.setTimeout((()=>{const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(!this.doubletapped&&!this.tapheld&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange)){const e=this.getTouchData(t,!1,Fi.CHANGED,Fi.CHANGED);e.time-this.startTime<this.settings.tapholdThreshold&&this.triggerCustomEvent("singletap",t,e)}}),this.settings.doubletapInterval)}tap(t){const e=this.startPosition.x-this.endPosition.x,s=this.startPosition.y-this.endPosition.y;if(this.tapStarted&&Date.now()-this.startTime<this.settings.tapholdThreshold&&(this.startPosition.x===this.endPosition.x&&this.startPosition.y===this.endPosition.y||e>=-this.settings.tapPixelRange&&e<=this.settings.tapPixelRange&&s>=-this.settings.tapPixelRange&&s<=this.settings.tapPixelRange)){const e=t.targetTouches?t.targetTouches.length:1,s=new Array;for(let i=0;i<e;i++){const e=this.el.getBoundingClientRect(),n={position:{x:this.settings.touchCapable?t.changedTouches[i].pageX:t.pageX,y:this.settings.touchCapable?t.changedTouches[i].pageY:t.pageY},offset:{x:this.settings.touchCapable?Math.round(t.changedTouches[i].pageX-(e?e.left:0)):Math.round(t.pageX-(e?e.left:0)),y:this.settings.touchCapable?Math.round(t.changedTouches[i].pageY-(e?e.top:0)):Math.round(t.pageY-(e?e.top:0))}};s.push(n)}const i={touches:s,time:Date.now()},n=e>1?"tap"+e:"tap";this.triggerCustomEvent(n,t,i)}}swipe(t){const e=this.getSwipeDir(this.originalCoord,this.finalCoord);if(e&&this.swipeStarted&&this.startEvnt){this.originalCoord.x=0,this.originalCoord.y=0,this.finalCoord.x=0,this.finalCoord.y=0,this.swipeStarted=!1;const s=this.getTouchData(t,!1,Fi.DEFAULT,Fi.CHANGED),i=Math.abs(this.startEvnt.position.x-s.position.x),n=Math.abs(this.startEvnt.position.y-s.position.y),o={startEvnt:this.startEvnt,endEvnt:s,direction:e.replace("swipe",""),xAmount:i,yAmount:n,duration:s.time-this.startEvnt.time};this.hasSwiped=!0,this.triggerCustomEvent("swipe",t,o),this.triggerCustomEvent(e,t,o)}}swipeend(t){const e=this.getTouchData(t,!1,Fi.CHANGED,Fi.CHANGED);if(this.hasSwiped&&this.startEvnt){const s=this.getSwipeDir(this.startEvnt.position,e.position),i=Math.abs(this.startEvnt.position.x-e.position.x),n=Math.abs(this.startEvnt.position.y-e.position.y),o={startEvnt:this.startEvnt,endEvnt:e,direction:s.replace("swipe",""),xAmount:i,yAmount:n,duration:e.time-this.startEvnt.time};this.triggerCustomEvent("swipeend",t,o)}}}const ji={name:"data-scroll-position-y",customData:{},bind(){this.customData={onScroll:Bt((()=>{if("window"===this.customData.elementSelector){const t=this.customData.watchScrollOnElement;t.scrollY<=0+this.customData.offsetTop?this.el.dataset.scrollPositionY="top":t.innerHeight+t.pageYOffset+this.customData.offsetBottom>=document.body.offsetHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}else{const t=this.customData.watchScrollOnElement;t.scrollTop<=0+this.customData.offsetTop?this.el.dataset.scrollPositionY="top":t.scrollTop+this.customData.offsetBottom>=t.scrollHeight-t.clientHeight?this.el.dataset.scrollPositionY="bottom":this.el.dataset.scrollPositionY="scrolled"}})).bind(this)}},routine(t,e="window"){this.customData.watchScrollOnElement&&this.customData.watchScrollOnElement.removeEventListener("scroll",this.customData.onScroll),this.customData.watchScrollOnElement="window"===e?window:"this"===e?this.el:document.querySelector(e),this.customData.watchScrollOnElement&&this.customData.watchScrollOnElement.addEventListener("scroll",this.customData.onScroll,{passive:!0}),this.customData.offsetTop=Number(this.el.dataset.offsetTop)||10,this.customData.offsetBottom=Number(this.el.dataset.offsetBottom)||10,this.customData.elementSelector=e,this.customData.onScroll()},unbind(){this.customData.watchScrollOnElement&&this.customData.watchScrollOnElement.removeEventListener("scroll",this.customData.onScroll)}};var qi=s(8977),Ui=s.n(qi);const Hi={name:"image-events",bind(t){this.customData||(this.customData={});const e=Ui()(t);e.on("always",((e,s)=>{t.dispatchEvent(new CustomEvent("load-always",{detail:{load:e,image:s}}))})),e.on("done",((e,s)=>{t.dispatchEvent(new CustomEvent("load-done",{detail:{load:e,image:s}}))})),e.on("fail",((e,s)=>{t.dispatchEvent(new CustomEvent("load-fail",{detail:{load:e,image:s}}))})),e.on("progress",((e,s)=>{t.dispatchEvent(new CustomEvent("load-progress",{detail:{load:e,image:s}}))}))},unbind(){},routine(){}},$i={name:"touch-events",bind(t){this.customData||(this.customData={}),this.customData.touchEventService=new Mi(t)},unbind(){this.customData.touchEventService&&this.customData.touchEventService.destroy()},routine(){}},zi={name:"scroll-events",bind(t){this.customData||(this.customData={}),this.customData.touchEventService=new Ri(t)},unbind(){this.customData.touchEventService&&this.customData.touchEventService.destroy()},routine(){}},Vi={name:"scroll-position-*",customData:{},routine(t,e){let s=this.args[0];"x"===s&&(s="horizontal"),"y"===s&&(s="vertical"),window.addEventListener("resize",(()=>{Tt(t,e,s)}),{passive:!0}),Tt(t,e,s)}},Wi={name:"autoscroll",routine(t,e){this.customData=this.customData||{},e&&e.width&&V(e.width)&&(e.width,t.style.width=e.width),t.classList.add(`rv-autoscroll-${e.angle}`),setTimeout((()=>{this.customData.autoscroll&&this.customData.autoscroll.destroy(),this.customData.autoscroll=new Pi(t,e)}),1e3)},unbind(){this.customData.autoscroll&&this.customData.autoscroll.destroy()}},Gi={name:"scrollbar-draggable",routine(t,e){this.customData=this.customData||{},this.customData.dragscroll&&this.customData.dragscroll.destroy(),this.customData.dragscroll=new Ii(t,e)},unbind(){this.customData.dragscroll&&this.customData.dragscroll.destroy()}},Yi={name:"sync-element-*",function:!0,priority:1e3,bind(){this.customData={syncWidth:Rt((()=>{this.el.style.width=this.customData.elToSync.clientWidth+"px"})),syncHeight:Rt((()=>{this.el.style.height=this.customData.elToSync.clientHeight+"px"}))}},unbind(){const t=this.args[0];this.customData.elToSync&&this.customData.elToSync.removeEventListener("resize","width"===t?this.customData.syncWidth:this.customData.syncHeight)},routine(t,e){if(null===this.args)throw new Error("args is null");const s=this.args[0];this.customData.elToSync&&this.customData.elToSync.removeEventListener("resize","width"===s?this.customData.syncWidth:this.customData.syncHeight);const i=document.getElementById(e);if(i)switch(this.customData.elToSync=i,s){case"height":t.style.height=i.clientHeight+"px",window.addEventListener("resize",this.customData.syncHeight);break;case"width":t.style.width=i.clientWidth+"px",window.addEventListener("resize",this.customData.syncWidth);break;default:console.warn("[syncElementPropertyBinder] Unknown property: "+s)}else console.warn("[syncElementPropertyBinder] Could not find element with id: "+e)}},Xi={helper:l,formatters:{},binders:h,services:c,components:{},init(t={}){return Ni.setSingleton(t),this}};class Ki{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ModuleService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of ModuleService already defined!");return this._options=t,this.instance=new this,this.instance}}function Ji(t,e,s){let i=0,n=t.length;for(;n>0;){const o=n/2|0;let r=i+o;s(t[r],e)<=0?(i=++r,n-=o+1):n=o}return i}(0,I.Z)(Ki,"_options",void 0),(0,I.Z)(Ki,"instance",void 0);class Qi{constructor(){(0,I.Z)(this,"_queue",void 0),this._queue=[]}enqueue(t,e){const s={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(s);const i=Ji(this._queue,s,((t,e)=>e.priority-t.priority));this._queue.splice(i,0,s)}dequeue(){return this._queue.shift().run}get size(){return this._queue.length}}class tn{constructor(t){if((0,I.Z)(this,"queue",new Qi),(0,I.Z)(this,"_carryoverConcurrencyCount",void 0),(0,I.Z)(this,"_isIntervalIgnored",void 0),(0,I.Z)(this,"_intervalCount",0),(0,I.Z)(this,"_intervalCap",void 0),(0,I.Z)(this,"_interval",void 0),(0,I.Z)(this,"_intervalId",void 0),(0,I.Z)(this,"_intervalEnd",0),(0,I.Z)(this,"_timeoutId",void 0),(0,I.Z)(this,"_pendingCount",0),(0,I.Z)(this,"_concurrency",void 0),(0,I.Z)(this,"_isPaused",void 0),(0,I.Z)(this,"_resolveEmpty",void 0),(0,I.Z)(this,"_resolveIdle",void 0),!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:Qi},t)).concurrency&&t.concurrency>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t.concurrency}\` (${typeof t.concurrency})`);if(!("number"==typeof t.intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${t.intervalCap}\` (${typeof t.intervalCap})`);if(!("number"==typeof t.interval&&Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${t.interval}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,this._intervalCount=0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._intervalId=void 0,this._intervalEnd=0,this._timeoutId=null,this.queue=new t.queueClass,this._pendingCount=0,this._concurrency=t.concurrency,this._isPaused=!1===t.autoStart,this._resolveEmpty=()=>{},this._resolveIdle=()=>{}}add(t,e){return new Promise(((s,i)=>{this.queue.enqueue((()=>{this._pendingCount++,this._intervalCount++;try{Promise.resolve(t()).then((t=>{s(t),this._next()}),(t=>{i(t),this._next()}))}catch(t){i(t),this._next()}}),e),this._tryToStartAnother()}))}addAll(t,e){return Promise.all(t.map((t=>this.add(t,e))))}start(){if(this._isPaused)for(this._isPaused=!1;this._tryToStartAnother(););}pause(){this._isPaused=!0}clear(){this.queue=new Qi}onEmpty(){return 0===this.queue.size?Promise.resolve():new Promise((t=>{const e=this._resolveEmpty;this._resolveEmpty=()=>{e(),t()}}))}onIdle(){return 0===this._pendingCount&&0===this.queue.size?Promise.resolve():new Promise((t=>{const e=this._resolveIdle;this._resolveIdle=()=>{e(),t()}}))}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother()}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=()=>{},0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=()=>{})}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=null}_intervalPaused(){const t=Date.now();if(void 0===typeof this._intervalId){const e=this._intervalEnd-t;if(!(e<0))return null===this._timeoutId&&(this._timeoutId=setTimeout((()=>this._onResumeInterval()),e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this.queue.size)return clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._intervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother)return this.queue.dequeue()(),t&&this._initializeIntervalIfNeeded(),!0}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||null!==this._intervalId||(this._intervalId=setInterval((()=>this._onInterval()),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){for(0===this._intervalCount&&0===this._pendingCount&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;this._tryToStartAnother(););}get size(){return this.queue.size}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}}class en{static async add(t,e=1,s={},i=this.requestOptionDefaults){i.triggerOnStart&&this.triggerOnStart();const n=this.queue.add((async()=>{const n={id:t,quantity:e};0!==Object.keys(s).length&&(n.properties=s);const o=await dt.post(this.CART_POST_ADD_URL,n,"json");if(o.status>=400)throw o.body;const r=o.body,a=await dt.get(this.CART_GET_URL,{},"json");if(a.status>=400)throw o.body;const l=a.body;return i.triggerOnChange&&this.triggerOnChange(l),this.triggerAdd(t,e,s),r}));return i.triggerOnComplete&&this.triggerOnComplete(),n}static async refresh(){return(await dt.get(this.CART_GET_URL,{},"json")).body}static _get(){return null!==en.cart?new Promise((t=>{setTimeout((()=>null!==en.cart?t(en.cart):this._get()),0)})):en.refresh()}static get(t=this.requestOptionDefaults){t.triggerOnStart&&this.triggerOnStart();const e=this.queue.add((()=>this._get()));return t.triggerOnComplete&&this.triggerOnComplete(),e}static update(t,e,s={},i=this.requestOptionDefaults){i.triggerOnStart&&this.triggerOnStart();const n=this.queue.add((()=>{const i={id:t,quantity:e};return 0!==Object.keys(s).length&&(i.properties=s),dt.post(this.CART_POST_UPDATE_URL,i,"form")})).then((t=>JSON.parse(t))).then((t=>(i.triggerOnChange&&this.triggerOnChange(t),t)));return i.triggerOnComplete&&this.triggerOnComplete(),n}static updates(t,e=this.requestOptionDefaults){e.triggerOnStart&&this.triggerOnStart();const s=this.queue.add((()=>dt.post(this.CART_POST_UPDATE_URL,{updates:t},"form"))).then((t=>JSON.parse(t))).then((t=>(e.triggerOnChange&&this.triggerOnChange(t),t)));return e.triggerOnComplete&&this.triggerOnComplete(),s}static async change(t,e,s={},i=this.requestOptionDefaults){i.triggerOnStart&&this.triggerOnStart();const n=this.queue.add((async()=>{const n={id:t,quantity:e};0!==Object.keys(s).length&&(n.properties=s);const o=await dt.post(this.CART_POST_CHANGE_URL,n,"form");let r;return r="string"==typeof o.body?JSON.parse(o.body):o.body,i.triggerOnChange&&this.triggerOnChange(r),r}));return i.triggerOnComplete&&this.triggerOnComplete(),n}static async changeLine(t,e,s={},i=this.requestOptionDefaults){i.triggerOnStart&&this.triggerOnStart();const n=this.queue.add((async()=>{const n={line:t,quantity:e};0!==Object.keys(s).length&&(n.properties=s);const o=await dt.post(this.CART_POST_CHANGE_URL,n,"form");let r;return r="string"==typeof o.body?JSON.parse(o.body):o.body,i.triggerOnChange&&this.triggerOnChange(r),r}));return i.triggerOnComplete&&this.triggerOnComplete(),n}static async clear(t=this.requestOptionDefaults){t.triggerOnStart&&this.triggerOnStart();const e=this.queue.add((async()=>{const e=await dt.post(this.CART_POST_CLEAR_URL,{},"form");let s;return s="string"==typeof e.body?JSON.parse(e.body):e.body,t.triggerOnChange&&this.triggerOnChange(s),s}));return t.triggerOnComplete&&this.triggerOnComplete(),e}static async _getShippingRates(t,e=!0){const s=(await dt.get(this.CART_GET_SHIPPING_RATES_URL,{shipping_address:t},"json")).body;if(q(s)&&q(s.shipping_rates))return e?this.normalizeShippingRates(s.shipping_rates):s.shipping_rates;throw new Error("shipping_rates property not found: "+JSON.stringify(s))}static getShippingRates(t,e=!0,s=this.requestOptionDefaults){s.triggerOnStart&&this.triggerOnStart();const i=this.queue.add((()=>this._getShippingRates(t,e)));return s.triggerOnComplete&&this.triggerOnComplete(),i}static triggerOnComplete(){if(!this.waitForComplete)return this.waitForComplete=!0,this.queue.onIdle().then((()=>{en.shopifyCartEventDispatcher.trigger("ShopifyCart:request:complete",this.cart),this.waitForComplete=!1}))}static triggerOnChange(t){this.cart=t,en.shopifyCartEventDispatcher.trigger("ShopifyCart:request:changed",this.cart)}static triggerOnStart(){this.queue.pending>0||en.shopifyCartEventDispatcher.trigger("ShopifyCart:request:start")}static triggerAdd(t,e,s){en.shopifyCartEventDispatcher.trigger("ShopifyCart:add",{id:t,quantity:e,properties:s})}static normalizeShippingRates(t){const e=new Array(t.length);for(const s in t)if(t[s]){const i=t[s];e[s]=J(!1,i),e[s]&&e[s].price?(e[s].price=H(e[s].price),e[s].price?e[s].price*=100:console.warn(`Can't parse "${e[s].price}" to number`)):console.warn("price property not defined",e[s])}return e}}(0,I.Z)(en,"queue",new tn({concurrency:1})),(0,I.Z)(en,"cart",null),(0,I.Z)(en,"shopifyCartEventDispatcher",new rt("ShopifyCart")),(0,I.Z)(en,"CART_POST_ADD_URL","/cart/add.js"),(0,I.Z)(en,"CART_GET_URL","/cart.js"),(0,I.Z)(en,"CART_POST_UPDATE_URL","/cart/update.js"),(0,I.Z)(en,"CART_POST_CHANGE_URL","/cart/change.js"),(0,I.Z)(en,"CART_POST_CLEAR_URL","/cart/clear.js"),(0,I.Z)(en,"CART_GET_SHIPPING_RATES_URL","/cart/shipping_rates.json"),(0,I.Z)(en,"requestOptionDefaults",{triggerOnStart:!0,triggerOnComplete:!0,triggerOnChange:!0}),(0,I.Z)(en,"waitForComplete",!1);class sn{static get(t){return this.cache[t]?new Promise((e=>{e(this.cache[t])})):dt.getJSON(`/products/${t}.js`).then((e=>{const s=e.body;return this.cache[t]=s,this.cache[t]}))}static fitsVariantOptions(t,e){let s=!0;for(const i in e)if(e[i]){const n=e[i];s=s&&t.options.indexOf(n.toString())>-1}return s}static getVariantOfOptions(t,e){let s=null;if(t)for(const i in t.variants)if(t.variants[i]){s=null;const n=t.variants[i];if(this.fitsVariantOptions(n,e)){s=n;break}}return s}static getVariant(t,e){return t.variants.find((t=>t.id===e))||null}static getOption(t,e){return t.options.find((t=>t.name.toLowerCase()===e.toLowerCase()))}static prepare(t){t.featured_image.replace(/(^\w+:|^)\/\//,"//");for(const e of t.options)e.name=e.name.toString().toLocaleLowerCase();return t}}(0,I.Z)(sn,"cache",{});class nn{static formatMoneyWithDelimiters(t,e=2,s=",",i="."){if(!$(t)||null===t)return"0";const n=(t/100).toFixed(e).split(".");return n[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+s)+(n[1]?i+n[1]:"")}static get moneyWithCurrencyFormat(){if(window.model&&window.model.system&&window.model.system.shopSettings)return window.model.system.shopSettings.moneyWithCurrencyFormat}static get moneyFormat(){if(window.model&&window.model.system&&window.model.system.shopSettings)return window.model.system.shopSettings.moneyFormat}constructor(){if((0,I.Z)(this,"moneyFormat",void 0),(0,I.Z)(this,"moneyWithCurrencyFormat",void 0),nn.instance)return nn.instance;nn.instance=this}}(0,I.Z)(nn,"instance",void 0);const on={name:"shopify-cart-count",bind(t){this.customData={onCartRequestComplete:e=>{t.textContent=String(e.item_count)},onCartRequestChanged:e=>{t.textContent=String(e.item_count)}},en.shopifyCartEventDispatcher.on("ShopifyCart:request:complete",this.customData.onCartRequestComplete),en.shopifyCartEventDispatcher.on("ShopifyCart:request:changed",this.customData.onCartRequestChanged)},unbind(){en.shopifyCartEventDispatcher.off("ShopifyCart:request:complete",this.customData.onCartRequestComplete),en.shopifyCartEventDispatcher.off("ShopifyCart:request:changed",this.customData.onCartRequestChanged)},routine(){}},rn={name:"img_url",read(t,e,s,i,n){try{if("original"===e||"master"===e)return t;s&&1!==s&&(e+="@"+s+"x");const i=t.match(/(.*\/[\w\-_.]+)\.(\w{2,4})/);if(!i||!i[1]||!i[2])throw new Error(`Can't match url ${t}`);return i[1]+"_"+e+"."+(n=n||i[2])}catch(e){return console.error(e),t}}},an={name:"shopify-img",bind(t){this.customData={initialSrc:t.src,oldImageWidth:-11,setSrcset:e=>{e>5760&&(e=5760);let s=t.srcset,i=t.sizes;if(!rn.read)throw new Error("Shopify imgUrlFormatter read method is missing!");const n=Dt().w,o=Math.round(window.devicePixelRatio||1),r=e+"x",a=rn.read(this.customData.initialSrc,r,o,void 0,void 0,t);"string"==typeof s&&s.length>0?s+=", ":s="","string"==typeof i&&i.length>0?i+=", ":i="";const l=`${s}${a} ${e}w`,c=`${i} (width: ${n}px) ${e}px`;t.srcset=l,t.sizes=c,t.src=a},onResize:Rt((()=>{const e=t.offsetWidth,s=t.srcset;this.customData.oldImageWidth+10<e&&e>0&&-1===s.indexOf(`${e}w`)&&(this.customData.setSrcset(e),this.customData.oldImageWidth=e)}))},ResizeObserver?(this.customData.resizeObserver=new ResizeObserver((t=>{t.forEach((()=>{this.customData.onResize()}))})),this.customData.resizeObserver.observe(t)):window.addEventListener("resize",this.customData.onResize)},unbind(t){window.removeEventListener("resize",this.customData.onResize),this.customData.resizeObserver&&this.customData.resizeObserver.unobserve&&this.customData.resizeObserver.unobserve(t)},routine(t,e){if(!rn.read)throw new Error("Shopify imgUrlFormatter read method is missing!");e&&(this.customData.onResize(),setTimeout(this.customData.onResize,200),("string"!=typeof this.customData.initialSrc||this.customData.initialSrc.length<=0)&&(this.customData.initialSrc=e,t.src=e))}},ln={name:"money",read(t,e){let s="";const i=/\{\{\s*(\w+)\s*\}\}/,n=e||this.moneyFormat;if(!n)return console.warn(`Can't parse format: ${n}`),"0";"string"==typeof t&&(t=t.replace(".",""),t=parseFloat(t.toString()));const o=n.match(i);if(null!==o&&o.length>=1){switch(o[1]){case"amount":s=nn.formatMoneyWithDelimiters(t,2);break;case"amount_no_decimals":s=nn.formatMoneyWithDelimiters(t,0);break;case"amount_with_comma_separator":s=nn.formatMoneyWithDelimiters(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":s=nn.formatMoneyWithDelimiters(t,0,".",",")}return n.replace(i,s)}return console.warn(`Can't parse format: ${n}`),"0"}},cn={name:"money_with_currency",read(t,e){const s=e||nn.moneyWithCurrencyFormat;return ln.read?ln.read(t,s):(console.error(new Error("Can't find moneyFormatter's read method!")),t)}};class hn extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"editAddressForm",null),(0,I.Z)(this,"createAddressForm",null),(0,I.Z)(this,"scope",{createAddress:{validation:{valid:!1}},showFormId:"",editAddress:{},edit:this.edit,create:this.create,delete:this.delete})}connectedCallback(){super.connectedCallback(),this.init(hn.observedAttributes)}edit(t,e){const s=this.querySelector(`form[action="/account/addresses/${t}]`);if(!s)return!1;e.preventDefault(),e.stopPropagation(),this.validate(s,this.scope.editAddress[t].validation),this.scope.editAddress[t].validation.valid&&s.submit()}create(t){if(!this.createAddressForm)return!1;t.preventDefault(),t.stopPropagation(),this.validate(this.createAddressForm,this.scope.createAddress.validation),this.scope.createAddress.validation.valid&&this.createAddressForm.submit()}delete(t){dt.delete(`/account/addresses/${t}`,{},"json").then((t=>{console.debug("delete response",t),location.reload()})).catch((t=>{console.debug("delete error",t),location.reload()}))}initValidation(){this.editAddressForm=this.querySelector('form[action^="/account/addresses/"]'),this.editAddressForm.attr("novalidate",""),this.editAddressForm.addClass("needs-validation"),this.createAddressForm=this.querySelector('form[action="/account/addresses"]'),this.createAddressForm.attr("novalidate",""),this.createAddressForm.addClass("needs-validation")}validate(t,e){e.valid=t.checkValidity(),t.classList.add("was-validated")}async beforeBind(){}async afterBind(){this.initValidation()}requiredAttributes(){return[]}template(){return this&&Et(this)?null:""}}(0,I.Z)(hn,"tagName","shopify-addresses-form");class dn extends je{static get observedAttributes(){return["shipping-address","estimate-shipping-rate"]}requiredAttributes(){return[]}getScopeDefaults(){return{cart:en.cart,shippingAddress:null,estimateShippingRate:!1,shippingRates:[],removeItem:this.removeItem,increaseItem:this.increaseItem,decreaseItem:this.decreaseItem,getItem:this.getItem,onItemQuantityChanged:this.onItemQuantityChanged,pending:!1}}set cart(t){this.scope.cart=t,this.scope.shippingAddress&&this.scope.estimateShippingRate&&en.getShippingRates(this.scope.shippingAddress,!0,{triggerOnChange:!1,triggerOnComplete:!1,triggerOnStart:!1}).then((t=>{this.scope.shippingRates=t}))}get cart(){return this.scope.cart||null}constructor(){super(),(0,I.Z)(this,"scope",this.getScopeDefaults())}connectedCallback(){super.connectedCallback(),this.init(dn.observedAttributes)}removeItem(t){en.change(t.variant_id,0).then((t=>t)).catch((t=>{console.error(t)}))}increaseItem(t){t.quantity++,en.change(t.variant_id,t.quantity).then((t=>t)).catch((t=>{console.error(t)}))}decreaseItem(t){t.quantity--,t.quantity<0&&(t.quantity=0),en.change(t.variant_id,t.quantity).then((t=>t)).catch((t=>{console.error(t)}))}onItemQuantityChanged(t,e,s,i){if(!i)return void console.warn("Input element not found");const n=Number(Ct(i));n!==t.quantity&&(t.quantity=n,en.change(t.variant_id,t.quantity).then((t=>(this.debug("ShopifyCartService changed",t),t))).catch((t=>{console.error(t)})))}getItem(t){var e,s;t=Number(t);const i=(null===(e=this.scope.cart)||void 0===e?void 0:e.items.find((e=>Number(e.id)===t)))||null;return this.debug("getItem",t,i,null===(s=this.scope.cart)||void 0===s?void 0:s.items),i}onCartRequestStart(){this.scope.pending=!0}onCartRequestComplete(t){t&&(this.cart=t),this.scope.pending=!1}async beforeBind(){await super.beforeBind(),en.shopifyCartEventDispatcher.on("ShopifyCart:request:start",this.onCartRequestStart,this),en.shopifyCartEventDispatcher.on("ShopifyCart:request:complete",this.onCartRequestComplete,this)}disconnectedCallback(){super.disconnectedCallback(),en.shopifyCartEventDispatcher.off("ShopifyCart:request:start",this.onCartRequestStart,this),en.shopifyCartEventDispatcher.off("ShopifyCart:request:complete",this.onCartRequestComplete,this)}async afterBind(){this.debug("afterBind",this.scope),this.cart||(this.cart=await en.get()),await super.afterBind()}template(){return Et(this)?null:""}}(0,I.Z)(dn,"tagName","shopify-cart");class un{constructor(){return(0,I.Z)(this,"history",[]),un.instance||(un.instance=this),un.instance}currentStatus(){return this.history[this.history.length-1]}prevStatus(){const t=this.history;return t.length<2?null:t[t.length-2]}add(t,e=null){this.history.push({namespace:e,url:t})}}(0,I.Z)(un,"instance",void 0);class pn{constructor(t="replace"){(0,I.Z)(this,"oldContainer",void 0),(0,I.Z)(this,"newContainer",void 0),(0,I.Z)(this,"newContainerLoading",void 0),(0,I.Z)(this,"deferred",Zt()),(0,I.Z)(this,"action",void 0),this.action=t}async init(t,e){this.oldContainer=t,this.deferred=Zt();const s=Zt();return this.newContainerLoading=s.promise,this.start(),this.newContainer=await e,s.resolve(this.newContainer),this.deferred.promise}async done(){if(!this.oldContainer)throw new Error("Can't remove old container");if("replace"===this.action&&this.oldContainer.remove(),!this.newContainer)throw new Error("Can't show new container");return this.newContainer.style.visibility="visible",this.deferred.resolve()}}class mn extends pn{async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");await this.newContainerLoading,this.finish()}async finish(){return document.body.scrollTop=0,this.done()}}class vn extends pn{constructor(t=!0){super("replace"),(0,I.Z)(this,"scrollToTop",void 0),(0,I.Z)(this,"durationMs",200),this.scrollToTop=t}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.oldContainer&&(this.oldContainer.style.transition=`opacity ${this.durationMs}ms`,this.oldContainer.style.opacity="0"),this.scrollToTop&&await Tt(window,"start","vertical","smooth");const t=await this.newContainerLoading;t.style.opacity="0",t.style.transition=`opacity ${this.durationMs}ms`,setTimeout((()=>{this.finish(t)}),this.durationMs)}async finish(t){return t.style.opacity="1",this.done()}}class gn extends pn{constructor(t="replace",e=!0){super(t),(0,I.Z)(this,"action",void 0),(0,I.Z)(this,"scrollToTop",void 0),this.action=t,this.scrollToTop=e}async start(){if(!this.newContainerLoading)throw new Error("this.newContainerLoading is not set");this.scrollToTop&&await Tt(window,"start","vertical","smooth"),await this.newContainerLoading,await this.finish()}async finish(){return this.done()}}class fn{constructor(){(0,I.Z)(this,"namespace",void 0),(0,I.Z)(this,"container",void 0),(0,I.Z)(this,"dispatcher",rt.getInstance())}extend(t){return K({deep:!1},this,t)}init(){this.dispatcher.on("initStateChange",((t,e,s)=>{s&&s.namespace===this.namespace&&this.onLeave()})),this.dispatcher.on("newPageReady",((t,e,s,i)=>{this.container=i,e.namespace===this.namespace&&this.onEnter()})),this.dispatcher.on("transitionCompleted",((t,e,s)=>{e.namespace===this.namespace&&this.onEnterCompleted(),s&&s.namespace===this.namespace&&this.onLeaveCompleted()}))}}class bn{static getPrefetchLinkElements(t){return t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]')}static parseTitle(t){let e="";const s=t.querySelector("title");return s&&s.innerText&&(e=s.innerText),e}static parseResponse(t,e,s,i=!0){let n="",o=[];const r=document.createElement("template");r.innerHTML=t,e&&(n=this.parseTitle(r.content)),i&&(o=this.getPrefetchLinkElements(r.content));return{container:this.getContainer(r,s),title:n,prefetchLinks:o}}static parseInitial(t,e,s=!0){let i="",n=[];const o=this.getContainer(document,e);return t&&(i=this.parseTitle(document)),s&&(n=this.getPrefetchLinkElements(document)),{container:o,title:i,prefetchLinks:n}}static getContainer(t,e){if(!t)throw new Error("Barba.js: [getContainer] No element to get container from, maybe the DOM is not ready!");const s=this.parseContainer(t,e);if(!s)throw new Error("[DOM] No container found");return s}static getNamespace(t){return t&&t.dataset&&t.dataset.namespace?t.dataset.namespace:null}static putContainer(t,e){(t=t).style.visibility="hidden",e.appendChild(t)}static parseContainer(t,e){if(!t){const e=new Error("New page not loaded!");throw console.error(e,t),e}let s;if(s=t.content?t.content.querySelector(e):t.querySelector(e),!s){const s=new Error(`No container with selector "${e}" found!`);throw console.error(s,t),s}return s}}const yn="router-error";class wn{static getInstance(t="main"){const e=wn.instances[t];return e||console.warn(`No Pjax instance with id ${t} found!`),e}constructor(t){if(this.viewId=t,this.viewId=t,wn.instances[this.viewId])return wn.instances[this.viewId];wn.instances[this.viewId]=this,this.onLinkEnterIntern=this.onLinkEnterIntern.bind(this)}init(t=!1){if(!window.history.pushState)return!1;t&&(this.deInit(),document.body.addEventListener("mouseover",this.onLinkEnterIntern,{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnterIntern,{passive:!0}))}deInit(){document.body.removeEventListener("mouseover",this.onLinkEnterIntern),document.body.removeEventListener("touchstart",this.onLinkEnterIntern)}initBinder(t,e){if(!window.history.pushState)return!1;this.deInitBinder(t,e),t.addEventListener("mouseover",this.onLinkEnter.bind(this,e,t),{passive:!0}),t.addEventListener("touchstart",this.onLinkEnter.bind(this,e,t),{passive:!0})}deInitBinder(t,e){t.removeEventListener("mouseover",this.onLinkEnter.bind(this,e,t)),t.removeEventListener("touchstart",this.onLinkEnter.bind(this,e,t))}onLinkEnter(t,e,s){if(e.classList&&(e.classList.contains("no-barba-prefetch")||e.classList.contains(yn)))return;t=Wt(t);const i=En.preventCheck(t,e,s);if(t&&i){const s=En.getInstance(this.viewId);s?s.loadResponseCached(t,!1,!1).catch((s=>{e.classList.add(yn),console.error(t),console.error(s)})):(console.warn(`No pjax instance for viewId "${this.viewId}" found!`),e.classList.add(yn))}}url(t){t=Wt(t);const e=En.preventCheck(t);if(t&&e){const e=En.getInstance(this.viewId);e?e.loadResponseCached(t,!1,!1).catch((t=>{console.error(t)})):console.warn(`No pjax instance for viewId "${this.viewId}" found!`)}}onLinkEnterIntern(t){let e=At(t);if(!e)throw new Error("HTML Element not set");for(;e&&!En.getHref(e);)e=e.parentNode;if(!e)return;if("A"!==e.nodeName)return;const s=En.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(s)return this.onLinkEnter(s,e,t);console.warn("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.",e)}}}(0,I.Z)(wn,"instances",{});class En{static getInstance(t="main"){const e=En.instances[t];return e||console.warn(`No pjax instance for viewId "${t}" found!`),e}static preventCheckUrl(t){const e=document.createElement("a");return e.setAttribute("href",t),!!e&&(!!t&&(Xt(t)!==Xt(location.href)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&Kt()===Kt(e.port))))}static preventCheck(t,e,s){if(!window.history.pushState)return!1;if(!this.preventCheckUrl(t))return!1;if(s&&(s&&s.which&&s.which>1||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey))return!1;if(e){if(e.target&&"_blank"===e.target)return!1;if(e.getAttribute&&"string"==typeof e.getAttribute("download"))return!1;if(e.classList.contains("no-barba"))return!1}return!0}static getHref(t){if(t){if(t.getAttribute&&"string"==typeof t.getAttribute("xlink:href"))return t.getAttribute("xlink:href")||void 0;if("string"==typeof t.href||t.hasAttribute&&t.hasAttribute("href")){const e=t.href||t.getAttribute("href");if(!e)throw console.error("href attribute not found for element: ",t),new Error("href attribute not found!");return e}}}constructor({id:t,wrapper:e,containerSelector:s="[data-namespace]",listenAllLinks:i=!1,listenPopstate:n=!0,transition:o=new gn,parseTitle:r=!0,changeBrowserUrl:a=!0,prefetchLinks:l=!0}){(0,I.Z)(this,"history",new un),(0,I.Z)(this,"cacheEnabled",!0),(0,I.Z)(this,"transitionProgress",!1),(0,I.Z)(this,"listenAllLinks",void 0),(0,I.Z)(this,"listenPopstate",void 0),(0,I.Z)(this,"parseTitle",void 0),(0,I.Z)(this,"changeBrowserUrl",void 0),(0,I.Z)(this,"dispatcher",void 0),(0,I.Z)(this,"transition",void 0),(0,I.Z)(this,"wrapper",void 0),(0,I.Z)(this,"viewId","main"),(0,I.Z)(this,"containerSelector",void 0),(0,I.Z)(this,"prefetchLinks",void 0),t&&(this.viewId=t);let c=this;return this.dispatcher=new rt(this.viewId),this.listenAllLinks=i,this.listenPopstate=n,this.parseTitle=r,this.changeBrowserUrl=a,this.containerSelector=s,this.prefetchLinks=l,En.instances[this.viewId]&&(c=En.instances[this.viewId]),c.transition=c.transition||o,c.wrapper=c.wrapper||e,c.containerSelector=c.containerSelector||s,c.listenAllLinks=z(c.listenAllLinks)?c.listenAllLinks:i,c.listenPopstate=z(c.listenPopstate)?c.listenPopstate:n,c.parseTitle=z(c.parseTitle)?c.parseTitle:r,c.changeBrowserUrl=z(c.changeBrowserUrl)?c.changeBrowserUrl:a,c.prefetchLinks=z(c.prefetchLinks)?c.prefetchLinks:l,c.wrapper&&c.wrapper.setAttribute("aria-live","polite"),En.instances[this.viewId]=c,En.instances[this.viewId]}start(){if(this.wrapper)try{this.init(this.wrapper,this.listenAllLinks,this.listenPopstate)}catch(t){console.error(t)}else console.error("Can't init pjax without wrapper")}getCurrentUrl(){return Xt(Gt())}goTo(t,e=!1){if(e){const e=window.open(t,"_blank");return!!e&&e.focus()}if(!t.startsWith("http"))return this.changeBrowserUrl&&window.history.pushState(null,"",t),this.onStateChange(void 0,t);this.forceGoTo(t)}getTransition(){return this.transition||new gn}prefetchLink(t){t=Wt(t);if(En.preventCheckUrl(t))return this.loadResponseCached(t,!0,!1)}prefetchLinkElement(t,e){const s=t.getAttribute("rel"),i=En.getHref(t);if("router-preload"===s&&i&&this.cacheEnabled&&!t.classList.contains(yn))try{this.prefetchLink(i)}catch(e){t.classList.add(yn),console.error(e)}e.appendChild(t)}removePrefetchLinks(t){t.querySelectorAll('link[href][rel="dns-prefetch"], link[href][rel="preconnect"], link[href][rel="prefetch"], link[href][rel="subresource"], link[href][rel="preload"], link[href][rel="router-preload"]').forEach((t=>{t&&t.parentNode&&t.parentNode.removeChild(t)}))}replacePrefetchLinkElements(t){const e=document.head||document.getElementsByTagName("head")[0];this.removePrefetchLinks(e),t.forEach((t=>{this.prefetchLinkElement(t,e)}))}async loadCached(t){try{const{responsePromise:e}=await this.loadResponseCached(t,!1,!0);if(!this.wrapper)throw new Error("[Pjax] you need a wrapper!");const s=await e;return bn.putContainer(s.container,this.wrapper),!0===this.parseTitle&&s.title&&(document.title=s.title),!0===this.prefetchLinks&&s.prefetchLinks&&this.replacePrefetchLinkElements(s.prefetchLinks),s.container}catch(e){throw console.error(e),this.forceGoTo(t),e}}async loadResponseCached(t,e=!1,s=!0){let i;try{if(this.cacheEnabled&&(i=En.cache.get(t),i))return{fromCache:!0,responsePromise:i};i=this.loadResponse(t,e),this.cacheEnabled&&i&&En.cache.set(t,i)}catch(e){throw console.error(e),s&&this.forceGoTo(t),e}return{fromCache:!1,responsePromise:i}}async loadResponse(t,e=!1){const s=e?{cache:"force-cache"}:{},i=await dt.get(t,void 0,"html",{},s);if(!i||!i.body)throw new Error("No body!");return bn.parseResponse(i.body,this.parseTitle,this.containerSelector,this.prefetchLinks)}bindEvents(t,e){t&&document.addEventListener("click",this.onLinkClickIntern.bind(this)),e&&window.addEventListener("popstate",this.onStateChange.bind(this))}forceGoTo(t){console.warn("forceGoTo",t),t&&t.href&&(window.location=t),"string"==typeof t&&(window.location.href=t)}onLinkClickIntern(t){let e=At(t);for(;e&&!En.getHref(e);)e=e.parentNode;if(!e||"A"!==e.nodeName)return;const s=En.getHref(e);if(!e.classList.contains("route")&&!e.hasAttribute("rv-route")){if(!s)throw new Error("Url is not defined, you can't cache the link without the url. Please make sure your element has the href attribute or pass the url directly to this function.");return!e.classList.contains("route")&&!e.hasAttribute("rv-route")&&this.onLinkClick(t,e,s)}}onLinkClick(t,e,s,i=!1){if(!(s=Wt(s)))throw new Error("href is falsy");En.preventCheck(s,e,t)&&(t.stopPropagation(),t.preventDefault(),this.dispatcher.trigger("linkClicked",e,t),this.goTo(s,i))}async onStateChange(t,e=this.getCurrentUrl()){e=Wt(e);const s=Wt(this.history.currentStatus().url);if(this.changeBrowserUrl&&s===e)return!1;this.history.add(e),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus(),this.history.prevStatus());const i=bn.getContainer(document,this.containerSelector),n=this.loadCached(e),o=this.getTransition();this.transitionProgress=!0;const r=o.init(i,n);this.onNewContainerLoaded(await n),await r,this.onTransitionEnd()}onNewContainerLoaded(t){this.history.currentStatus().namespace=bn.getNamespace(t);const e=wt(t);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),this.history.prevStatus(),t,t.innerHTML,e,!1)}onTransitionEnd(){this.transitionProgress=!1,this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus(),this.history.prevStatus())}init(t,e,s){const i=bn.parseInitial(this.parseTitle,this.containerSelector,this.prefetchLinks),n=window.location.pathname;if(this.cacheEnabled){const t=Wt(window.location.href);En.cache.get(n)||this.loadResponseCached(t,!1,!1)}this.replacePrefetchLinkElements(i.prefetchLinks),this.wrapper=t,this.history.add(this.getCurrentUrl(),bn.getNamespace(i.container)),this.dispatcher.trigger("initStateChange",this.viewId,this.history.currentStatus());const o=wt(i.container);this.dispatcher.trigger("newPageReady",this.viewId,this.history.currentStatus(),{},i.container,i.container.innerHTML,o,!0),this.dispatcher.trigger("transitionCompleted",this.viewId,this.history.currentStatus()),this.bindEvents(e,s)}}(0,I.Z)(En,"cache",new class{constructor(){(0,I.Z)(this,"data",void 0),this.data={}}set(t,e){return this.data[t]=e,this.data[t]}get(t){return this.data[t]}reset(){this.data={}}}),(0,I.Z)(En,"instances",{});class Cn{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of RouterService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of RouterService already defined!");const e={defaultTransition:t.defaultTransition||new gn};return this._options=e,this.instance=new this,this.instance}}(0,I.Z)(Cn,"_options",void 0),(0,I.Z)(Cn,"instance",void 0);const Sn={name:"view",block:!0,options:{},nested:null,bind(t){const e=this.binder||this;e.nested=e.nested||null,e.wrapper=e.wrapper||t,console.warn("The viewBinder is depricated, use the router-view component instead!")},routine(t,e){var s;const i=this.binder||this;i.options=e||{},i.options.viewId=i.options.viewId||t.getAttribute("id")||"main",i.options.action=i.options.action||"replace","main"===i.options.viewId?(i.options.containerSelector=i.options.containerSelector||"[data-namespace]",i.options.scrollToTop=!z(i.options.scrollToTop)||i.options.scrollToTop,i.options.listenAllLinks=!z(i.options.listenAllLinks)||i.options.listenAllLinks,i.options.listenPopstate=!z(i.options.listenPopstate)||i.options.listenPopstate,i.options.scrollToAnchorHash=!z(i.options.scrollToAnchorHash)||i.options.scrollToAnchorHash,i.options.datasetToModel=!z(i.options.datasetToModel)||i.options.datasetToModel,i.options.parseTitle=!z(i.options.parseTitle)||i.options.parseTitle,i.options.changeBrowserUrl=!z(i.options.changeBrowserUrl)||i.options.changeBrowserUrl,i.options.prefetchLinks=!z(i.options.prefetchLinks)||i.options.prefetchLinks):(i.options.containerSelector=i.options.containerSelector||`#${i.options.viewId} > *:first-child`,i.options.scrollToTop=!!z(i.options.scrollToTop)&&i.options.scrollToTop,i.options.listenAllLinks=!!z(i.options.listenAllLinks)&&i.options.listenAllLinks,i.options.listenPopstate=!!z(i.options.listenPopstate)&&i.options.listenPopstate,i.options.scrollToAnchorHash=!!z(i.options.scrollToAnchorHash)&&i.options.scrollToAnchorHash,i.options.datasetToModel=!!z(i.options.datasetToModel)&&i.options.datasetToModel,i.options.parseTitle=!!z(i.options.parseTitle)&&i.options.parseTitle,i.options.changeBrowserUrl=!!z(i.options.changeBrowserUrl)&&i.options.changeBrowserUrl,i.options.prefetchLinks=!!z(i.options.prefetchLinks)&&i.options.prefetchLinks),i.options.prefetchLinks=!z(i.options.prefetchLinks)||i.options.prefetchLinks,i.options.transition=i.options.transition||new gn(i.options.action,i.options.scrollToTop),i.dispatcher=new rt(i.options.viewId),null===(s=i.wrapper)||void 0===s||s.setAttribute("id",i.options.viewId),i.dispatcher.on("newPageReady",i.onPageReady,this),i.dispatcher.on("transitionCompleted",i.onTransitionCompleted,this);const n={id:i.options.viewId,wrapper:i.wrapper,containerSelector:i.options.containerSelector,listenAllLinks:!!i.options.listenAllLinks,listenPopstate:!!i.options.listenPopstate,transition:i.options.transition,parseTitle:!!i.options.parseTitle,changeBrowserUrl:!!i.options.changeBrowserUrl,prefetchLinks:!!i.options.prefetchLinks},o=new En(n);i.prefetch=new wn(i.options.viewId),i.prefetch.init(n.prefetchLinks),o.start()},unbind(){const t=this.binder||this;t.dispatcher&&(t.dispatcher.off("newPageReady",t.onPageReady,this),t.dispatcher.off("transitionCompleted",t.onTransitionCompleted,this)),null!==t.nested&&(t.nested.unbind(),t.nested=null)},onPageReady(t,e,s,i,n,o){const r=this.binder||this;t===r.options.viewId?(r.nested&&r.options.action,q(this.view.models)||(this.view.models={}),!0===r.options.datasetToModel&&q(o)&&(this.view.models.dataset=o),r.nested=new _e(i,this.view.models,this.view.options),r.nested.bind()):console.warn("not the right view",r.options.viewId,t,o)},onTransitionCompleted(t){const e=this.binder||this;if(t===e.options.viewId){if(e.options.scrollToAnchorHash&&window.location.hash){const t=document.getElementById(window.location.hash.substr(1));if(t)return new Promise((e=>{e(kt(t,0,window))}))}return Promise.resolve()}}},_n=js.read,kn={name:"view-static",block:!0,bind(){this.customData||(this.customData={nested:null})},async routine(t,e){const s=t;(e=e||{}).listenAllLinks=!1,e.listenPopstate=!1,e.parseTitle=!1,e.transition=e.transition||new gn,e.viewId=e.viewId||t.getAttribute("id")||_n(e.url),e.containerSelector=e.containerSelector||"[data-namespace]",e.changeBrowserUrl=!1;const i=new En(e),{responsePromise:n}=await i.loadResponseCached(e.url,!1,!1),o=await n;s.replaceWith(o.container),o.container.style.visibility="visible",q(this.view.models)||(this.view.models={}),this.customData.nested&&this.customData.nested.unbind(),this.customData.nested=new _e(o.container,this.view.models,this.view.options),this.customData.nested.bind()},unbind(){this.customData.nested&&this.customData.nested.unbind(),delete this.customData}},Tn={name:"route",bind(t){t.classList.add("route"),this.customData={dispatcher:void 0,options:{removeAfterActivation:!1,newTab:!1,newTabOnExtern:!0},onClick(t){const e=En.getInstance(this.customData.options.viewId);if(Yt(this.customData.options.url))console.debug("already on this site, do nothing"),t.stopPropagation(),t.preventDefault();else if(Jt(this.customData.options.url)){if(!e)return;t.stopPropagation(),t.preventDefault(),this.customData.options.url.startsWith("http");const s=this.customData.options.newTab||this.customData.options.newTabOnExtern;e.goTo(this.customData.options.url,s)}else if(this.customData.options.url){if(!e)return;e.onLinkClick(t,this.el,this.customData.options.url,this.customData.options.newTab)}this.customData.options.removeAfterActivation&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},this.customData.onClick=this.customData.onClick.bind(this),t.addEventListener("click",this.customData.onClick)},routine(t,e){V(e)?this.customData.options.url=e:q(e)&&(this.customData.options=e),this.customData.options.viewId=this.customData.options.viewId||"main",this.customData.prefetch=new wn(this.customData.options.viewId),this.customData.dispatcher=new rt(this.customData.options.viewId),this.customData.options.newTab=!1;const s="A"===t.tagName;if(!this.customData.options.url&&s){const e=t.getAttribute("href");e&&(this.customData.options.url=e)}"_blank"===t.getAttribute("target")&&(this.customData.options.newTab=!0),this.customData.options.url=Wt(this.customData.options.url),!s||t.href&&t.getAttribute("href")||!this.customData.options.url||(t.setAttribute("href",this.customData.options.url),t.href=this.customData.options.url),this.customData.options.newTab||this.customData.prefetch.initBinder(t,this.customData.options.url)},unbind(t){this.customData.prefetch.deInitBinder(t,this.customData.options.url),t.removeEventListener("click",this.customData.onClick)}},An={name:"route-class-*",bind(){this.customData={dispatcher:new rt("main")}},routine(t,e){const s=this.args[0].toString()||"active",i="A"===t.tagName;if(!e&&i){const s=t.getAttribute("href");s&&(e=s)}this.customData.onUrlChange&&this.customData.dispatcher.off("newPageReady",this.customData.onUrlChange),this.customData.onUrlChange=()=>{if(e){if(Yt(e))return t.classList.add(s),"radio"===t.getAttribute("type")&&(t.checked=!0),!0;t.classList.remove(s),"radio"===t.getAttribute("type")&&(t.checked=!1)}return!1},this.customData.dispatcher.on("newPageReady",this.customData.onUrlChange),this.customData.onUrlChange()},unbind(){this.customData.onUrlChange&&this.customData.dispatcher.off("newPageReady",this.customData.onUrlChange)}},Dn={name:"route-preload",bind(){},routine(t,e){const s="A"===t.tagName;if(!e&&s){const s=t.getAttribute("href");s&&(e=s)}var i;e&&(null===(i=En.getInstance())||void 0===i||i.prefetchLink(e))},unbind(){}},Ln={name:"parent-route-class-*",bind(){this.customData={dispatcher:new rt("main")}},routine(t,e){const s=this.args[0].toString()||"active",i="A"===t.tagName;if(!e&&i){const s=t.getAttribute("href");s&&(e=s)}const n=e=>{if(e){if((t=>{if(t){const e=Vt(),s=e.pathname,i=e.hostname,n=Vt(t),o=n.pathname;return i===n.hostname&&s.startsWith(o)}return!1})(e))return t.classList.add(s),"radio"===t.getAttribute("type")&&(t.checked=!0),!0;t.classList.remove(s),"radio"===t.getAttribute("type")&&(t.checked=!1)}return!1};this.customData.dispatcher.on("newPageReady",(()=>n(e))),n(e)},unbind(){}},On=()=>{window.history.back()},xn={name:"route-back-on-*",priority:3e3,bind(){this.customData={}},unbind(t){t.removeEventListener(this.args[0],On)},routine(t){if(null===this.args)throw new Error("args is null");this.customData.eventName&&t.removeEventListener(this.customData.eventName,On),this.customData.eventName=this.args[0],t.addEventListener(this.args[0],On)}};class Pn extends je{static get observedAttributes(){return["src","id","async","defer"]}constructor(){super(),(0,I.Z)(this,"autobind",!1),(0,I.Z)(this,"scope",{src:"",id:"",async:!0,defer:!0})}connectedCallback(){super.connectedCallback(),super.init(Pn.observedAttributes)}async onReady(){await super.onReady(),this.scope.id||(this.scope.id=Lt("script-")),(async(t,e,s=!0,i=!0)=>{await new Promise(((n,o)=>{let r=document.getElementById(e);if(r){if(console.warn("script already loaded, do nothing."),r.hasAttribute("loaded"))return n(r)}else r=document.createElement("script"),r.type="text/javascript",r.id=e,r.src=t,s&&(r.async=!0),i&&(r.defer=!0),(document.head||document.getElementsByTagName("head")[0]).appendChild(r);r.readyState&&(r.onreadystatechange=function(){var t;"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,null===(t=r)||void 0===t||t.setAttribute("loaded","true"),n(r))}),r.addEventListener("load",(()=>{var t;null===(t=r)||void 0===t||t.setAttribute("loaded","true"),n(r)})),r.addEventListener("error",((...t)=>{var e;const s=new Error("Error on load script "+(null===(e=r)||void 0===e?void 0:e.src));console.error(s),console.error(...t),o(s)}))}))})(this.scope.src,this.scope.id,this.scope.async)}requiredAttributes(){return["src"]}template(){return null}}(0,I.Z)(Pn,"tagName","router-load-script");class In extends je{static get observedAttributes(){return["id","action","container-selector","scroll-to-top","listen-all-links","listen-popstate","scroll-to-anchor-hash","dataset-to-model","parse-title","change-browser-url","prefetch-links"]}constructor(){super(),(0,I.Z)(this,"events",rt.getInstance("main")),(0,I.Z)(this,"nested",null),(0,I.Z)(this,"wrapper",null),(0,I.Z)(this,"pjax",null),(0,I.Z)(this,"prefetch",null),(0,I.Z)(this,"scope",{id:"main",action:"replace",scrollToTop:!0,listenAllLinks:!0,listenPopstate:!0,scrollToAnchorHash:!0,datasetToModel:!0,parseTitle:!0,changeBrowserUrl:!0,prefetchLinks:!0,transition:Cn.options.defaultTransition,dataset:{}})}connectedCallback(){super.connectedCallback(),this.init(In.observedAttributes)}addEventListeners(){this.events.on("newPageReady",this.onPageReady,this),this.events.on("transitionCompleted",this.onTransitionCompleted,this)}removeEventListeners(){this.events.off("newPageReady",this.onPageReady,this),this.events.off("transitionCompleted",this.onTransitionCompleted,this)}getContainerSelector(){return"main"===this.scope.id?`${In.tagName} > *`:`${In.tagName}#${this.scope.id} > *`}initAndStartPjax(){if(!this.scope.id)return void console.error("Id attribute is required!");const t={id:this.scope.id,wrapper:this,containerSelector:this.getContainerSelector(),listenAllLinks:!!this.scope.listenAllLinks,listenPopstate:!!this.scope.listenPopstate,transition:this.scope.transition,parseTitle:!!this.scope.parseTitle,changeBrowserUrl:!!this.scope.changeBrowserUrl,prefetchLinks:!!this.scope.prefetchLinks};this.pjax=new En(t),this.prefetch=new wn(this.scope.id),this.prefetch.init(t.prefetchLinks),this.pjax.start()}onPageReady(t,e,s,i,n,o,r){this.scope.datasetToModel&&(this.scope.dataset=o),r||(t===this.scope.id?(this.debug("New page ready!",this.innerHTML),this.view=this.getView(),this.view?this.view.bind():console.warn("View ist not ready!")):console.warn("not the right view",this.scope.id,t,o))}async onTransitionCompleted(t){if(t===this.scope.id&&(this.scope.scrollToTop||this.scope.scrollToAnchorHash)){let t=null;const e=window.location.hash.substr(1);if(e&&(t=document.getElementById(window.location.hash.substr(1))),this.scope.scrollToAnchorHash&&e&&t)return await kt(t,0,window)}}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){switch(super.parsedAttributeChangedCallback(t,e,s,i),t){case"id":this.events=rt.getInstance(this.scope.id)}}async beforeBind(){await super.beforeBind(),this.addEventListeners(),this.initAndStartPjax()}template(){return null}}(0,I.Z)(In,"tagName","router-view");const Nn={binders:v,components:g,services:m,formatters:{},init(t={}){return Cn.setSingleton(t),this}};class Zn extends je{static get observedAttributes(){return[]}set cart(t){this.scope.cartItemCount=t.item_count,this.scope.startAddAnimation=!0,setTimeout((()=>{this.scope.startAddAnimation=!1}),3e3)}constructor(){super(),(0,I.Z)(this,"scope",{cartItemCount:0,toggle:this.toggle,pending:!1,startAddAnimation:!1})}connectedCallback(){super.connectedCallback(),this.init(Zn.observedAttributes)}toggle(t){if(t.preventDefault(),t.stopPropagation(),Yt(Zn.cartUrl))window.history.back();else if(Zn.cartUrl){const t=En.getInstance("main");if(!t)return;t.goTo(Zn.cartUrl,!1)}}async beforeBind(){en.shopifyCartEventDispatcher.on("ShopifyCart:request:start",(()=>{this.scope.pending=!0})),en.shopifyCartEventDispatcher.on("ShopifyCart:request:complete",(t=>{t&&(this.cart=t),this.scope.pending=!1}))}async afterBind(){return en.get().catch((t=>{console.debug(t)}))}requiredAttributes(){return[]}template(){return Et(this)?null:""}}(0,I.Z)(Zn,"tagName","shopify-cart-button"),(0,I.Z)(Zn,"cartUrl","/cart");class Bn extends je{static get observedAttributes(){return["id","title","price","line-price","line-number","quantity","sku","grams","vendor","properties","gift-card","url","image","handle","requires-shipping","product-title","product-description","product-type","product-id","variant-title","variant-options","variant-id","key"]}requiredAttributes(){return["id","variantId","quantity"]}getScopeDefaults(){return{id:0,productId:0,variantId:0,properties:[],quantity:0,remove:this.remove,increase:this.increase,decrease:this.decrease,onInputQuantityChanged:this.onInputQuantityChanged,pending:!1}}constructor(){super(),(0,I.Z)(this,"scope",this.getScopeDefaults())}connectedCallback(){super.connectedCallback(),this.init(Bn.observedAttributes)}remove(){this.debug("decrease",this.scope.variantId),en.change(this.scope.variantId,0).then((t=>t)).catch((t=>{console.error(t)}))}increase(){this.debug("increase",this.scope.quantity),this.scope.quantity++,en.change(this.scope.variantId,this.scope.quantity).then((t=>t)).catch((t=>{console.error(t)}))}decrease(){this.debug("decrease",this.scope.quantity),this.scope.quantity--,this.scope.quantity<0&&(this.scope.quantity=0),en.change(this.scope.variantId,this.scope.quantity).then((t=>(this.debug("ShopifyCartService changed",t),t))).catch((t=>{console.error(t)}))}onInputQuantityChanged(){this.debug("onInputQuantityChanged"),en.change(this.scope.variantId,this.scope.quantity).then((t=>(this.debug("ShopifyCartService changed",t),t))).catch((t=>{console.error(t)}))}onCartUpdate(t){const e=this.getItemFromCart(t);if(!e)return this.debug("Item not found, probably item was removed."),void super.remove();this.debug("update item from cart"),this.scope.title=e.title,this.scope.price=e.price,this.scope.linePrice=e.line_price,this.scope.lineNumber=e.line_number,this.scope.quantity=e.quantity,this.scope.sku=e.sku,this.scope.grams=e.grams,this.scope.vendor=e.vendor,this.scope.properties=e.properties,this.scope.giftCard=e.gift_card,this.scope.url=e.url,this.scope.image=e.image,this.scope.handle=e.handle,this.scope.requiresShipping=e.requires_shipping,this.scope.productTitle=e.product_title,this.scope.productDescription=e.product_description,this.scope.productType=e.product_type,this.scope.productId=e.product_id,this.scope.variantTitle=e.variant_title,this.scope.variantOptions=e.variant_options,this.scope.key=e.key,0!==this.scope.quantity||super.remove()}getItemFromCart(t){for(const e of t.items)if(e.key&&this.scope.key){if(e.key===this.scope.key)return e}else if(e.id===this.scope.id&&e.variant_id===this.scope.variantId)return e;return null}async beforeBind(){await super.beforeBind()}onCartRequestStart(){this.scope.pending=!0}onCartRequestComplete(t){return this.debug("ShopifyCart:request:complete",t),this.onCartUpdate(t),this.scope.pending=!1,t}async afterBind(){this.debug("afterBind",this.scope),en.shopifyCartEventDispatcher.on("ShopifyCart:request:start",this.onCartRequestStart,this),en.shopifyCartEventDispatcher.on("ShopifyCart:request:complete",this.onCartRequestComplete,this);const t=await en.get();this.onCartUpdate(t),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),en.shopifyCartEventDispatcher.off("ShopifyCart:request:start",this.onCartRequestStart,this),en.shopifyCartEventDispatcher.off("ShopifyCart:request:complete",this.onCartRequestComplete,this)}template(){return Et(this)?null:""}}(0,I.Z)(Bn,"tagName","shopify-cart-item");class Rn extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"newCommentForm",null),(0,I.Z)(this,"scope",{form:{customer:{email:"",password:""}},loginCustomer:{validation:{valid:!1}},createCustomer:{validation:{valid:!1}},recoverCustomer:{validation:{valid:!1}},post:this.post})}connectedCallback(){super.connectedCallback(),this.init(Rn.observedAttributes)}post(t){if(!this.newCommentForm)return console.error("No comment form found"),!1;t.preventDefault(),t.stopPropagation(),this.validate(this.newCommentForm,this.scope.loginCustomer.validation),this.scope.loginCustomer.validation.valid&&this.newCommentForm.submit()}initValidation(){this.newCommentForm=this.querySelector("#comment_form"),this.newCommentForm.setAttribute("novalidate",""),this.newCommentForm.classList.add("needs-validation")}validate(t,e){e.valid=t.checkValidity(),t.classList.add("was-validated")}async beforeBind(){}async afterBind(){this.initValidation()}requiredAttributes(){return[]}template(){return this&&Et(this)?null:""}}(0,I.Z)(Rn,"tagName","shopify-comments-form");class Fn extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"form",void 0),(0,I.Z)(this,"scope",{form:{fields:{firstName:"",lastName:"",fullName:"",company:"",phone:"",email:"",message:""},valid:!1,error:void 0},send:this.send,selectAll:this.selectAll})}connectedCallback(){super.connectedCallback(),this.init(Fn.observedAttributes)}send(t){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&(this.scope.form.fields[t]=Y(this.scope.form.fields[t]));if(t.preventDefault(),t.stopPropagation(),!this.form)return!1;this.validate(this.form,this.scope.form),this.scope.form.valid&&this.form.submit()}selectAll(t,e,s){var i;i=s,setTimeout((()=>{if(void 0!==i.selectionStart&&(i.selectionStart=0,i.selectionEnd=999),"function"==typeof i.select&&i.select(),"function"==typeof i.setSelectionRange&&i.setSelectionRange(0,999),window.getSelection){const t=document.createRange();t.selectNodeContents(i);const e=window.getSelection();e&&(e.removeAllRanges(),e.addRange(t),e.selectAllChildren(i))}if(document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(i),t.select()}document.execCommand&&document.execCommand("selectAll",!1,void 0)}),0)}validate(t,e){e.valid=t.checkValidity(),e.error=t.validationMessage,t.classList.add("was-validated")}async beforeBind(){this.form=this.getElementsByTagName("form")[0],this.form.classList.add("needs-validation"),this.form.setAttribute("novalidate","")}requiredAttributes(){return[]}template(){return this&&Et(this)?null:""}}(0,I.Z)(Fn,"tagName","shopify-contact-form");class Mn extends je{static get observedAttributes(){return["theme-name"]}constructor(){super(),(0,I.Z)(this,"scope",{hasPreviewBar:!1,hasAdminBar:!1,toggleBar:this.toggleBar,hide:this.hide,hidden:!1}),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"previewBar",null),(0,I.Z)(this,"adminBar",null)}connectedCallback(){super.connectedCallback(),this.init(Mn.observedAttributes)}async attributeChangedCallback(t,e,s,i){this.debug("attributeChangedCallback",t,e,s,i),super.attributeChangedCallback(t,e,s,i)}hide(){this.scope.hidden=!this.scope.hidden}toggleBar(t=!1){this.previewBar&&(!0===t||St(this.previewBar)?this.previewBar.setAttribute("hidden",""):this.previewBar.removeAttribute("hidden")),this.adminBar&&(!0===t||St(this.adminBar)?this.adminBar.setAttribute("hidden",""):this.adminBar.removeAttribute("hidden"))}async beforeBind(){this.previewBar=document.getElementById("preview-bar-iframe"),this.adminBar=document.getElementById("admin-bar-iframe"),this.previewBar?(this.scope.hasPreviewBar=!0,this.toggleBar(!0)):(this.previewBar=null,this.scope.hasPreviewBar=!1),this.adminBar?(this.scope.hasAdminBar=!0,this.toggleBar(!0)):(this.adminBar=null,this.scope.hasAdminBar=!1)}template(){return this&&Et(this)?null:'<small rv-hide="hidden" class="text-right" rv-touch-events rv-on-singletap="toggleBar" rv-on-doubletap="hide"> { themeName }<br/> <div> Device width: <span class="d-inline-block d-md-none">XS</span> <span class="d-none d-md-inline-block d-lg-none">MD</span> <span class="d-none d-lg-inline-block d-xl-none">LG</span> <span class="d-none d-xl-inline-block d-xxl-none">XL</span> <span class="d-none d-xxl-inline-block">XXL</span> </div> </small> '}}(0,I.Z)(Mn,"tagName","shopify-debug-bar");class jn extends je{static get observedAttributes(){return["linklist","handle","name","pills","vertical","collapse-on-new-page","show-on-child-url"]}constructor(){super(),(0,I.Z)(this,"mainDispatcher",new rt("main")),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{pills:!1,vertical:!1,collapseOnNewPage:!0,showOnActiveChild:!0,toggle:this.toggle,collapse:this.collapse,collapseAll:this.collapseAll,show:this.show,showAll:this.showAll}),this.mainDispatcher.on("newPageReady",this.onNewPageReady,this)}connectedCallback(){super.connectedCallback(),this.init(jn.observedAttributes)}disconnectedCallback(){super.disconnectedCallback(),this.mainDispatcher.off("newPageReady",this.onNewPageReady,this)}toggle(t){t.collapsed=!t.collapsed}collapse(t){t.collapsed=!0}show(t){t.collapsed=!1}showAll(){this.scope.linklist&&this.showAllByLinks(this.scope.linklist.links)}collapseAll(){this.scope.linklist&&this.scope.linklist.links&&this.collapseAllByLinks(this.scope.linklist.links)}showByChildUrl(t){if(this.scope.linklist&&this.scope.linklist.links)for(const e of this.scope.linklist.links)for(const s of e.links){if(s.url===t){this.show(e);break}for(const i of s.links)if(i.url===t){this.show(e),this.show(s);break}}}async attributeChangedCallback(t,e,s,i){if(super.attributeChangedCallback(t,e,s,i),"handle"===t||"name"===t){if(!(window.model&&window.model.system&&window.model.system.linklists&&window.model.system.linklists[s]))throw new Error(`Linklist not found! \nNote: The linklist must be available under "window.model.system.linklists['${s}']" to set it using his handle.`);this.scope.linklist=window.model.system.linklists[s]}"linklist"===t&&("object"==typeof s&&1===Object.keys(s).length&&(s=s[Object.keys(s)[0]]),this.scope.linklist=s)}collapseAllByLinks(t){if(this.scope.linklist&&this.scope.linklist.links)for(const e of t)e.collapseable&&(e.collapsed=!0),e.links&&this.collapseAllByLinks(e.links)}showAllByLinks(t){if(this.scope.linklist&&this.scope.linklist.links)for(const e of t)e.collapseable&&(e.collapsed=!1),e.links&&this.collapseAllByLinks(e.links)}onNewPageReady(t,e){const s=e.url;this.scope.collapseOnNewPage&&this.collapseAll(),this.scope.showOnActiveChild&&this.showByChildUrl(s)}async beforeBind(){await super.beforeBind(),this.scope.linklist&&this.scope.linklist.links&&(this.transformLinks(this.scope.linklist.links),this.scope.collapseOnNewPage&&this.collapseAll()),this.scope.showOnActiveChild&&this.showByChildUrl(window.location.pathname)}transformLinks(t){for(const e of t)"#collapse"===e.url?(e.collapseable=!0,e.collapsed=!0):(e.collapseable=!1,e.collapsed=!1),e.links&&this.transformLinks(e.links)}requiredAttributes(){return["linklist"]}template(){return Et(this)?null:'<nav class="nav" rv-add-class="linklist.handle" rv-class-nav-pills="pills" rv-class-w-100="vertical" rv-class-flex-column="vertical" rv-class-flex-row="vertical | not"> <div class="nav-item nav-item-level-0" rv-each-link="linklist.links"> <a rv-if="link.collapseable | not" class="nav-link" rv-class-active="link.active" rv-route-class-active="link.url" rv-route="link.url" rv-href="link.url"> <span>{link.title}</span> </a> <div rv-if="link.collapseable" class="nav-link cursor-pointer dropdown-toggle" rv-on-click="toggle | args link"> <span>{link.title}</span> </div> <div class="nav-item nav-item-level-1" rv-hide="link.collapsed" rv-each-sublink="link.links"> <a rv-if="sublink.collapseable | not" class="nav-link" rv-add-class="sublink.level | prepend \'level-\'" rv-class-active="sublink.active" rv-route-class-active="sublink.url" rv-route="sublink.url" rv-href="sublink.url"> <span>{sublink.title}</span> </a> <div rv-if="sublink.collapseable" class="nav-link cursor-pointer dropdown-toggle" rv-on-click="toggle | args sublink"> <span>{sublink.title}</span> </div> <div class="nav-item nav-item-level-2" rv-hide="sublink.collapsed" rv-each-subsublink="sublink.links"> <a class="nav-link" rv-add-class="subsublink.level | prepend \'level-\'" rv-class-active="subsublink.active" rv-route-class-active="subsublink.url" rv-route="subsublink.url" rv-href="subsublink.url"> <span>{subsublink.title}</span> </a> </div> </div> </div> </nav> '}}(0,I.Z)(jn,"tagName","shopify-linklist");class qn extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"loginCustomerForm",null),(0,I.Z)(this,"createCustomerForm",null),(0,I.Z)(this,"recoverCustomerForm",null),(0,I.Z)(this,"scope",{form:{customer:{email:"",password:""}},loginCustomer:{validation:{valid:!1}},createCustomer:{validation:{valid:!1}},recoverCustomer:{validation:{valid:!1}},login:this.login,create:this.create,recover:this.recover,recoverBack:this.recoverBack})}connectedCallback(){super.connectedCallback(),this.init(qn.observedAttributes)}login(t){if(!this.loginCustomerForm)return console.error("No login form found"),!1;t.preventDefault(),t.stopPropagation(),this.validate(this.loginCustomerForm,this.scope.loginCustomer.validation),this.scope.loginCustomer.validation.valid&&this.loginCustomerForm.submit()}create(t){if(!this.createCustomerForm)return console.error("No create form found"),!1;t.preventDefault(),t.stopPropagation(),this.validate(this.createCustomerForm,this.scope.createCustomer.validation),this.scope.createCustomer.validation.valid&&this.createCustomerForm.submit()}recover(t){if(!this.recoverCustomerForm)return console.error("No recover form found"),!1;if(!this.loginCustomerForm)return console.error("No login form found"),!1;var e,s;(t.preventDefault(),t.stopPropagation(),this.validate(this.recoverCustomerForm,this.scope.recoverCustomer.validation),this.scope.recoverCustomer.validation.valid)?this.recoverCustomerForm.submit():(null===(e=this.loginCustomerForm.parentNode)||void 0===e||e.setAttribute("hidden",""),null===(s=this.recoverCustomerForm.parentNode)||void 0===s||s.removeAttribute("hidden"))}recoverBack(t){var e,s;return this.recoverCustomerForm?this.loginCustomerForm?(t.preventDefault(),t.stopPropagation(),null===(e=this.loginCustomerForm.parentNode)||void 0===e||e.removeAttribute("hidden"),void(null===(s=this.recoverCustomerForm.parentNode)||void 0===s||s.setAttribute("hidden",""))):(console.error("No login form found"),!1):(console.error("No recover form found"),!1)}initValidation(){this.createCustomerForm=this.querySelector('form[action="/account"]'),this.createCustomerForm.setAttribute("novalidate",""),this.createCustomerForm.classList.add("needs-validation"),this.loginCustomerForm=this.querySelector('form[action="/account/login"]'),this.loginCustomerForm.setAttribute("novalidate",""),this.loginCustomerForm.classList.add("needs-validation"),this.recoverCustomerForm=this.querySelector('form[action="/account/recover"]'),this.recoverCustomerForm.setAttribute("novalidate",""),this.recoverCustomerForm.classList.add("needs-validation")}validate(t,e){e.valid=t.checkValidity(),t.classList.add("was-validated")}async beforeBind(){}async afterBind(){this.initValidation()}requiredAttributes(){return[]}template(){return this&&Et(this)?null:""}}(0,I.Z)(qn,"tagName","shopify-login-form");class Un extends je{static get observedAttributes(){return["handle","extras"]}set product(t){t&&(this.scope.product=sn.prepare(t),this.colorOption=sn.getOption(this.scope.product,"color")||null,this.variant=this.scope.product.variants[0])}get product(){return this.scope.product}set variant(t){null!==t&&(this.scope.variant=this.prepareVariant(t),this.scope.variant&&(this.selectedOptions=this.scope.variant.options.slice(),this.available=this.scope.variant.available,this.activateOptions()))}get variant(){return this.scope.variant}set available(t){this.scope.available=t&&this.optionChosen}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{handle:null,product:null,variant:null,quantity:1,showDetailMenu:!1,chooseOption:this.chooseOption,addToCart:this.addToCart,toggleDetailMenu:this.toggleDetailMenu,decrease:this.decrease,increase:this.increase,available:!1}),(0,I.Z)(this,"colorOption",null),(0,I.Z)(this,"selectedOptions",[]),(0,I.Z)(this,"optionChosen",!1),this.init(Un.observedAttributes)}chooseOption(t,e,s,i){if(!this.scope.product)throw new Error("Product not set!");t=t.toString(),this.selectedOptions[e-1]=t.toString();const n=sn.getVariantOfOptions(this.scope.product,this.selectedOptions);n&&(this.optionChosen=!0,this.variant=n),i.stopPropagation()}addToCart(){this.variant&&en.add(this.variant.id,this.scope.quantity).then((t=>{console.debug("addToCart response",t)})).catch((t=>{console.debug("addToCart error",t)}))}toggleDetailMenu(){this.scope.showDetailMenu=!this.scope.showDetailMenu}increase(){this.scope.quantity++}decrease(){this.scope.quantity--,this.scope.quantity<=0&&(this.scope.quantity=1)}activateOption(t,e){var s,i;t=t.toString().replace("#",""),null===(s=this.querySelector(`.option-${e.toLocaleLowerCase()}`))||void 0===s||s.classList.remove("active"),null===(i=this.querySelector(`.option-${e.toLocaleLowerCase()}-${t}`))||void 0===i||i.classList.add("active")}activateOptions(){for(const t in this.selectedOptions)if(this.selectedOptions[t]){const e=this.selectedOptions[t];if(this.scope.product){const s=this.scope.product.options[t].name;"size"===s?this.optionChosen&&this.activateOption(e,s):this.activateOption(e,s)}}}async beforeBind(){if(null===this.scope.handle)throw new Error("Product handle not set");return sn.get(this.scope.handle).then((t=>{this.product=t}))}async afterBind(){this.activateOptions()}requiredAttributes(){return["handle"]}template(){return this&&Et(this)?null:""}indexOfUrl(t,e){let s=-1;const i=e.split("?")[0].replace(/(^\w+:|^)\/\//,"//");return t.forEach(((t,e)=>{t.split("?")[0].replace(/(^\w+:|^)\/\//,"//")===i&&(s=e)})),s}getGeneralImages(t="color"){t=t.toLowerCase();const e=[];return this.scope.product&&(this.scope.product.images.forEach((s=>{-1===s.toLowerCase().indexOf(`${t}-`)&&e.push(s)})),this.scope.product.variants.forEach((t=>{let s=-1;null!==t.featured_image&&t.featured_image.src&&(s=this.indexOfUrl(e,t.featured_image.src)),s>=0&&e.splice(s,1)}))),e}getOptionImages(t,e){e=e.toLowerCase().replace("#","_");const s=t.name.toLowerCase(),i=[];return this.scope.product&&this.scope.product.images.forEach((t=>{-1!==t.toLowerCase().indexOf(`${s}-${e}`)&&i.push(t)})),i}getFeaturedImage(t){if(null!==t.featured_image)return t.featured_image.src=t.featured_image.src.replace(/(^\w+:|^)\/\//,"//"),t.featured_image;let e="";if(t.images&&t.images.length>0?e=t.images[0]:this.scope.product&&(e=this.scope.product.featured_image),!e)return null;if(e=e.replace(/(^\w+:|^)\/\//,"//"),this.scope.product){return{src:e,position:0,product_id:this.scope.product.id,variant_ids:[],alt:this.scope.product.title,created_at:this.scope.product.created_at,height:0,width:0,id:0,updated_at:this.scope.product.created_at}}throw new Error("image not found")}prepareVariant(t){if(null===t)return null;if(this.colorOption?t.images=this.getOptionImages(this.colorOption,t.options[this.colorOption.position-1]):t.images=[],t.featured_image=this.getFeaturedImage(t),t.images&&t.featured_image){const e=this.indexOfUrl(t.images,t.featured_image.src);e>=0&&t.images.splice(e,1),t.images=t.images.concat(this.getGeneralImages())}return t}}(0,I.Z)(Un,"tagName","shopify-product");class Hn extends je{static get observedAttributes(){return["handle","extras"]}set menuPadding(t){this._menuPadding=t,this.scope.detailMenuPadding=this._menuPadding+"px"}set available(t){this.scope.available=t&&this.optionChosen}set showMenu(t){this.menuPadding=t?215:60,this.scope.showDetailMenu=t}get showMenu(){return this.scope.showDetailMenu}set product(t){t&&(this.scope.product=sn.prepare(t),this.scope.colorOption=sn.getOption(this.scope.product,"color")||null,this.scope.sizeOption=sn.getOption(this.scope.product,"size")||null,this.variant=this.scope.product.variants[0])}get product(){return this.scope.product}set variant(t){null!==t&&(this.scope.variant=t,this.scope.variant&&(this.selectedOptions=this.scope.variant.options.slice(),this.available=this.scope.variant.available,this.activateOptions()))}get variant(){return this.scope.variant}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{handle:null,product:null,variant:null,quantity:1,showDetailMenu:!1,detailMenuPadding:"60px",chooseOption:this.chooseOption,addToCart:this.addToCart,toggleDetailMenu:this.toggleDetailMenu,decrease:this.decrease,increase:this.increase,colorOption:null,sizeOption:null,available:!1}),(0,I.Z)(this,"selectedOptions",[]),(0,I.Z)(this,"_menuPadding",60),(0,I.Z)(this,"optionChosen",!1)}connectedCallback(){super.connectedCallback(),this.init(Hn.observedAttributes)}chooseOption(t,e,s,i){if(t=t.toString(),!this.scope.product)throw new Error("Product not set!");this.selectedOptions[e-1]=t.toString();const n=sn.getVariantOfOptions(this.scope.product,this.selectedOptions);n&&(this.optionChosen=!0,this.variant=n),i.stopPropagation()}addToCart(){this.variant&&en.add(this.variant.id,this.scope.quantity).then((t=>{console.debug("addToCart response",t)})).catch((t=>{console.debug("addToCart error",t)}))}toggleDetailMenu(){this.showMenu=!this.showMenu}increase(){this.scope.quantity++}decrease(){this.scope.quantity--,this.scope.quantity<=0&&(this.scope.quantity=1)}activateOption(t,e){var s,i;t=t.toString().replace("#",""),null===(s=this.querySelector(`.option-${e.toLocaleLowerCase()}`))||void 0===s||s.classList.remove("active"),null===(i=this.querySelector(`.option-${e.toLocaleLowerCase()}-${t}`))||void 0===i||i.classList.add("active")}activateOptions(){for(const t in this.selectedOptions)if(this.selectedOptions[t]){const e=this.selectedOptions[t];if(this.scope.product){const s=this.scope.product.options[t].name;"size"===s?this.optionChosen&&this.activateOption(e,s):this.activateOption(e,s)}}}async beforeBind(){if(null===this.scope.handle)throw new Error("Product handle not set");return sn.get(this.scope.handle).then((t=>(this.product=t,t)))}async afterBind(){this.activateOptions()}requiredAttributes(){return["handle"]}template(){return this&&Et(this)?null:""}}(0,I.Z)(Hn,"tagName","shopify-product-item");class $n extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"scope",{onScroll:this.onScroll,onProductTap:this.onProductTap,onProductMouseenter:this.onProductMouseenter,title:""}),(0,I.Z)(this,"products",null)}connectedCallback(){super.connectedCallback(),this.products=this.querySelectorAll(".embed-responsive"),this.init($n.observedAttributes)}onProductTap(t,e,s){const i=s.dataset.url;if(!i)return;const n=En.getInstance("main");n&&n.goTo(i)}onProductMouseenter(t,e,s){const i=s.dataset.url,n=wn.getInstance();n&&i&&n.onLinkEnter(i,s,t)}onScroll(t,e,s){if(this.products)for(let t=0;t<this.products.length;t++){const e=this.products[t],i=e.dataset,n=s.getBoundingClientRect(),o=e.getBoundingClientRect(),r=o.width/2,a=o.left-(n.width/2-r),l=r;a>-1*l&&a<l&&(this.scope.title=i.title)}}requiredAttributes(){return[]}template(){return null}}(0,I.Z)($n,"tagName","shopify-product-scrollbar");const zn={binders:u,formatters:p,services:d,components:f,init(t={}){return Ki.setSingleton(t),this}};class Vn{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of I18nService not defined, please call setSingleton first!")}static setSingleton(t){if(this.instance)throw new Error("Singleton of I18nService already defined!");return this._options=t,this.instance=new this,this.instance}}(0,I.Z)(Vn,"_options",void 0),(0,I.Z)(Vn,"instance",void 0);const Wn={name:"i18n-*",block:!1,priority:0,bind(t){const e=Vn.options;this.customData=(()=>{const e={};return e.type=t.type,e.tagName=t.tagName,e.contenteditable=!!t.getAttribute("contenteditable"),e.isRadio="INPUT"===e.tagName&&"radio"===e.type,e})(),this.customData.i18n=e.localesService,this.customData.vars={},this.customData.translateMePathString=null,this.customData.properties=[],this.customData.attributeName=this.args[0].toString(),this.customData.applyTranslation=e=>{if(!e){if(!this.customData.i18n.showMissingTranslation)return;e=`translation missing: "${this.customData.properties.join(".")}"`}"html"===this.customData.attributeName?t.innerHTML=e:"text"===this.customData.attributeName?t.innerText=e:"value"===this.customData.attributeName?this.customData.contenteditable?t.innerHTML=e:t.value=e:t.setAttribute(this.customData.attributeName,e)},this.customData.parseVars=t=>{const e=this.customData.i18n.parseTemplateVars(t);this.customData.vars=K({deep:!0},this.customData.vars,e),this.customData.vars=K({deep:!1},this.customData.vars,t.dataset),this.customData.langVars=this.customData.i18n.parseLocalVars(t)},this.customData.translate=t=>{if(this.customData.i18n.ready){if(t||(t=this.customData.i18n.getLangcode()))return this.customData.langVars&&this.customData.langVars[t]?this.customData.applyTranslation(this.customData.langVars[t]):this.customData.properties&&0!==this.customData.properties.length||!this.customData.langVars||!this.customData.langVars.default?this.customData.i18n.get([t,...this.customData.properties],this.customData.vars).then((t=>t&&"string"==typeof t?this.customData.applyTranslation(t):this.customData.langVars&&this.customData.langVars.default?this.customData.applyTranslation(this.customData.langVars.default):this.customData.applyTranslation(null))).catch((t=>{console.error(t)})):this.customData.applyTranslation(this.customData.langVars.default);console.error("Langcode is required",t)}},this.customData.onAttributeChanged=t=>{if(t.detail.name.startsWith("data-")){const e={};e[t.detail.name.slice(5)]=t.detail.newValue,this.customData.vars=K({deep:!0},this.customData.vars,e),this.customData.translate()}},this.customData.onLanguageChanged=(t,e)=>{e||this.customData.translate(t)},this.customData.initOnReady=(e,s)=>{s&&this.customData.translate(e),this.customData.i18n.event.on("changed",this.customData.onLanguageChanged),t.addEventListener("binder-changed",this.customData.onAttributeChanged)}},routine(t,e){const s=Vn.options;if(null===this.customData.translateMePathString)if(this.customData.translateMePathString=e,e&&(this.customData.properties=this.customData.translateMePathString.split(".")),this.customData.parseVars(t),this.customData.i18n.ready){const t=this.customData.i18n.getLangcode(),e=this.customData.i18n.getInitialLangcode();this.customData.initOnReady(t,t!==e||!s.localesService.doNotTranslateDefaultLanguage)}else this.customData.i18n.event.on("ready",this.customData.initOnReady);else this.customData.translateMePathString!==e&&(this.customData.translateMePathString=e,this.customData.properties=this.customData.translateMePathString.split("."),this.customData.parseVars(t),this.customData.translate())},unbind(){this.el.removeEventListener("binder-changed",this.customData.onAttributeChanged),this.customData.i18n.event.off("changed",this.customData.onLanguageChanged)}};class Gn{get ready(){return this._ready}constructor(t,e){this.doNotTranslateDefaultLanguage=t,(0,I.Z)(this,"event",new rt("i18n")),(0,I.Z)(this,"showMissingTranslation",!1),(0,I.Z)(this,"_ready",!1),(0,I.Z)(this,"currentLangcode",void 0),(0,I.Z)(this,"initialLangcode",void 0),this.doNotTranslateDefaultLanguage=t,this.showMissingTranslation=e}async get(t,e,s=!1){if(!this.ready&&!s)throw new Error("not ready");return this.getAll().then((e=>{if(t&&t.length){let s=J(!0,e);for(const e of t){if(!e)return null;if(!s[e])return null;s=s[e]}return s}return e})).then((e=>(null===e&&t&&console.warn(`WARNING translation missing: "${t.join(".")}"`,e,t),e))).then((t=>(e&&(t=this.setTranslateStringPluralization(t,e),t=this.setTranslateStringVars(t,e)),t))).catch((t=>(console.error(t),this._ready=!1,t)))}async getByCurrentLang(t=[],e){const s=this.getLangcode();if(!s)throw new Error("Langcode not found in html tag");return this.get([s,...t],e)}getBrowserLangcode(){return(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase()}getHTMLLangcode(){return document.documentElement?document.documentElement.lang:"en"}getLangcode(){return this.currentLangcode}getInitialLangcode(){return this.initialLangcode}setLangcode(t,e=!1){this.currentLangcode!==t&&(this.currentLangcode=t,document.documentElement&&(document.documentElement.lang=t),this.event.trigger("changed",t,e))}async getAvailableLangcodes(){const t=this.getLangcode();return this.get(void 0,void 0,!0).then((e=>{const s=[];return Object.keys(e).forEach((e=>{s.push({code:e,active:e===t})})),s}))}parseTemplateVars(t){const e=t.querySelectorAll("template"),s={};return e.forEach((t=>{const e=t.getAttribute("name");null!==e&&(s[e]=t.innerHTML.trim())})),s}parseLocalVars(t){const e=t.querySelectorAll("template"),s={};return e.forEach((t=>{const e=t.getAttribute("lang");null!==e&&(s[e]=t.innerHTML.trim())})),s}setTranslateStringVars(t,e){if(!t||0===Object.keys(e).length||"function"!=typeof t.match)return t;const s=t.match(/{{\s*?[A-Za-z0-9_-]+\s*?}}/gm);if(s)for(const i of s)if(i){const s=i.replace(/{{\s*|\s*}}/gm,"");"string"!=typeof e[s]&&"number"!=typeof e[s]||(t=t.replace(i,e[s]))}return t}async init(){if(this.initialLangcode=this.getHTMLLangcode(),this.currentLangcode=this.initialLangcode,!this.initialLangcode)throw new Error(`The lang attribute on the html element is required to detect the default theme language: ${this.initialLangcode}`);const t=this.getBrowserLangcode();return this.getAvailableLangcodes().then((e=>{let s=!1;for(const i of e)i.code===t&&(s=!0);return(!this.doNotTranslateDefaultLanguage||s&&t!==this.currentLangcode)&&this.setLangcode(t,!0),e})).then((()=>{this._ready=!0;const t=this.currentLangcode!==this.initialLangcode||!this.doNotTranslateDefaultLanguage;this.event.trigger("ready",this.currentLangcode,t)})).catch((t=>(console.error(t),this._ready=!1,t)))}setTranslateStringPluralization(t,e){if(e.count&&"object"==typeof t&&null!==t){const s=Number(e.count);if(0===s){if(t.zero)return t.zero}else if(1===s){if(t.one)return t.one}else if(2===s&&t.two)return t.two}return"object"==typeof t&&null!==t&&t.other?t.other:t}}class Yn extends Gn{static getInstance(t){return Yn.instances[t]}constructor(t,e=!1,s=!1){if(super(e,s),this.url=t,(0,I.Z)(this,"locales",{}),(0,I.Z)(this,"currentLangcode",void 0),(0,I.Z)(this,"initialLangcode",void 0),this.url=t,!this.url)throw new Error("Url is required!");if(Yn.instances[this.url])return Yn.instances[this.url];this.init(),Yn.instances[this.url]=this}async getAll(t){if(t||(t=this.url),!t)throw new Error("Url is required!");return window.Shopify.shop&&(t+=`?shop=${window.Shopify.shop}`),this.locales[t]?this.locales[t]:dt.getJSON(t).then((e=>(this.locales[t]=e,this.locales[t])))}}(0,I.Z)(Yn,"instances",{});class Xn extends Gn{static getInstance(t="main"){return Xn.instances[t]}constructor(t,e,s=!1,i=!1){if(super(s,i),this.locales=t,this.id=e,(0,I.Z)(this,"currentLangcode",void 0),(0,I.Z)(this,"initialLangcode",void 0),e||(e="main"),this.locales=t,Xn.instances[e])return Xn.instances[e];this.init(),Xn.instances[e]=this}async getAll(){return this.locales}}(0,I.Z)(Xn,"instances",{});class Kn extends je{constructor(...t){super(...t),(0,I.Z)(this,"_debug",!0),(0,I.Z)(this,"localesService",void 0),(0,I.Z)(this,"scope",{langcodes:[],switch:this.switch,toggle:this.toggle,ready:!1})}static get observedAttributes(){return[]}connectedCallback(){console.debug("[I18nSwitcherComponent] connectedCallback"),super.connectedCallback(),this.init(Kn.observedAttributes)}setLangcode(t){var e;null===(e=this.localesService)||void 0===e||e.setLangcode(t)}requiredAttributes(){return[]}disconnectedCallback(){super.disconnectedCallback()}async beforeBind(){if(await super.beforeBind(),this.localesService=Vn.options.localesService,!this.localesService)throw new Error("LocalesService not defined!");if(this.localesService.ready){const t=this.localesService.getLangcode();if(t)return await this.initLocales(t)}else{var t;null===(t=this.localesService)||void 0===t||t.event.on("ready",(async t=>{await this.initLocales(t)}))}}template(){return null}switch(t,e){e&&(e.preventDefault(),e.stopPropagation()),t.active||this.setLangcode(t.code)}toggle(t){t&&(t.preventDefault(),t.stopPropagation());for(const t in this.scope.langcodes)if(Object.prototype.hasOwnProperty.call(this.scope.langcodes,t)&&!0!==this.scope.langcodes[t].active)return void this.setLangcode(this.scope.langcodes[t].code)}async initLocales(t){var e,s;const i=await(null===(e=this.localesService)||void 0===e?void 0:e.getAvailableLangcodes());if(!i)throw new Error("No lancodes found!");return this.scope.langcodes=i,this.scope.langcodes.forEach((e=>{e.active=e.code===t})),null===(s=this.localesService)||void 0===s||s.event.on("changed",(t=>{this.scope.langcodes.forEach((e=>{e.active=e.code===t}))})),this.scope.ready=!0,this.scope.langcodes}}(0,I.Z)(Kn,"tagName","i18n-switcher");var Jn='<div rv-add-class="\'drop\' | append dropdownDirection"> <div class="dropdown-toggle dropdown-toggle-share" rv-id="dropdownId" rv-template="labelTemplate"></div> <div class="dropdown-menu" rv-aria-labelledby="dropdownId"> <a rv-each-item="shareItems" rv-show="item.available" rv-download="item.type | eq \'download\'" rv-type="item.type" target="_blank" rv-on-click="shareOnService" class="dropdown-item" rv-href="item.url" rv-html="item.label"></a> </div> </div> ';class Qn{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of Bs4Service not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of Bs4Service already defined!");return this._options=t,this.instance=new this,this.instance}}(0,I.Z)(Qn,"_options",void 0),(0,I.Z)(Qn,"instance",void 0);const to=3,eo={nsPrefix:"bs4-toggle-button:",eventNames:{toggle:"toggle",toggled:"toggled",init:"init",state:"state"}},so={elEventNames:{removed:"removed",added:"added"}},io={elEventNames:{removed:"removed",added:"added"}},no=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],oo=/^aria-[\w-]*$/i,ro=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,ao=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,lo={"*":["class","dir","id","lang","role",oo],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},co=1e3,ho="transitionend",uo=t=>{let e=t.getAttribute("data-target");if(!e||"#"===e){const s=t.getAttribute("href");e=s&&"#"!==s?s.trim():null}return e},po=t=>{const e=uo(t);return e&&document.querySelector(e)?e:null},mo=t=>{const e=uo(t);return e?document.querySelector(e):null},vo=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const i=parseFloat(e),n=parseFloat(s);return i||n?(e=e.split(",")[0],s=s.split(",")[0],(parseFloat(e)+parseFloat(s))*co):0},go=t=>{const e=document.createEvent("HTMLEvents");e.initEvent(ho,!0,!0),t.dispatchEvent(e)},fo=t=>(t[0]||t).nodeType,bo=(t,e)=>{let s=!1;const i=e+5;t.addEventListener(ho,(function e(){s=!0,t.removeEventListener(ho,e)})),setTimeout((()=>{s||go(t)}),i)},yo=(t,e,s)=>{for(const i in s)if(Object.prototype.hasOwnProperty.call(s,i)){const n=s[i],o=e[i],r=o&&fo(o)?"element":Z(o);if(!r||!new RegExp(n).test(r))throw new Error(`${t.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${n}".`)}},wo=t=>t?[].slice.call(t):[],Eo=t=>{if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){const e=getComputedStyle(t),s=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==s.display&&"hidden"!==e.visibility}return!1},Co=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Co(t.parentNode):null},So=()=>function(){},_o=t=>t.offsetHeight,ko=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-no-jquery")?t:null},To=(t,e,s)=>t.addEventListener(e,s,{}),Ao=(t,e,s)=>t.addEventListener(e,s,{once:!0}),Do=(t,e,s)=>t.removeEventListener(e,s),Lo=(t,e,s={})=>{const i=new CustomEvent(e,{detail:s,bubbles:!0,cancelable:!0});return t.dispatchEvent(i),i},Oo=(t,e)=>Element.prototype.matches.call(t,e),xo=(t,e=document.documentElement)=>Element.prototype.querySelectorAll.call(e,t),Po=(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),Io=(t,e)=>wo(t.children).filter((t=>Oo(t,e))),No=(t,e)=>{const s=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==to;)Oo(i,e)&&s.push(i),i=i.parentNode;return s},Zo=(t,e)=>Element.prototype.closest.call(t,e),Bo=(t,e)=>{const s=[];let i=t.previousSibling;for(;i&&i.nodeType===Node.ELEMENT_NODE&&i.nodeType!==to;)Oo(i,e)&&s.push(i),i=i.previousSibling;return s};function Ro(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Fo(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ro(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ro(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Mo={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},jo={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},qo="next",Uo="prev",Ho="left",$o="right",zo={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},Vo="active",Wo="slide",Go="carousel-item-right",Yo="carousel-item-left",Xo="carousel-item-next",Ko="carousel-item-prev",Jo="pointer-event",Qo=".active",tr=".active.carousel-item",er=".carousel-item",sr=".carousel-item img",ir=".carousel-item-next, .carousel-item-prev",nr=".carousel-indicators",or={TOUCH:"touch",PEN:"pen"};var rr=class{constructor(t,e){(0,I.Z)(this,"items",null),(0,I.Z)(this,"interval",null),(0,I.Z)(this,"activeElement",null),(0,I.Z)(this,"isPaused",!1),(0,I.Z)(this,"isSliding",!1),(0,I.Z)(this,"config",void 0),(0,I.Z)(this,"element",void 0),(0,I.Z)(this,"indicatorsElement",void 0),(0,I.Z)(this,"touchSupported",void 0),(0,I.Z)(this,"pointerEvent",void 0),(0,I.Z)(this,"touchTimeout",null),(0,I.Z)(this,"touchStartX",0),(0,I.Z)(this,"touchDeltaX",0),this.config=this.getConfig(e),this.element=t,this.indicatorsElement=Po(nr,this.element)||null,this.touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this.pointerEvent=!(!window.PointerEvent&&!window.MSPointerEvent),console.debug("CarouselService",this),this.addEventListeners()}static get Default(){return Mo}next(){this.isSliding||this.slide(qo)}nextWhenVisible(){!document.hidden&&Eo(this.element)&&this.next()}prev(){this.isSliding||this.slide(Uo)}pause(t){t||(this.isPaused=!0),Po(ir,this.element)&&(go(this.element),this.cycle(!0)),clearInterval(this.interval||void 0),this.interval=null}cycle(t){t||(this.isPaused=!1),this.interval&&(clearInterval(this.interval),this.interval=null),this.config&&this.config.interval&&!this.isPaused&&(this.interval=window.setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this.config.interval))}to(t){if(null===this.items)throw new Error("No items found!");if(this.activeElement=Po(tr,this.element)||null,null===this.activeElement)throw new Error("Active element not found!");const e=this.getItemIndex(this.activeElement);if(t>this.items.length-1||t<0)return;if(this.isSliding)return void Ao(this.element,zo.SLID,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const s=t>e?qo:Uo;this.slide(s,this.items[t])}dispose(){this.removeEventListeners(),clearTimeout(this.touchTimeout||void 0),clearInterval(this.interval||void 0)}getConfig(t){return t=Fo(Fo({},Mo),t),yo("carousel",t,jo),t}handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}addEventListeners(){this.keydown=this.keydown.bind(this),this.pause=this.pause.bind(this),this.cycle=this.cycle.bind(this),this.config.keyboard&&To(this.element,zo.KEYDOWN,this.keydown),"hover"===this.config.pause&&(To(this.element,zo.MOUSEENTER,this.pause),To(this.element,zo.MOUSELEAVE,this.cycle)),this.config.touch&&this.touchSupported&&this.addTouchEventListeners()}addTouchEventListeners(){this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),wo(xo(sr,this.element)).forEach((t=>{To(t,zo.DRAG_START,this.preventDrag)})),this.pointerEvent?(To(this.element,zo.POINTERDOWN,this.onTouchStart),To(this.element,zo.POINTERUP,this.onTouchEnd),this.element.classList.add(Jo)):(To(this.element,zo.TOUCHSTART,this.onTouchStart),To(this.element,zo.TOUCHMOVE,this.onTouchMove),To(this.element,zo.TOUCHEND,this.onTouchEnd))}removeEventListeners(){this.config.keyboard&&Do(this.element,zo.KEYDOWN,this.keydown),"hover"===this.config.pause&&(Do(this.element,zo.MOUSEENTER,this.pause),Do(this.element,zo.MOUSELEAVE,this.cycle)),this.removeTouchEventListeners()}removeTouchEventListeners(){wo(xo(sr,this.element)).forEach((t=>{Do(t,zo.DRAG_START,this.preventDrag)})),this.pointerEvent?(Do(this.element,zo.POINTERDOWN,this.onTouchStart),Do(this.element,zo.POINTERUP,this.onTouchEnd),this.element.classList.add(Jo)):(Do(this.element,zo.TOUCHSTART,this.onTouchStart),Do(this.element,zo.TOUCHMOVE,this.onTouchMove),Do(this.element,zo.TOUCHEND,this.onTouchEnd))}onTouchStart(t){const e=t;this.pointerEvent&&or[e.pointerType.toUpperCase()]?this.touchStartX=e.clientX:this.pointerEvent||(this.touchStartX=e.touches[0].clientX)}onTouchMove(t){const e=t;e.touches&&e.touches.length>1?this.touchDeltaX=0:this.touchDeltaX=e.touches[0].clientX-this.touchStartX}onTouchEnd(t){const e=t;this.pointerEvent&&or[e.pointerType.toUpperCase()]&&(this.touchDeltaX=e.clientX-this.touchStartX),this.handleSwipe(),"hover"===this.config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=Number(setTimeout((t=>this.cycle(t)),500+(this.config.interval||0))))}preventDrag(t){t.preventDefault()}keydown(t){var e;const s=t;if(null===(e=s.target)||void 0===e||!e.tagName||!/input|textarea/i.test(s.target.tagName))switch(s.which){case 37:s.preventDefault(),this.prev();break;case 39:s.preventDefault(),this.next()}}getItemIndex(t){return t?(this.items=t&&t.parentNode?wo(xo(er,t.parentNode)):[],this.items.indexOf(t)):-1}getItemByDirection(t,e){if(null===this.items)throw new Error("No items found!");const s=t===qo,i=t===Uo,n=this.getItemIndex(e),o=this.items.length-1;if((i&&0===n||s&&n===o)&&!this.config.wrap)return e;const r=(n+(t===Uo?-1:1))%this.items.length;return-1===r?this.items[this.items.length-1]:this.items[r]}triggerSlideEvent(t,e){const s=this.getItemIndex(t),i=this.getItemIndex(Po(tr,this.element)||null);return Lo(this.element,zo.SLIDE,{relatedTarget:t,direction:e,from:i,to:s})}setActiveIndicatorElement(t){if(this.indicatorsElement){const e=xo(Qo,this.indicatorsElement);for(let t=0;t<e.length;t++)e[t].classList.remove(Vo);const s=this.indicatorsElement.children[this.getItemIndex(t)];s&&s.classList.add(Vo)}}slide(t,e){const s=Po(tr,this.element),i=this.getItemIndex(s),n=e||s&&this.getItemByDirection(t,s);if(!n)throw new Error("Next element not found!");const o=this.getItemIndex(n),r=Boolean(this.interval);let a,l,c;if(t===qo?(a=Yo,l=Xo,c=Ho):(a=Go,l=Ko,c=$o),n&&n.classList.contains(Vo))return void(this.isSliding=!1);if(!this.triggerSlideEvent(n,c).defaultPrevented&&s&&n){if(this.isSliding=!0,r&&this.pause(),this.setActiveIndicatorElement(n),this.element.classList.contains(Wo)){n.classList.add(l),_o(n),s.classList.add(a),n.classList.add(a);const t=parseInt(n.getAttribute("data-interval")||"0",10);t?(this.config.defaultInterval=this.config.defaultInterval||this.config.interval,this.config.interval=t):this.config.interval=this.config.defaultInterval||this.config.interval;const e=vo(s);Ao(s,ho,(()=>{n.classList.remove(a),n.classList.remove(l),n.classList.add(Vo),s.classList.remove(Vo),s.classList.remove(l),s.classList.remove(a),this.isSliding=!1,setTimeout((()=>{Lo(this.element,zo.SLID,{relatedTarget:n,direction:c,from:i,to:o})}),0)})),bo(s,e)}else s.classList.remove(Vo),n.classList.add(Vo),this.isSliding=!1,Lo(this.element,zo.SLID,{relatedTarget:n,direction:c,from:i,to:o});r&&this.cycle()}}};const ar=(()=>{const t={};let e=1;return{set(s,i,n){void 0===s.dataset.key&&(s.dataset.key=i,s.dataset.id=e.toString(),e++),s.dataset.id&&(t[s.dataset.id]=n)},get(e,s){if(!e||void 0===e.dataset.key)return null;const i=e.dataset.key,n=e.dataset.id;return i===s&&void 0!==n?t[n]:null},delete(e,s){if(void 0===e.dataset.key)return;const i=e.dataset.key,n=e.dataset.id;i===s&&void 0!==n&&(delete t[n],delete e.dataset.key)}}})(),lr=(t,e,s)=>{ar.set(t,e,s)},cr=(t,e)=>ar.get(t,e),hr=(t,e)=>{ar.delete(t,e)};function dr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ur(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):dr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const pr="bs.collapse",mr={toggle:!0,parent:""},vr={toggle:"boolean",parent:"(string|element)"},gr="show.bs.collapse",fr="shown.bs.collapse",br="hide.bs.collapse",yr="hidden.bs.collapse",wr="show",Er="collapse",Cr="collapsing",Sr="collapsed",_r="width";class kr{constructor(t,e,s={}){(0,I.Z)(this,"_isTransitioning",void 0),(0,I.Z)(this,"_element",null),(0,I.Z)(this,"_config",void 0),(0,I.Z)(this,"_triggerArray",null),(0,I.Z)(this,"_selector",null),(0,I.Z)(this,"_parent",null),this._isTransitioning=!1,this._element=t,this._config=this._getConfig(s),this._triggerArray=Array.from(e),this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),lr(t,pr,this)}static get VERSION(){return"4.3.1"}static get Default(){return mr}isExpanded(){var t;return!(null===(t=this._element)||void 0===t||!t.classList.contains(wr))}isCollapsed(){return!this.isExpanded()}toggle(){this.isExpanded()?this.hide():this.show()}show(){var t;if(!this._element)return void console.warn("this._element not set!");if(this._isTransitioning||this._element.classList.contains(wr))return;let e,s=null;this._parent&&(s=Array.from(xo(".show, .collapsing",this._parent)).filter((t=>"string"==typeof this._config.parent?t.getAttribute("data-parent")===this._config.parent:t.classList.contains(Er))),0===s.length&&(s=null));const i=this._selector?Po(this._selector):null;if(s){const t=s.filter((t=>i!==t));if(e=t[0]?cr(t[0],pr):null,e&&e._isTransitioning)return}if(Lo(this._element,gr).defaultPrevented)return;s&&s.forEach((t=>{i!==t&&kr.collapseInterface(t,"hide"),e||lr(t,pr,null)}));const n=this._getDimension();this._element.classList.remove(Er),this._element.classList.add(Cr),this._element.style[n]="0",null!==(t=this._triggerArray)&&void 0!==t&&t.length&&this._triggerArray.forEach((t=>{t.classList.remove(Sr),t.setAttribute("aria-expanded","true")})),this.setTransitioning(!0);const o=`scroll${n[0].toUpperCase()+n.slice(1)}`,r=vo(this._element);Ao(this._element,ho,(()=>{this._element?(this._element.classList.remove(Cr),this._element.classList.add(Er,wr),this._element.style[n]="",this.setTransitioning(!1),Lo(this._element,fr)):console.warn("this._element not set!")})),bo(this._element,r),this._element.style[n]=`${this._element[o]}px`,!this._config.parent&&this._triggerArray&&this._addAriaAndCollapsedClass(this._element,this._triggerArray,!0)}hide(){var t;if(!this._element)return void console.warn("this._element not set!");if(this._isTransitioning||!this._element.classList.contains(wr))return;if(Lo(this._element,br).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,_o(this._element),this._element.classList.add(Cr),this._element.classList.remove(Er,wr);const s=null===(t=this._triggerArray)||void 0===t?void 0:t.length;if(s&&this._triggerArray&&s>0)for(let t=0;t<s;t++){const e=this._triggerArray[t],s=mo(e);s&&!s.classList.contains(wr)&&(e.classList.add(Sr),e.setAttribute("aria-expanded","false"))}this.setTransitioning(!0);this._element.style[e]="";const i=vo(this._element);Ao(this._element,ho,(()=>{this.setTransitioning(!1),this._element?(this._element.classList.remove(Cr),this._element.classList.add(Er),Lo(this._element,yr)):console.warn("this._element not set!")})),bo(this._element,i),!this._config.parent&&this._triggerArray&&this._addAriaAndCollapsedClass(this._element,this._triggerArray,!1)}setTransitioning(t){this._isTransitioning=t}dispose(){this._element&&hr(this._element,pr),this._config=null,this._parent=null,this._element=null,this._isTransitioning=!1}_getConfig(t){return(t=ur(ur({},mr),t)).toggle=Boolean(t.toggle),yo("collapse",t,vr),t}_getDimension(){return!!this._element&&this._element.classList.contains(_r)?_r:"height"}_getParent(){let{parent:t}=this._config;fo(t)?void 0===t.jquery&&void 0===t[0]||(t=t[0]):t=Po(t);return xo(`[data-parent="${t}"]`,t).forEach((t=>{const e=mo(t);e?this._addAriaAndCollapsedClass(e,[t]):console.warn()})),t}_addAriaAndCollapsedClass(t,e,s){t&&("boolean"!=typeof s&&(s=t.classList.contains(wr)),e.length&&e.forEach((t=>{s?t.classList.remove(Sr):t.classList.add(Sr),t.setAttribute("aria-expanded",(!!s).toString())})))}static collapseInterface(t,e){let s=cr(t,pr);const i=ur(ur(ur({},mr),t.dataset),"object"==typeof e&&e?e:{});if(!s&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),s||(s=new kr(t,[],i)),"string"==typeof e){if(void 0===s[e])throw new TypeError(`No method named "${e}"`);s[e]()}}static getInstance(t){return cr(t,pr)}}var Tr=s(6429);function Ar(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Dr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ar(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ar(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}new RegExp("38|40|27");const Lr={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},Or="disabled",xr="show",Pr="dropup",Ir="dropright",Nr="dropleft",Zr="dropdown-menu-right",Br="position-static",Rr=".dropdown-toggle",Fr=".dropdown-menu",Mr="top-start",jr="top-end",qr="bottom-start",Ur="bottom-end",Hr="right-start",$r="left-start",zr={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Vr={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"};class Wr{static get VERSION(){return"4.1.3"}static get Default(){return zr}static get DefaultType(){return Vr}static closeAll(){document.querySelectorAll(Rr).forEach((t=>{if(t.parentElement){const e=t.parentElement.querySelector(Fr+"."+xr)||void 0;if(e)return this.close(t,e,t)}this.close(t,t)}))}static close(t,e,s){const i={relatedTarget:t};e&&e.classList.contains(xr)&&e.classList.remove(xr),s&&s.classList.contains(xr)&&(s.classList.remove(xr),s.dispatchEvent(new CustomEvent(Lr.HIDDEN,{detail:i})));const n=t.parentElement;n&&n.classList.contains(xr)&&(n.classList.remove(xr),n.dispatchEvent(new CustomEvent(Lr.HIDDEN,{detail:i})))}static _clearMenus(){return this.closeAll()}constructor(t,e){(0,I.Z)(this,"_element",void 0),(0,I.Z)(this,"_popper",void 0),(0,I.Z)(this,"_config",void 0),(0,I.Z)(this,"_menu",void 0),(0,I.Z)(this,"_inNavbar",void 0),this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this.outsideClickListener=this.outsideClickListener.bind(this),this.closeOnClickOutside()}close(){return Wr.close(this._element,this._menu)}show(){const t={relatedTarget:this._element},e=this._element.parentElement;this._menu.classList.contains(xr)||this._menu.classList.add(xr),e&&!e.classList.contains(xr)&&(e.classList.add(xr),e.dispatchEvent(new CustomEvent(Lr.SHOWN,{detail:t})))}toggle(){if(this._element.disabled||this._element.classList.contains(Or))return;const t=this._element.parentElement,e=this._menu.classList.contains(xr);if(Wr._clearMenus(),e)return void this.close();const s={relatedTarget:this._element},i=new CustomEvent(Lr.SHOW,{detail:s});if(!t||(t.dispatchEvent(i),!i.defaultPrevented)){if(!this._inNavbar){if(void 0===Tr.Z)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:fo(this._config.reference)&&(e=this._config.reference,void 0!==this._config.reference.jquery&&(e=this._config.reference[0])),t&&"scrollParent"!==this._config.boundary&&t.classList.add(Br),this._popper=new Tr.Z(e,this._menu,this._getPopperConfig())}this._element.focus(),this._element.setAttribute("aria-expanded","true"),this._menu.classList.contains(xr)?this._menu.classList.remove(xr):this._menu.classList.add(xr),this._menu.dispatchEvent(new CustomEvent(Lr.SHOWN,{detail:s}))}}dispose(){this._element.removeAttribute("data-bs.dropdown"),null!==this._popper&&(this._popper.destroy(),this._popper=null),document.removeEventListener("click",this.outsideClickListener)}update(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()}outsideClickListener(t){const e=t.target||t.srcElement||t.currentTarget,s=this._element.parentElement;e&&!s.contains(e)&&(this.close(),document.removeEventListener("click",this.outsideClickListener))}closeOnClickOutside(){this._element.parentElement&&document.addEventListener("click",this.outsideClickListener)}_getConfig(t){return t=Dr(Dr(Dr({},Wr.Default),this._element.dataset),t),yo("dropdown",t,Wr.DefaultType),t}_getMenuElement(){if(!this._menu){const t=this._element.parentElement;if(t){const e=t.querySelector(Fr);if(!e)throw new Error("Menu not found!");this._menu=e}}return this._menu}_getPlacement(){const t=this._element.parentElement;let e=qr;if(!t)throw new Error("Parent of element not found!");return t.classList.contains(Pr)?(e=Mr,this._menu.classList.contains(Zr)&&(e=jr)):t.classList.contains(Ir)?e=Hr:t.classList.contains(Nr)?e=$r:this._menu.classList.contains(Zr)&&(e=Ur),e}_detectNavbar(){return this._element.closest&&null!==this._element.closest(".navbar")}_getPopperConfig(){const t={};"function"==typeof this._config.offset?t.fn=t=>(t.offsets=Dr(Dr({},t.offsets),this._config.offset(t.offsets)||{}),t):t.offset=this._config.offset;const e={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),e}}function Gr(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Yr(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Gr(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Gr(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Xr="bs.modal",Kr="Escape",Jr={backdrop:!0,keyboard:!0,focus:!0,show:!0},Qr={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ta="hidden.bs.modal",ea="focusin.bs.modal",sa="resize.bs.modal",ia="click.dismiss.bs.modal",na="keydown.dismiss.bs.modal",oa="modal-open",ra="fade",aa="show",la="modal-static",ca=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ha=".sticky-top";class da{constructor(t,e){(0,I.Z)(this,"_config",void 0),(0,I.Z)(this,"_element",void 0),(0,I.Z)(this,"_dialog",void 0),(0,I.Z)(this,"_backdrop",void 0),(0,I.Z)(this,"_isShown",void 0),(0,I.Z)(this,"_isBodyOverflowing",void 0),(0,I.Z)(this,"_ignoreBackdropClick",void 0),(0,I.Z)(this,"_isTransitioning",void 0),(0,I.Z)(this,"_scrollbarWidth",void 0),this._config=this._getConfig(e),this._element=t,this._dialog=Po(".modal-dialog",t),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0,lr(t,Xr,this)}static get VERSION(){return"5.0.0-alpha1"}static get Default(){return Jr}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||this._isTransitioning)return;this._element.classList.contains(ra)&&(this._isTransitioning=!0);const e=Lo(this._element,"show.bs.modal",{relatedTarget:t});this._isShown||e.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),To(this._element,ia,(t=>this.hide(t))),this._dialog&&To(this._dialog,"mousedown.dismiss.bs.modal",(()=>{Ao(this._element,"mouseup.dismiss.bs.modal",(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(t){if(t&&t.preventDefault(),!this._isShown||this._isTransitioning)return;if(Lo(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const e=this._element.classList.contains(ra);if(e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._element.classList.remove(aa),e){const t=vo(this._element);Ao(this._element,ho,(()=>this._hideModal())),bo(this._element,t)}else this._hideModal()}dispose(){hr(this._element,Xr)}handleUpdate(){this._adjustDialog()}_getConfig(t){return t=Yr(Yr({},Jr),t),yo("modal",t,Qr),t}_showElement(t){const e=this._element.classList.contains(ra),s=this._dialog?Po(".modal-body",this._dialog):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal","true"),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,s&&(s.scrollTop=0),e&&_o(this._element),this._element.classList.add(aa),this._config.focus&&this._enforceFocus();const i=()=>{this._config.focus&&this._element.focus(),this._isTransitioning=!1,Lo(this._element,"shown.bs.modal",{relatedTarget:t})};if(e){if(!this._dialog)return void console.warn("Dialog element not found!");const t=vo(this._dialog);Ao(this._dialog,ho,i),bo(this._dialog,t)}else i()}_enforceFocus(){const t=t=>{t.target&&document!==t.target&&this._element!==t.target&&!this._element.contains(t.target)&&this._element.focus()};Do(document,ea,t),To(document,ea,t)}_setEscapeEvent(){const t=t=>{this._config.keyboard&&t.key===Kr?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Kr||this._triggerBackdropTransition()};this._isShown?To(this._element,na,t):Do(this._element,na,t)}_setResizeEvent(){const t=()=>this._adjustDialog();this._isShown?To(window,sa,t):Do(window,sa,t)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden","true"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((()=>{document.body.classList.remove(oa),this._resetAdjustments(),this._resetScrollbar(),Lo(this._element,ta)}))}_removeBackdrop(){var t,e;null===(t=this._backdrop)||void 0===t||null===(e=t.parentNode)||void 0===e||e.removeChild(this._backdrop),this._backdrop=null}_showBackdrop(t){const e=this._element.classList.contains(ra)?ra:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",e&&this._backdrop.classList.add(e),document.body.appendChild(this._backdrop),To(this._element,ia,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&this._triggerBackdropTransition()})),e&&_o(this._backdrop),this._backdrop.classList.add(aa),!e)return void t();const s=vo(this._backdrop);Ao(this._backdrop,ho,t),bo(this._backdrop,s)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove(aa);const e=()=>{this._removeBackdrop(),t()};if(this._element.classList.contains(ra)){const t=vo(this._backdrop);Ao(this._backdrop,ho,e),bo(this._backdrop,t)}else e()}else t()}_triggerBackdropTransition(){if("static"===this._config.backdrop){if(!this._dialog)return void console.error("Dialog element not found!");if(Lo(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight;t||(this._element.style.overflowY="hidden"),this._element.classList.add(la);const e=vo(this._dialog),s=()=>{this._element.classList.remove(la),t||(Ao(this._element,ho,(()=>{this._element.style.overflowY=""})),bo(this._element,e))};Do(this._element,ho,s),Ao(this._element,ho,s),bo(this._element,e),this._element.focus()}else this.hide()}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=`${this._scrollbarWidth}px`),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=`${this._scrollbarWidth}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}_checkScrollbar(){const t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()}_setScrollbar(){if(this._isBodyOverflowing){xo(ca).forEach((t=>{const e=t.style.paddingRight,s=window.getComputedStyle(t)["padding-right"];t.dataset.paddingRight=e,t.style.paddingRight=`${parseFloat(s)+this._scrollbarWidth}px`})),xo(ha).forEach((t=>{const e=t.style.marginRight,s=window.getComputedStyle(t)["margin-right"];t.dataset.marginRight=e,t.style.marginRight=parseFloat(s)-this._scrollbarWidth+"px"}));const t=document.body.style.paddingRight,e=window.getComputedStyle(document.body)["padding-right"];document.body.dataset.paddingRight=t,document.body.style.paddingRight=`${parseFloat(e)+this._scrollbarWidth}px`}document.body.classList.add(oa)}_resetScrollbar(){xo(ca).forEach((t=>{const e=t.dataset.paddingRight;void 0!==e&&(delete t.dataset.paddingRight,t.style.paddingRight=e)})),xo(".sticky-top").forEach((t=>{const e=t.dataset.marginRight;void 0!==e&&(delete t.dataset.marginRight,t.style.marginRight=e)}));const t=document.body.dataset.paddingRight;void 0===t?document.body.style.paddingRight="":(delete document.body.dataset.paddingRight,document.body.style.paddingRight=t)}_getScrollbarWidth(){const t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}static getInstance(t){return cr(t,Xr)}}const ua=(t,e)=>{const s=t.nodeName.toLowerCase();var i,n;if(-1!==e.indexOf(s))return-1===no.indexOf(s)||Boolean((null===(i=t.nodeValue)||void 0===i?void 0:i.match(ro))||(null===(n=t.nodeValue)||void 0===n?void 0:n.match(ao)));const o=e.filter((t=>t instanceof RegExp));for(let t=0,e=o.length;t<e;t++)if(s.match(o[t]))return!0;return!1};function pa(t,e,s){if(!t.length)return t;if(s&&"function"==typeof s)return s(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),n=Object.keys(e),o=Array.from(i.body.querySelectorAll("*"));for(let t=0,s=o.length;t<s;t++){const s=o[t],i=s.nodeName.toLowerCase();if(-1===n.indexOf(i)){var r;null==s||null===(r=s.parentNode)||void 0===r||r.removeChild(s);continue}const a=Array.from(s.attributes),l=e["*"]||e[i]||[];a.forEach((t=>{ua(t,l)||s.removeAttribute(t.nodeName)}))}return i.body.innerHTML}function ma(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function va(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function ga(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const fa=(t,e,s)=>{t.setAttribute(`data-${ga(e)}`,s)},ba=(t,e)=>{t.removeAttribute(`data-${ga(e)}`)},ya=t=>{if(!t)return{};const e=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ma(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ma(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},t.dataset);return Object.keys(e).forEach((t=>{e[t]=va(e[t])})),e},wa=(t,e)=>va(t.getAttribute(`data-${ga(e)}`)),Ea=t=>{const e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},Ca=t=>({top:t.offsetTop,left:t.offsetLeft}),Sa=(t,e)=>{t&&(t.classList.contains(e)?t.classList.remove(e):t.classList.add(e))};function _a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function ka(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?_a(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Ta="tooltip",Aa="5.0.0-alpha1",Da="bs.tooltip",La=".bs.tooltip",Oa="bs-tooltip",xa=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Pa=["sanitize","allowList","sanitizeFn"],Ia={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean|undefined)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean|undefined)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object)"},Na={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Za={animation:!0,container:void 0,delay:0,html:!1,placement:"top",selector:void 0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus",offset:0,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,allowList:lo,popperConfig:null},Ba={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Ra="fade",Fa="modal",Ma="show",ja="show",qa="out",Ua=".tooltip-inner",Ha="hover",$a="focus",za="click",Va="manual";class Wa{constructor(t,e){if((0,I.Z)(this,"_isEnabled",!0),(0,I.Z)(this,"_timeout",0),(0,I.Z)(this,"_hoverState",""),(0,I.Z)(this,"_activeTrigger",{}),(0,I.Z)(this,"_popper",null),(0,I.Z)(this,"element",void 0),(0,I.Z)(this,"config",void 0),(0,I.Z)(this,"tip",null),void 0===Tr.Z)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org)");this.element=t,this.config=this._getConfig(e),this._setListeners(),lr(t,Wa.DATA_KEY,this)}static get VERSION(){return Aa}static get Default(){return Za}static get NAME(){return Ta}static get DATA_KEY(){return Da}static get Event(){return Ba}static get EVENT_KEY(){return La}static get DefaultType(){return Ia}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=Wa.DATA_KEY,s=At(t);let i=cr(s,e);i||(i=new Wa(s,this._getDelegateConfig()),lr(s,e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(this.getTipElement().classList.contains(Ma))return void this._leave(void 0,this);this._enter(void 0,this)}}dispose(){clearTimeout(this._timeout),hr(this.element,Wa.DATA_KEY);const t=this.element.closest(".modal");var e;(t&&Do(t,"hide.bs.modal",this._hideModalHandler),this.tip)&&(null===(e=this.tip.parentNode)||void 0===e||e.removeChild(this.tip));this._popper&&this._popper.destroy()}show(){if("none"===this.element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var t;const e=Lo(this.element,Q(this).Event.SHOW),s=Co(this.element),i=null===s?this.element.ownerDocument.documentElement.contains(this.element):s.contains(this.element);if(e.defaultPrevented||!i)return;const n=this.getTipElement(),o=Lt(Wa.NAME);n.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&n.classList.add(Ra);const r="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement,a=this._getAttachment(r||void 0);this._addAttachmentClass(a);const l=this._getContainer();lr(n,Wa.DATA_KEY,this),this.element.ownerDocument.documentElement.contains(this.tip)||null==l||l.appendChild(n),Lo(this.element,Q(this).Event.INSERTED),this._popper=new Tr.Z(this.element,n,this._getPopperConfig(a)),n.classList.add(Ma),"ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((t=>{To(t,"mouseover",So())}));const c=()=>{this.config.animation&&this._fixTransition();const t=this._hoverState;this._hoverState="",Lo(this.element,Q(this).Event.SHOWN),t===qa&&this._leave(void 0,this)};if(null!==(t=this.tip)&&void 0!==t&&t.classList.contains(Ra)){const t=vo(this.tip);Ao(this.tip,ho,c),bo(this.tip,t)}else c()}}hide(){var t;const e=this.getTipElement(),s=()=>{var t;this._hoverState!==ja&&e.parentNode&&e.parentNode.removeChild(e),this._cleanTipClass(),this.element.removeAttribute("aria-describedby"),Lo(this.element,Q(this).Event.HIDDEN),null===(t=this._popper)||void 0===t||t.destroy()};if(!Lo(this.element,Q(this).Event.HIDE).defaultPrevented){if(e.classList.remove(Ma),"ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((t=>Do(t,"mouseover",So))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,null!==(t=this.tip)&&void 0!==t&&t.classList.contains(Ra)){const t=vo(e);Ao(e,ho,s),bo(e,t)}else s();this._hoverState=""}}update(){null!==this._popper&&this._popper.scheduleUpdate()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");if(t.innerHTML=this.config.template,this.tip=t.children[0],!this.tip)throw new Error("Tooltip not found!");return this.tip}setContent(){const t=this.getTipElement();this.setElementContent(Po(Ua,t),this.getTitle()),t.classList.remove(Ra,Ma)}setElementContent(t,e){if(null!==t){if("object"==typeof e&&null!==e&&fo(e))return e.jquery&&(e=e[0]),e=e,void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent);e=e,this.config.html&&this.config.sanitize&&(e=pa(e,this.config.allowList,this.config.sanitizeFn||void 0)),t.innerHTML=e}}getTitle(){let t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title(this.element):this.config.title),t}_getPopperConfig(t){return ka(ka({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:`.${Wa.NAME}-arrow`},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:t=>{t.originalPlacement!==t.placement&&this._handlePopperPlacementChange(t)},onUpdate:t=>this._handlePopperPlacementChange(t)}),this.config.popperConfig)}_addAttachmentClass(t){this.getTipElement().classList.add(`bs-tooltip-${t}`)}_getOffset(){const t={};return this.config.offset&&"function"==typeof this.config.offset?t.fn=t=>(t.offsets=ka(ka({},t.offsets),this.config.offset(t.offsets,this.element)||{}),t):t.offset=this.config.offset,t}_getContainer(){return this.config.container?fo(this.config.container)?this.config.container:"string"==typeof this.config.container?Po(this.config.container):null:document.body}_getAttachment(t="AUTO"){return Na[t.toUpperCase()||"BOTTOM"]}_setListeners(){this.config.trigger.split(" ").forEach((t=>{if("click"===t)To(this.element,"click",(t=>this.toggle(t)));else if(t!==Va){const e=t===Ha?"mouseover":"focus",s=t===Ha?"mouseout":"blur";To(this.element,e,(t=>this._enter(t))),To(this.element,s,(t=>this._leave(t)))}}));const t=this.element.closest(".modal");t&&To(t,"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=ka(ka({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()}_hideModalHandler(){this.element&&this.hide()}_fixTitle(){const t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))}_enter(t,e){const s=Wa.DATA_KEY;if(t){const i=t.delegateTarget||At(t);(e=e||cr(i,s))||(e=new Wa(i,this._getDelegateConfig()),lr(i,s,e)),e._activeTrigger["focusin"===t.type?$a:Ha]=!0}e.getTipElement().classList.contains(Ma)||e._hoverState===ja?e._hoverState=ja:(clearTimeout(e._timeout),e._hoverState=ja,e.config.delay&&e.config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===ja&&e.show()}),e.config.delay.show):e.show())}_leave(t,e){const s=Wa.DATA_KEY;if(t){const i=t.delegateTarget||At(t);(e=e||cr(i,s))||(e=new Wa(i,this._getDelegateConfig()),lr(i,s,e))}t&&(e._activeTrigger["focusout"===t.type?$a:Ha]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=qa,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===qa&&e.hide()}),e.config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=ya(this.element);return Object.keys(e).forEach((t=>{-1!==Pa.indexOf(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=ka(ka(ka({},Wa.Default),e),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),t.title&&"number"==typeof t.title&&(t.title=t.title.toString()),t.content&&"number"==typeof t.content&&(t.content=t.content.toString()),yo(Ta,t,Wa.DefaultType),t.sanitize&&(t.template=pa(t.template,t.allowList,t.sanitizeFn||void 0)||""),t}_getDelegateConfig(){const t={};if(this.config)for(const e in this.config)this.config[e]!==Wa.Default[e]&&(t[e]=this.config[e]);return t}_cleanTipClass(){var t;const e=this.getTipElement(),s=null===(t=e.getAttribute("class"))||void 0===t?void 0:t.match(xa);s&&s.length>0&&s.map((t=>t.trim())).forEach((t=>e.classList.remove(t)))}_handlePopperPlacementChange(t){this.tip=t.instance.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(t.placement))}_fixTransition(){const t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(t.classList.remove(Ra),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)}static getInstance(t){return cr(t,Da)}}(0,I.Z)(Wa,"CONSTANTS",{NAME:Ta,VERSION:Aa,DATA_KEY:Da,EVENT_KEY:La,CLASS_PREFIX:Oa,BSCLS_PREFIX_REGEX:xa,DISALLOWED_ATTRIBUTES:Pa,DefaultType:Ia,AttachmentMap:Na,Default:Za,Event:Ba,CLASS_NAME_FADE:Ra,CLASS_NAME_MODAL:Fa,CLASS_NAME_SHOW:Ma,HOVER_STATE_SHOW:ja,HOVER_STATE_OUT:qa,SELECTOR_TOOLTIP_INNER:Ua,TRIGGER_HOVER:Ha,TRIGGER_FOCUS:$a,TRIGGER_CLICK:za,TRIGGER_MANUAL:Va});function Ga(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Ya(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Ga(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Ga(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Xa="popover",Ka="5.0.0-alpha1",Ja="bs.popover",Qa=".bs.popover",tl="bs-popover",el=new RegExp("(^|\\s)bs-popover\\S+","g"),sl=Ya(Ya({},Wa.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),il=Ya(Ya({},Wa.DefaultType),{},{content:"(string|element|function)"}),nl={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},ol="fade",rl="show",al=".popover-header",ll=".popover-body";class cl extends Wa{static get VERSION(){return Ka}static get Default(){return sl}static get NAME(){return Xa}static get DATA_KEY(){return Ja}static get Event(){return nl}static get EVENT_KEY(){return Qa}static get DefaultType(){return il}constructor(t,e){super(t,e),t.style.backgroundColor="#ffff00"}isWithContent(){return Boolean(this.getTitle()||this._getContent())}setContent(t){const e=this.getTipElement();this.setElementContent(Po(al,e),this.getTitle()),t||(t=this._getContent()),"function"==typeof t&&(t=t(this.element)),t&&this.setElementContent(Po(ll,e),t),e.classList.remove(ol,rl)}_addAttachmentClass(t){this.getTipElement().classList.add(`bs-popover-${t}`)}_getContent(){return this.element.getAttribute("data-content")||this.config.content}_cleanTipClass(){var t;const e=this.getTipElement(),s=null==e||null===(t=e.getAttribute("class"))||void 0===t?void 0:t.match(el);s&&s.length>0&&s.map((t=>t.trim())).forEach((t=>e.classList.remove(t)))}_getPopperConfig(t){const e=super._getPopperConfig(t);return e.modifiers.arrow.element=`.${cl.NAME}-arrow`,e}static getInstance(t){return cr(t,Ja)}}(0,I.Z)(cl,"CONSTANTS",{NAME:Xa,VERSION:Ka,DATA_KEY:Ja,EVENT_KEY:Qa,CLASS_PREFIX:tl,BSCLS_PREFIX_REGEX:el,Default:sl,DefaultType:il,Event:nl,CLASS_NAME_FADE:ol,CLASS_NAME_SHOW:rl,SELECTOR_TITLE:al,SELECTOR_CONTENT:ll});function hl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function dl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?hl(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hl(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const ul="bs.toast",pl="hidden.bs.toast",ml="hide",vl="show",gl="showing",fl={animation:"boolean",autohide:"boolean",delay:"number"},bl={animation:!0,autohide:!0,delay:2e3};class yl{constructor(t,e){(0,I.Z)(this,"_element",void 0),(0,I.Z)(this,"_config",{}),(0,I.Z)(this,"_timeout",null),this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners(),lr(t,ul,this)}static get VERSION(){return"5.0.0-alpha1-riba"}static get DefaultType(){return fl}static get Default(){return bl}show(){if(Lo(this._element,"show.bs.toast").defaultPrevented)return;this._config.animation&&this._element.classList.add("fade");const t=()=>{this._element&&(this._element.classList.remove(gl),this._element.classList.add(vl),Lo(this._element,"shown.bs.toast"),this._config.autohide&&(this._timeout=Number(setTimeout((()=>{this.hide()}),this._config.delay))))};if(this._element.classList.remove(ml),_o(this._element),this._element.classList.add(gl),this._config.animation){const e=vo(this._element);Ao(this._element,ho,t),bo(this._element,e)}else t()}hide(){if(!this._element.classList.contains(vl))return;if(Lo(this._element,"hide.bs.toast").defaultPrevented)return;const t=()=>{this._element&&(this._element.classList.add(ml),Lo(this._element,pl))};if(this._element.classList.remove(vl),this._config.animation){const e=vo(this._element);Ao(this._element,ho,t),bo(this._element,e)}else t()}dispose(){this._timeout&&clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(vl)&&this._element.classList.remove(vl),hr(this._element,ul)}_getConfig(t){var e;return t=dl(dl(dl({},bl),(null===(e=this._element)||void 0===e?void 0:e.dataset)||{}),"object"==typeof t&&t?t:{}),yo("toast",t,yl.DefaultType),t}_setListeners(){this._element&&To(this._element,"click.dismiss.bs.toast",(()=>{var t;"toast"===(null===(t=this._element)||void 0===t?void 0:t.dataset.dismiss)&&this.hide()}))}static getInstance(t){return cr(t,ul)}}const wl={name:"bs4-collapse-on-url",bind(t){this.customData={dispatcher:rt.getInstance("main"),collapseService:new kr(t,[],{toggle:!1})}},unbind(){this.customData.checkURL&&this.customData.dispatcher.off("newPageReady",this.customData.checkURL)},routine(t,e){this.customData.checkURL&&this.customData.dispatcher.off("newPageReady",this.customData.checkURL),this.customData.checkURL=()=>!(!e||!Yt(e))&&(this.customData.collapseService.hide(),!0),this.customData.dispatcher.on("newPageReady",this.customData.checkURL)}},El={name:"bs4-collapse",bind(){console.warn("bs4-collapse is deprecated, use bs4-toggle-collapse-on-click instead.")},routine(t,e){const s=document.querySelectorAll(e),i=[];s.forEach((e=>{i.push(new kr(e,[t],{toggle:!1}))})),t.addEventListener("click",(t=>{t.preventDefault(),i.forEach((t=>{t.toggle()}))}))}},Cl={name:"bs4-toggle-collapse-on-*",bind(t){if(this.customData={targets:new Map,onEvent(t){t.preventDefault();for(const t of this.targets.values())t.toggle()}},this.customData.onEvent=this.customData.onEvent.bind(this.customData),null===this.args)throw new Error("args is null");const e=this.args[0];t.addEventListener(e,this.customData.onEvent,{passive:!0})},unbind(){const t=this.args[0];this.el.removeEventListener(t,this.customData.onEvent)},routine(t,e){const s=Array.from(document.querySelectorAll(e));s.length<=0&&console.warn(`[toggleCollapseOnEventBinder] No element with selector "${e}" found.`);for(const t of this.customData.targets.keys())s.find((e=>e===t))||(this.customData.targets.get(t).dispose(),this.customData.targets.delete(t));for(const e of s)this.customData.targets.has(e)||this.customData.targets.set(e,new kr(e,[t],{toggle:!1}))}},Sl={name:"bs4-dropdown",bind(t){this.customData={toggler:(t.classList.contains("dropdown-toggle")?t:t.querySelector(".dropdown-toggle"))||t}},routine(t,e={}){this.customData.dropdownService&&(this.customData.dropdownService.dispose(),this.customData.toggler.removeEventListener("click",this.customData.dropdownService.toggle)),this.customData.dropdownService=new Wr(this.customData.toggler,e),this.customData.dropdownService.toggle=this.customData.dropdownService.toggle.bind(this.customData.dropdownService),this.customData.toggler.addEventListener("click",this.customData.dropdownService.toggle)}},_l={name:"bs4-expan-on-url",routine(t,e){const s=new kr(t,[],{toggle:!1}),i=new rt("main"),n=t=>t&&Yt(t)?(s.show(),!0):(s.hide(),!1);i.on("newPageReady",(()=>n(e))),n(e)}};function kl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Tl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?kl(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):kl(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Al={name:"bs4-popover",block:!1,routine(t,e){let s={};"string"==typeof e?s.content=e:"object"==typeof e&&(s=Tl({},e)),s.placement=s.placement||"auto";const i=new cl(t,Tl(Tl({},cl.Default),s));this.customData.popover&&this.customData.popover.dispose(),this.customData.popover=i;const n=["show","hide","toggle","dispose","enable","disable","toggleEnabled","update"];if(this.customData.listeners)for(const[t,e]of Object.entries(this.customData.listeners))this.el.removeEventListener(t,e);this.customData.listeners=Object.create(null);for(const t of n){const e=`trigger-${t}`,s=i[t].bind(i);this.el.addEventListener(e,s),this.customData.listeners[e]=s}},bind(t){t.dispatchEvent(new CustomEvent("bound.bs.popover",{bubbles:!0,cancelable:!0}))},unbind(){if(this.customData.popover&&this.customData.popover.dispose(),this.customData.listeners)for(const[t,e]of Object.entries(this.customData.listeners))this.el.removeEventListener(t,e)}};class Dl extends class{constructor(t,e){(0,I.Z)(this,"type",void 0),(0,I.Z)(this,"title",void 0),(0,I.Z)(this,"channel",void 0),(0,I.Z)(this,"$event",void 0),(0,I.Z)(this,"$context",void 0),this.type=t,this.title=e}}{constructor({title:t,message:e,iconUrl:s,delay:i,autoHide:n,animation:o,toastService:r,contextualClass:a,channel:l,$event:c,$context:h}){super("toast",t),(0,I.Z)(this,"message",void 0),(0,I.Z)(this,"iconUrl",void 0),(0,I.Z)(this,"delay",void 0),(0,I.Z)(this,"autoHide",void 0),(0,I.Z)(this,"animation",void 0),(0,I.Z)(this,"toastService",void 0),(0,I.Z)(this,"contextualClass",void 0),this.message=e,this.iconUrl=s,this.delay=i,this.autoHide=n,this.animation=o,this.toastService=r,this.contextualClass=a,this.channel=l,this.$event=c,this.$context=h}}const Ll={name:"show-toast-on-*",bind(t){this.customData={onEvent(t){console.debug("[show-toast-on-*] event.detail:",t.detail),this.customData.toastData.$event=t,this.customData.toastData.$context=this.view.models,console.debug(this.customData.toastData);const e=new Dl(this.customData.toastData);new rt(e.channel||"toast").trigger("show-notification",e)}};const e=this.args[0];this.customData.onEvent=this.customData.onEvent.bind(this),t.addEventListener(e,this.customData.onEvent,{passive:!0})},routine(t,e){if(null===this.args)throw new Error("args is null");this.customData.toastData=e},unbind(t){const e=this.args[0];t.removeEventListener(e,this.customData.onEvent)}},Ol={name:"bs4-scrollspy-*",bind(t){this.customData={onScroll:function(){const e=this.customData.target,s=this.customData.className;this.customData.target&&(this.customData.isInViewport(e)?(t.classList.add(s),"radio"===t.type&&(t.checked=!0)):(t.classList.remove(s),"radio"===t.type&&(t.checked=!1)))},isInViewport:function(e){if(!e)return!1;return((t,e,s=0)=>{if(!t)return!1;const i=t.getBoundingClientRect();e||(e=Dt().h-i.height);return i.top+i.height>=s&&i.bottom-i.height<=e})(e,Number(t.dataset.offset||0),Number(t.dataset.offsetBottom||0))}},this.customData.isInViewport=this.customData.isInViewport.bind(this),this.customData.onScroll=Bt(this.customData.onScroll.bind(this)),window.addEventListener("scroll",this.customData.onScroll,{passive:!0}),this.customData.onScroll()},routine(t,e){const s=e.replace("#","");this.customData.target=document.getElementById(s),this.customData.className=this.args[0]},unbind(){window.removeEventListener("scroll",this.customData.onScroll)}},xl=document.createElement("div");xl.classList.add("tooltip"),xl.setAttribute("role","tooltip");const Pl=document.createElement("div");Pl.classList.add("arrow"),xl.appendChild(Pl);const Il=document.createElement("div");Il.classList.add("tooltip-inner"),xl.appendChild(Il);const Nl={name:"bs4-tooltip",block:!1,bind(t){this.customData.tip=xl.cloneNode(!0),this.customData.show=()=>{const e=this.el.dataset.placement||"top";this.customData.popper=new Tr.Z(t,this.customData.tip,{placement:e,modifiers:{offset:{offset:0},flip:{behavior:"flip"},arrow:{element:".arrow"},preventOverflow:{boundariesElement:"scrollParent"}}}),document.body.appendChild(this.customData.tip),this.customData.tip.classList.add("show"),this.customData.tip.classList.add("bs-tooltip-"+e)},this.customData.hide=()=>{this.customData.tip.classList.remove("show"),this.customData.popper&&this.customData.popper.destroy()},t.addEventListener("mouseenter",this.customData.show),t.addEventListener("mouseleave",this.customData.hide)},routine(t,e){this.customData.tip.querySelector(".tooltip-inner").innerHTML=e},unbind(){this.customData.hide(),this.el.removeEventListener("mouseenter",this.customData.show),this.el.removeEventListener("mouseleave",this.customData.hide)}},Zl={name:"scroll-to-on-*",bind(t){this.customData={onEvent:function(e){const s=Number(t.dataset.offset||0),i=t.dataset.scrollElement?document.querySelector(t.dataset.scrollElement):window;this.customData.target&&(kt(this.customData.target,s,i),e.preventDefault())}},this.customData.onEvent=this.customData.onEvent.bind(this);const e=this.args[0];t.addEventListener(e,this.customData.onEvent,{passive:!0})},routine(t,e){this.customData.target=document.querySelector(e)},unbind(t){const e=this.args[0];t.removeEventListener(e,this.customData.onEvent)}},Bl={name:"bs4-toggle-attribute-*",toggleButtonEvents:null,state:"off",triggerState(){var t;const e=this.binder||this;null===(t=e.toggleButtonEvents)||void 0===t||t.trigger(eo.eventNames.state,e.state)},onToggle(){(this.binder||this).toggle.bind(this)(this.el)},toggle(t){const e=this.binder||this;"removed"===e.state?e.add.bind(this)(t):e.remove.bind(this)(t)},remove(t){const e=this.binder||this,s=this.args[0];t.removeAttribute(s),e.state="removed",t.dispatchEvent(new CustomEvent(so.elEventNames.removed,{detail:{attributeName:s}})),e.triggerState()},add(t){const e=this.binder||this,s=this.args[0];t.setAttribute(s,s),e.state="added",t.dispatchEvent(new CustomEvent(so.elEventNames.added,{detail:{attributeName:s}})),e.triggerState()},bind(t){const e=this.binder||this,s=this.args[0];e.state=t.hasAttribute(s)?"added":"removed"},unbind(){var t,e;const s=this.binder||this;null===(t=s.toggleButtonEvents)||void 0===t||t.off(eo.eventNames.toggle,s.onToggle,s),null===(e=s.toggleButtonEvents)||void 0===e||e.off(eo.eventNames.init,s.triggerState,s)},routine(t,e){const s=this.getValue(t),i=this.binder||this;let n=i.toggleButtonEvents;s&&n&&(n.off(eo.eventNames.toggle,i.onToggle,i),n.off(eo.eventNames.init,i.triggerState,i)),i.toggleButtonEvents||(i.toggleButtonEvents=new rt(eo.nsPrefix+e),n=i.toggleButtonEvents,n.on(eo.eventNames.toggle,i.onToggle,i),n.on(eo.eventNames.init,i.triggerState,i))}},Rl={name:"bs4-toggle-class-*",toggleButtonEvents:null,state:"off",triggerState(){var t;const e=this.binder||this;null===(t=e.toggleButtonEvents)||void 0===t||t.trigger(eo.eventNames.state,e.state)},onToggle(){(this.binder||this).toggle.bind(this)(this.el)},toggle(t){const e=this.binder||this;"removed"===e.state?e.add.bind(this)(t):e.remove.bind(this)(t)},remove(t){const e=this.binder||this,s=this.args[0];t.classList.remove(s),e.state="removed",t.dispatchEvent(new CustomEvent(io.elEventNames.removed,{detail:{className:s}})),e.triggerState()},add(t){const e=this.binder||this,s=this.args[0];t.classList.add(s,s),e.state="added",t.dispatchEvent(new CustomEvent(io.elEventNames.added,{detail:{className:s}})),e.triggerState()},bind(t){const e=this.binder||this,s=this.args[0];e.state=t.classList.contains(s)?"added":"removed"},unbind(){var t,e;const s=this.binder||this;null===(t=s.toggleButtonEvents)||void 0===t||t.off(eo.eventNames.toggle,s.onToggle,s),null===(e=s.toggleButtonEvents)||void 0===e||e.off(eo.eventNames.init,s.triggerState,s)},routine(t,e){const s=this.getValue(t),i=this.binder||this;let n=i.toggleButtonEvents;s&&n&&(n.off(eo.eventNames.toggle,i.onToggle,this),n.off(eo.eventNames.init,i.triggerState,this)),i.toggleButtonEvents||(i.toggleButtonEvents=new rt(eo.nsPrefix+e),n=i.toggleButtonEvents,n.on(eo.eventNames.toggle,i.onToggle,this),n.on(eo.eventNames.init,i.triggerState,this))}};class Fl extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"scope",{toggle:this.toggle}),(0,I.Z)(this,"dropdownService",void 0)}toggle(t){if(t.preventDefault(),t.stopPropagation(),!this.dropdownService)throw new Error("DropdownService not ready!");return this.dropdownService.toggle()}connectedCallback(){super.connectedCallback(),this.dropdownService=new Wr(this.querySelector(".dropdown-toggle")),this.init(Fl.observedAttributes)}template(){return null}}(0,I.Z)(Fl,"tagName","bs4-dropdown");const Ml=js.read;class jl extends $e{static get observedAttributes(){return["collapse-icon-src","collapse-icon-size","show-only-one"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"show",required:!1},{name:"icon-direction",required:!1}]),(0,I.Z)(this,"scope",{items:[],toggle:this.toggle,show:this.show,hide:this.hide,collapseIconSize:16,showOnlyOne:!0})}hide(t,e){const s=this.querySelector(`[data-index="${e}"]`);s&&(this.initItemEventListeners(t,s),new kr(s,[this],{toggle:!1}).hide())}show(t,e){const s=this.querySelector(`[data-index="${e}"]`),i=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(i&&this.scope.showOnlyOne)for(const t of i)new kr(t,[],{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new kr(s,[],{toggle:!1}).show())}toggle(t,e){const s=this.querySelector(`[data-index="${e}"]`),i=Array.from(this.querySelectorAll(`[data-index]:not([data-index="${e}"])`));if(i&&this.scope.showOnlyOne)for(const t of i)new kr(t,[],{toggle:!1}).hide();s&&(this.initItemEventListeners(t,s),new kr(s,[],{toggle:!1}).toggle())}initItemEventListeners(t,e){e.removeEventListener(br,this.onHide.bind(this,e,t)),e.removeEventListener(gr,this.onShow.bind(this,e,t)),e.addEventListener(br,this.onHide.bind(this,e,t),{once:!0}),e.addEventListener(gr,this.onShow.bind(this,e,t),{once:!0})}getContentChildByIndex(){return this.querySelector(".card-body > *")||void 0}onShow(t,e){e.show=!0,e.iconDirection="up";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}onHide(t,e){e.show=!1,e.iconDirection="down";const s=this.getContentChildByIndex();s&&this.triggerVisibilityChangedForElement(s,e.show)}transformTemplateAttributes(t){return t.handle=t.handle||Ml(t.title),t.show=!!t.show,t.iconDirection=t.iconDirection||t.show?"up":"down",t}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.init(jl.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback()}template(){return!Et(this)||this.hasOnlyTemplateChilds()?'<div class="accordion"> <div class="card" rv-each-item="items"> <button type="button" class="btn btn-link card-header d-flex" rv-on-click="toggle | args item %item%" rv-aria-expanded="item.show"> <span class="card-header-text mr-auto" rv-html="item.title"></span> <bs4-icon class="ml-auto" rv-show="collapseIconSrc" rv-src="collapseIconSrc" rv-size="collapseIconSize" rv-direction="item.iconDirection"></bs4-icon> </button> <div class="collapse" rv-data-index="%item%"> <div class="card-body" rv-template="item.content"></div> </div> </div> </div> ':null}}(0,I.Z)(jl,"tagName","bs4-accordion");class ql extends je{static get observedAttributes(){return["animation-class"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{animationClass:"btn-animation-start",onClick:this.onClick.bind(this)})}onClick(){this.startAnimation()}connectedCallback(){super.connectedCallback(),this.init(ql.observedAttributes)}startAnimation(){this.classList.add(this.scope.animationClass)}onStartAnimation(){}onEndAnimation(){setTimeout((()=>{this.classList.remove(this.scope.animationClass)}))}async init(t){return super.init(t).then((t=>(this.onStartAnimation=this.onStartAnimation.bind(this),this.addEventListener("webkitAnimationStart",this.onStartAnimation),this.addEventListener("animationstart",this.onStartAnimation),this.onEndAnimation=this.onEndAnimation.bind(this),this.addEventListener("webkitAnimationEnd",this.onEndAnimation),this.addEventListener("animationend",this.onEndAnimation),this.addEventListener("click",this.scope.onClick),t)))}async beforeBind(){return await super.beforeBind()}async afterBind(){return await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("webkitAnimationStart",this.onStartAnimation),this.removeEventListener("animationstart",this.onStartAnimation),this.removeEventListener("webkitAnimationEnd",this.onEndAnimation),this.removeEventListener("animationend",this.onEndAnimation),this.removeEventListener("click",this.scope.onClick)}template(){return null}}(0,I.Z)(ql,"tagName","bs4-button");class Ul extends je{static get observedAttributes(){return["interval","keyboard","slide","pauseOn","wrap","touch","ride","fade"]}requiredAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"scope",{interval:rr.Default.interval,keyboard:rr.Default.keyboard,slide:rr.Default.slide,pauseOn:rr.Default.pause||!1,wrap:rr.Default.wrap,touch:rr.Default.touch,ride:rr.Default.touch||!1,fade:!1,next:this.next,nextWhenVisible:this.nextWhenVisible,prev:this.prev,pause:this.pause,cycle:this.cycle,to:this.to,dispose:this.dispose}),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"carouselService",void 0)}async beforeBind(){await super.beforeBind(),this.classList.add("carousel","slide")}async afterBind(){this.carouselService=new rr(this,{interval:this.scope.interval,keyboard:this.scope.keyboard,slide:this.scope.slide,pause:this.scope.pauseOn,wrap:this.scope.wrap,touch:this.scope.touch}),this.scope.fade&&this.classList.add("carousel-fade"),this.carouselService.cycle(),await super.afterBind()}next(){this.carouselService&&this.carouselService.next()}nextWhenVisible(){this.carouselService&&this.carouselService.nextWhenVisible()}prev(){this.carouselService&&this.carouselService.prev()}pause(){this.carouselService&&this.carouselService.pause()}cycle(t){this.carouselService&&this.carouselService.cycle(t)}to(t){this.carouselService&&this.carouselService.to(t)}dispose(){this.carouselService&&this.carouselService.dispose()}connectedCallback(){super.connectedCallback(),super.init(Ul.observedAttributes)}template(){return null}}(0,I.Z)(Ul,"tagName","bs4-carousel");var Hl=s(6211);class $l{constructor(){(0,I.Z)(this,"events",[])}add(t,e,s){t.addEventListener(e,s,!1),this.events.push({target:t,type:e,handler:s})}remove(t,e,s){this.events=this.events.filter((i=>{let n=!0;return t&&t!==i.target&&(n=!1),e&&e!==i.type&&(n=!1),s&&s!==i.handler&&(n=!1),n&&$l._doRemove(i.target,i.type,i.handler),!n}))}static _doRemove(t,e,s){t.removeEventListener(e,s,!1)}destroy(){this.events.forEach((t=>$l._doRemove(t.target,t.type,t.handler))),this.events=[]}}const zl=(t,e,s)=>{let i=!1;const n=(t,e,s)=>Math.max(e,Math.min(t,s)),o=(t,o,r)=>{if(r&&(i=!0),!i)return;t.preventDefault();const a=e.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientX,d=o.clientY,u=n(h-a.left,0,l),p=n(d-a.top,0,c);s(u/l,p/c)},r=(t,e)=>{1===(void 0===t.buttons?t.which:t.buttons)?o(t,t,e):i=!1};function a(t,e){1===t.touches.length?o(t,t.touches[0],e):i=!1}t.add(e,"mousedown",(t=>{r(t,!0)})),t.add(e,"touchstart",(t=>{a(t,!0)})),t.add(window,"mousemove",r),t.add(e,"touchmove",a),t.add(window,"mouseup",(()=>{i=!1})),t.add(e,"touchend",(()=>{i=!1})),t.add(e,"touchcancel",(()=>{i=!1}))};class Vl extends je{static get observedAttributes(){return["namespace","alpha","editor","editor-format","cancel-button","okay-button","color"]}constructor(){super(),(0,I.Z)(this,"eventDispatcher",void 0),(0,I.Z)(this,"color",void 0),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"scope",{namespace:"main",hsl:[],cssHue:"",cssHsl:"",cssHsla:"",alphaBg:"",color:"#0cf",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,okayButton:!1}),(0,I.Z)(this,"events",new $l),(0,I.Z)(this,"_domH",null),(0,I.Z)(this,"_domSL",null),(0,I.Z)(this,"_domA",null),(0,I.Z)(this,"_domEdit",null),(0,I.Z)(this,"_domSample",null),(0,I.Z)(this,"_domOkay",null),(0,I.Z)(this,"_domCancel",null)}connectedCallback(){super.connectedCallback(),super.init(Vl.observedAttributes),console.debug("scope",this.scope)}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.eventDispatcher=rt.getInstance("bs4-colorpicker:"+this.scope.namespace),this.setColor(this.scope.color),this.updateUI(),this.bindEvents()}async afterTemplate(t){await super.afterTemplate(t),this.setElements()}onChange(t){var e;this.debug("onChange",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("change",t)}onDone(t){var e;this.debug("onDone",t),null===(e=this.eventDispatcher)||void 0===e||e.trigger("done",t)}template(){return Et(this)?null:'<div class="picker_arrow"></div> <div class="picker_hue picker_slider" rv-style-color="cssHsl"> <div class="picker_selector"></div> </div> <div class="picker_sl" rv-style-background-color="cssHue" rv-style-color="cssHsl"> <div class="picker_selector"></div> </div> <div class="picker_alpha picker_slider" rv-show="alpha" rv-style-background-image="alphaBg"> <div class="picker_selector"></div> </div> <input class="picker_editor form-control" rv-show="editor" aria-label="Type a color name or hex value" rv-value="color"/> <div class="picker_sample" rv-style-color="cssHsla"></div> <button class="btn btn-success picker_done" rv-show="okayButton">Ok</button> <button class="btn btn-danger picker_cancel" rv-show="cancelButton">Cancel</button> '}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"color"===t&&this.setColor(this.scope.color)}setColor(t,e={silent:!1}){return Bt(this._setColor.bind(this))(t,e)}_setColor(t,e={silent:!1}){if("string"==typeof t&&(t=t.trim()),!t)return;let s;e=e||{};try{s=new Hl.Z(t)}catch(t){if(e.failSilently)return;throw t}if(!this.scope.alpha){const t=s.hsla;t[3]=1,s.hsla=t}this.color=s,this.setHSLA(null,null,null,null,e)}setElements(){this._domH=this.querySelector(".picker_hue"),this._domSL=this.querySelector(".picker_sl"),this._domA=this.querySelector(".picker_alpha"),this._domEdit=this.querySelector(".picker_editor")||null,this._domSample=this.querySelector(".picker_sample"),this._domOkay=this.querySelector(".picker_done"),this._domCancel=this.querySelector(".picker_cancel")}disconnectedCallback(){this.events.destroy()}bindEvents(){const t=this.events,e=(e,s,i)=>{t.add(e,s,i)};e(this,"click",(t=>t.preventDefault()));const s=zl.bind(this);if(!(this._domH&&this._domSL&&this._domA&&this._domEdit&&this._domOkay))throw new Error("Not ready!");s(t,this._domH,(t=>this.setHSLA(t))),s(t,this._domSL,((t,e)=>this.setHSLA(null,t,1-e))),this.scope.alpha&&s(t,this._domA,((t,e)=>this.setHSLA(null,null,null,1-e))),e(this._domEdit,"input",(t=>{const e=t.target;this.setColor(e.value,{fromEditor:!0,failSilently:!0})})),e(this._domEdit,"focus",(t=>{const e=t.target;e.selectionStart===e.selectionEnd&&e.select()}));const i=()=>{this.onDone(this.color)};e(this._domOkay,"click",i),function(t,e,s,i,n=!1){t.add(e,"keydown",(function(t){s.indexOf(t.key)>=0&&(n&&function(t){t.preventDefault(),t.stopPropagation()}(t),i(t))}))}(t,this,["Enter"],i)}setHSLA(t=null,e=null,s=null,i=null,n={}){if(!this.color)throw new Error("Not ready!");const o=this.color.hsla;[t,e,s,i].forEach(((t,e)=>{(t||0===t)&&(o[e]=t)})),this.color.hsla=o,this.updateUI(n),this.onChange&&!n.silent&&this.onChange(this.color)}updateUI(t={}){return Bt(this._updateUI.bind(this))(t)}_updateUI(t={}){if(!this||!this.color)return;if(this.scope.hsl=this.color.hsla,this.scope.cssHue=`hsl(${360*this.scope.hsl[0]}, 100%, 50%)`,this.scope.cssHsl=this.color.hslString,this.scope.cssHsla=this.color.hslaString,!this._domH||!this._domSL||!this._domA)throw new Error("Color ui elements not found!");const e=this._domH.querySelector(".picker_selector"),s=this._domSL.querySelector(".picker_selector"),i=this._domA.querySelector(".picker_selector");if(!(e&&s&&i&&this._domEdit&&this._domSample))throw console.error(e,s,i,this._domA,this._domSL,this._domH,this._domEdit,this._domSample),new Error("Not ready!");const n=(t,e,s)=>{e.style.left=100*s+"%"},o=(t,e,s)=>{e.style.top=100*s+"%"};n(this._domH,e,this.scope.hsl[0]),n(this._domSL,s,this.scope.hsl[1]),o(this._domSL,s,1-this.scope.hsl[2]),o(this._domA,i,1-this.scope.hsl[3]);const r=this.scope.cssHsl,a=r.replace("hsl","hsla").replace(")",", 0)"),l=`linear-gradient(${[r,a]})`;if(this.scope.alphaBg=l+", url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!t.fromEditor){const t=this.scope.editorFormat,e=this.scope.alpha;let s;switch(t){case"rgb":s=this.color.printRGB(e);break;case"hsl":s=this.color.printHSL(e);break;default:s=this.color.printHex(e)}this.scope.color=s}}}(0,I.Z)(Vl,"tagName","bs4-colorpicker");class Wl extends je{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","scroll-offset","scroll-element"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"wrapperElement",void 0),(0,I.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(Wl.observedAttributes)}getIdFromElementOrParent(t,e=1){return t.id?t.id:e<=this.scope.findHeaderIdDepth&&t.parentElement?this.getIdFromElementOrParent(t.parentElement,++e):null}pushHeaders(t,e,s,i){t.querySelectorAll("h"+e).forEach((t=>{const n=this.getIdFromElementOrParent(t);n&&(i.push({element:t,href:"#"+n,title:t.innerHTML,childs:[]}),t.parentElement&&s>=e+1&&this.pushHeaders(t.parentElement,e+1,s,i[i.length-1].childs))}))}async afterBind(){if(this.scope.headerParentSelector&&this.scope.headersStart&&this.scope.headersDepth){if(this.wrapperElement=document.querySelector(this.scope.headerParentSelector)||void 0,this.scope.anchors=[],!this.wrapperElement)return void console.error("No wrapper element found!");this.pushHeaders(this.wrapperElement,this.scope.headersStart,this.scope.headersDepth,this.scope.anchors)}await super.afterBind()}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}disconnectedCallback(){super.disconnectedCallback(),this.scope.anchors=[]}template(){return Et(this)?null:'<ul class="list-unstyled list-contents list-contents-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors"> <a class="nav-link p-0" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs"> <a class="nav-link p-0" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-contents list-contents-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,I.Z)(Wl,"tagName","bs4-contents");class Gl extends Me{static get observedAttributes(){return["size","width","height","src","color","direction"]}constructor(){super(),(0,I.Z)(this,"scope",{})}async attributeChangedCallback(t,e,s,i){if(super.attributeChangedCallback(t,e,s,i),"src"===t){if(!s)return void console.warn("The src attribute must have a value!",this.scope);fetch&&fetch(s).then((t=>{var e;return 200!==t.status?(console.error(t.statusText),""):-1!==(null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.indexOf("image/svg+xml"))?t.text():(console.error("[bs4-icon] Only svg's are supported! But content-type is "+t.headers.get("content-type")),"")})).then((t=>{this.innerHTML=t})).catch((t=>{console.error(t)}))}if("title"===t){const t=document.createElementNS("http://www.w3.org/2000/svg","title");t.textContent=s;const e=this.firstElementChild;e&&e.appendChild(t)}if("color"===t)if(-1!==s.indexOf(",")){if((s=s.split(",")).length>0){this.className=this.className.replace(/(^|\s)color-\S+/g,"");for(let t=0;t<s.length;t++){const e=s[t];(e.startsWith("#")||e.startsWith("rgb"))&&(this.style.color=e),this.classList.add(`color-${e}`)}}}else this.style.color=s,this.className=this.className.replace(/(^|\s)color-\S+/g,""),this.classList.add(`color-${s}`);if("size"===t){const t=s;this.style.height=t+"px",this.style.width=t+"px",this.className=this.className.replace(/(^|\s)size-\S+/g,""),this.classList.add(`size-${t}`)}if("width"===t){const t=s;this.style.width=t+"px",this.className=this.className.replace(/(^|\s)width-\S+/g,""),this.classList.add(`width-${t}`)}if("height"===t){const t=s;this.style.height=t+"px",this.className=this.className.replace(/(^|\s)height-\S+/g,""),this.classList.add(`height-${t}`)}if("direction"===t){const t=s;let e=`direction-${t}`;"left"===t?e+=" rotate-270":"left-top"===t||"left-up"===t||"top-left"===t||"up-left"===t?e+=" rotate-315":"top"===t||"up"===t?e+=" rotate-0":"top-right"===t||"up-right"===t||"right-top"===t||"right-up"===t?e+=" rotate-45":"right"===t?e+=" rotate-90":"right-bottom"===t||"right-down"===t||"bottom-right"===t||"down-right"===t?e+=" rotate-135":"bottom"===t||"down"===t?e+=" rotate-180":"left-bottom"!==t&&"left-down"!==t&&"bottom-left"!==t&&"down-left"!==t||(e+=" rotate-225"),this.className=this.className.replace(/(^|\s)direction-\S+/g,""),this.className=this.className.replace(/(^|\s)rotate-\S+/g,""),this.className+=" "+e}}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true"),this.setAttribute("role","img"),this.classList.add("iconset"),this.init(Gl.observedAttributes),this.scope.direction||(this.scope.direction="up",this.attributeChangedCallback("direction",null,this.scope.direction,null))}template(){return null}}(0,I.Z)(Gl,"tagName","bs4-icon");class Yl extends Wl{static get observedAttributes(){return["headers-start","headers-depth","find-header-id-depth","header-parent-selector","offset","offset-bottom","scroll-offset"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{headersDepth:1,headersStart:2,findHeaderIdDepth:1,headerParentSelector:void 0,offset:0,offsetBottom:0,scrollOffset:0,anchors:[]})}connectedCallback(){super.connectedCallback(),this.init(Yl.observedAttributes)}requiredAttributes(){return["headersStart","headersDepth","headerParentSelector"]}template(){return Et(this)?null:'<ul class="list-unstyled list-scrollspy list-scrollspy-level-1"> <li class="nav-item nav-item-level-1" rv-each-anachor="anchors" rv-bs4-scrollspy-active="anachor.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="anachor.href" rv-html="anachor.title" rv-scroll-to-on-click="anachor.href" rv-data-offset="scrollOffset"></a> <ul rv-if="anachor.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-2"> <li class="nav-item nav-item-level-2" rv-each-child="anachor.childs" rv-bs4-scrollspy-active="child.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link" rv-href="child.href" rv-html="child.title" rv-scroll-to-on-click="child.href" rv-data-offset="scrollOffset"></a> <ul rv-if="child.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-3"> <li class="nav-item nav-item-level-3" rv-each-childchild="child.childs" rv-bs4-scrollspy-active="childchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchild.href" rv-html="childchild.title" rv-scroll-to-on-click="childchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-4"> <li class="nav-item nav-item-level-4" rv-each-childchildchild="childchild.childs" rv-bs4-scrollspy-active="childchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchild.href" rv-html="childchildchild.title" rv-scroll-to-on-click="childchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-5"> <li class="nav-item nav-item-level-5" rv-each-childchildchildchild="childchildchild.childs" rv-bs4-scrollspy-active="childchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchild.href" rv-html="childchildchildchild.title" rv-scroll-to-on-click="childchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> <ul rv-if="childchildchildchild.childs | size | gt 0" class="list-unstyled list-scrollspy list-scrollspy-level-6"> <li class="nav-item nav-item-level-6" rv-each-childchildchildchildchild="childchildchildchild.childs" rv-bs4-scrollspy-active="childchildchildchildchild.href" rv-data-offset="offset" rv-data-offset-bottom="offsetBottom"> <a class="nav-link p-0" rv-href="childchildchildchildchild.href" rv-html="childchildchildchildchild.title" rv-scroll-to-on-click="childchildchildchildchild.href" rv-data-scroll-element="scrollElement" rv-data-offset="scrollOffset"></a> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul>'}}(0,I.Z)(Yl,"tagName","bs4-scrollspy");class Xl extends je{static get observedAttributes(){return["id","container-selector","position","width","auto-show-on-wider-than","auto-hide-on-slimmer-than","force-hide-on-location-pathnames","force-show-on-location-pathnames","overlay-on-slimmer-than","watch-new-page-ready-event"]}constructor(){super(),(0,I.Z)(this,"computedStyle",void 0),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"eventDispatcher",void 0),(0,I.Z)(this,"routerEvents",new rt("main")),(0,I.Z)(this,"scope",{containerSelector:void 0,state:"hidden",oldState:"hidden",id:void 0,width:"250px",position:"left",autoShowOnWiderThan:1199,autoHideOnSlimmerThan:1200,watchNewPageReadyEvent:!0,forceHideOnLocationPathnames:[],forceShowOnLocationPathnames:[],overlayOnSlimmerThan:1200,hide:this.hide,show:this.show,toggle:this.toggle}),(0,I.Z)(this,"onEnvironmentChanges",Bt(this._onEnvironmentChanges.bind(this))),this.onEnvironmentChanges=this.onEnvironmentChanges.bind(this)}setState(t){this.scope.oldState=`${this.scope.state}`,this.scope.state=t,this.onStateChange()}getState(){return this.scope.state}getShowMode(){let t;return t=Dt().w<this.scope.overlayOnSlimmerThan?"overlay-"+this.scope.position:"side-"+this.scope.position,t}hide(){this.setState("hidden")}show(){const t=this.getShowMode();this.setState(t)}toggle(){"hidden"===this.scope.state?this.show():this.hide()}connectedCallback(){super.connectedCallback(),this.init(Xl.observedAttributes),this.computedStyle=window.getComputedStyle(this),window.addEventListener("resize",this.onEnvironmentChanges,{passive:!0}),this.onEnvironmentChanges()}initToggleButtonEventDispatcher(){this.eventDispatcher&&(this.eventDispatcher.off(eo.eventNames.toggle,this.toggle,this),this.eventDispatcher.off(eo.eventNames.init,this.triggerState,this)),this.eventDispatcher=new rt(eo.nsPrefix+this.scope.id),this.eventDispatcher.on(eo.eventNames.toggle,this.toggle,this),this.eventDispatcher.on(eo.eventNames.init,this.triggerState,this)}initRouterEventDispatcher(){this.scope.watchNewPageReadyEvent&&this.routerEvents.on("newPageReady",this.onEnvironmentChanges,this)}onHidden(){this.setContainersStyle(this.scope.state);const t="left"===this.scope.position?"-100%":"100%";this.setAttribute("style",`transform:translateX(${t});width:${this.scope.width};`)}onSide(t){this.setContainersStyle(t),this.setAttribute("style",`transform:translateX(0);width:${this.scope.width};`)}onOverlay(t){this.setContainersStyle(t),this.setAttribute("style",`transform:translateX(0);width:${this.scope.width};`)}triggerState(){var t;null===(t=this.eventDispatcher)||void 0===t||t.trigger("state",this.scope.state)}onStateChange(){switch(this.scope.state){case"side-left":case"side-right":this.onSide(this.scope.state);break;case"overlay-left":case"overlay-right":this.onOverlay(this.scope.state);break;default:this.onHidden()}this.eventDispatcher&&this.eventDispatcher.trigger(eo.eventNames.toggled,this.scope.state)}get width(){return this.offsetWidth?this.offsetWidth+"px":this.scope.width}setStateByEnvironment(){if(-1!==this.scope.forceHideOnLocationPathnames.indexOf(window.location.pathname))return this.hide();if(-1!==this.scope.forceShowOnLocationPathnames.indexOf(window.location.pathname))return this.show();const t=Dt().w;return this.scope.autoHideOnSlimmerThan>-1&&t<this.scope.autoHideOnSlimmerThan?this.hide():this.scope.autoShowOnWiderThan>-1&&t>this.scope.autoShowOnWiderThan?this.show():void 0}_onEnvironmentChanges(){this.setStateByEnvironment()}getContainers(){return this.scope.containerSelector?document.querySelectorAll(this.scope.containerSelector):void 0}initContainers(t){this.setContainersStyle(t)}setContainersStyle(t){const e=this.getContainers()||[];if(e)for(let s=0;s<e.length;s++){const i=e[s];this.setContainerStyle(i,t)}}setContainerStyle(t,e){const s=t.style;if(e){const i=this.width,n=window.getComputedStyle(t);switch(e){case"side-left":switch(n.position){case"fixed":s.left=i;break;default:s.marginLeft=i}break;case"side-right":switch(n.position){case"fixed":s.right=i;break;default:s.marginRight=i}break;case"hidden":switch(this.scope.oldState){case"side-left":switch(n.position){case"fixed":s.left="0";break;default:s.marginLeft="0"}break;case"side-right":switch(n.position){case"fixed":s.right="0";break;default:s.marginRight="0"}}}}t.style.transition=this.computedStyle?this.computedStyle.transition:""}async beforeBind(){return await super.beforeBind(),this.scope.oldState=this.getShowMode(),this.initRouterEventDispatcher(),this.onEnvironmentChanges()}async afterBind(){this.onEnvironmentChanges(),await super.afterBind()}requiredAttributes(){return["id"]}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"containerSelector"===t&&this.initContainers(this.scope.state),"id"===t&&this.initToggleButtonEventDispatcher()}disconnectedCallback(){var t,e;super.disconnectedCallback(),null===(t=this.eventDispatcher)||void 0===t||t.off(eo.eventNames.init,this.triggerState,this),null===(e=this.eventDispatcher)||void 0===e||e.off(eo.eventNames.toggle,this.toggle,this),this.routerEvents.off("newPageReady",this.onEnvironmentChanges,this),window.removeEventListener("resize",this.onEnvironmentChanges,!1)}template(){return Et(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,I.Z)(Xl,"tagName","bs4-sidebar");function Kl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function Jl(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Kl(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Kl(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const Ql=".slideshow-inner",tc=".slideshow-inner > .slide";class ec extends $e{get slideshowInner(){if(this._slideshowInner||(this._slideshowInner=this.querySelector(Ql)),!this._slideshowInner)throw new Error("Child element with selector .slideshow-inner not found!");return this._slideshowInner}get slideElements(){if(this._slideElements||(this._slideElements=this.querySelectorAll(tc)),!this._slideElements)throw new Error(`Child element with selector ${tc} not found!`);return this._slideElements}get controlsElements(){return this._controlsElements||(this._controlsElements=this.querySelectorAll(".slideshow-control-prev, .slideshow-control-next")),this._controlsElements}get indicatorsElement(){return this._indicatorsElement||(this._indicatorsElement=this.querySelector(".slideshow-indicators")),this._indicatorsElement}static get observedAttributes(){return["min-width","slides-to-show","slides-to-scroll","controls","controls-position","drag","autoplay","autoplay-interval","autoplay-velocity","control-prev-icon-src","control-next-icon-src","indicator-inactive-icon-src","indicator-active-icon-src","angle","set-active-slide","pause-on-hover","sticky","indicators","indicators-position","pause","sm-min-width","sm-slides-to-show","sm-slides-to-scroll","sm-controls","sm-controls-position","sm-drag","sm-autoplay","sm-autoplay-interval","sm-autoplay-velocity","sm-control-prev-icon-src","sm-control-next-icon-src","sm-indicator-inactive-icon-src","sm-indicator-active-icon-src","sm-angle","sm-set-active-slide","sm-pause-on-hover","sm-sticky","sm-indicators","sm-indicators-position","sm-pause","md-min-width","md-slides-to-show","md-slides-to-scroll","md-controls","md-controls-position","md-drag","md-autoplay","md-autoplay-interval","md-autoplay-velocity","md-control-prev-icon-src","md-control-next-icon-src","md-indicator-inactive-icon-src","md-indicator-active-icon-src","md-angle","md-set-active-slide","md-pause-on-hover","md-sticky","md-indicators","sm-indicators-position","md-pause","lg-min-width","lg-slides-to-show","lg-slides-to-scroll","lg-controls","lg-controls-position","lg-drag","lg-autoplay","lg-autoplay-interval","lg-autoplay-velocity","lg-control-prev-icon-src","lg-control-next-icon-src","lg-indicator-inactive-icon-src","lg-indicator-active-icon-src","lg-angle","lg-set-active-slide","lg-pause-on-hover","lg-sticky","lg-indicators","lg-indicators-position","lg-pause","xl-min-width","xl-slides-to-show","xl-slides-to-scroll","xl-controls","xl-controls-position","xl-drag","xl-autoplay","xl-autoplay-interval","xl-autoplay-velocity","xl-control-prev-icon-src","xl-control-next-icon-src","xl-indicator-inactive-icon-src","xl-indicator-active-icon-src","xl-angle","xl-set-active-slide","xl-pause-on-hover","xl-sticky","xl-indicators","xl-indicators-position","xl-pause"]}constructor(){super(),(0,I.Z)(this,"resizeObserver",void 0),(0,I.Z)(this,"templateAttributes",[{name:"class",required:!1},{name:"handle",required:!1},{name:"type",required:!0},{name:"active",type:"boolean",required:!1},{name:"index",type:"number",required:!1}]),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"dragscrollService",void 0),(0,I.Z)(this,"continuousAutoplayService",void 0),(0,I.Z)(this,"scrollEventsService",void 0),(0,I.Z)(this,"_slideshowInner",null),(0,I.Z)(this,"_slideElements",null),(0,I.Z)(this,"_controlsElements",null),(0,I.Z)(this,"_indicatorsElement",null),(0,I.Z)(this,"templateControls",'<button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-prev" rv-add-class="controlsPositionClass" role="button" data-slide="prev" rv-on-click="prev"> <bs4-icon rv-if="controlPrevIconSrc" rv-src="controlPrevIconSrc" direction="left" size="24"></bs4-icon> <span rv-hide="controlPrevIconSrc" class="btn btn-link slideshow-control-fallback-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </button> <button rv-show="controls" class="btn btn-link slideshow-controls slideshow-control-next" rv-add-class="controlsPositionClass" role="button" data-slide="next" rv-on-click="next"> <bs4-icon rv-if="controlNextIconSrc" rv-src="controlNextIconSrc" direction="right" size="24"></bs4-icon> <span rv-hide="controlNextIconSrc" class="slideshow-control-fallback-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </button> '),(0,I.Z)(this,"templateIndicators",'<ol rv-if="indicators" class="slideshow-indicators" rv-add-class="indicatorsPositionClass"> <li rv-each-slide="items" rv-class-active="slide.active" rv-on-click="goTo | args slide.index"> <bs4-icon rv-hide="slide.active" rv-src="indicatorInactiveIconSrc" size="16"></bs4-icon> <bs4-icon rv-show="slide.active" rv-src="indicatorActiveIconSrc" size="16"></bs4-icon> </li> </ol> '),(0,I.Z)(this,"autoplayIntervalIndex",null),(0,I.Z)(this,"continuousAutoplayIntervalIndex",null),(0,I.Z)(this,"resumeTimer",null),(0,I.Z)(this,"routerEvents",new rt("main")),(0,I.Z)(this,"breakpoint","xs"),(0,I.Z)(this,"scope",{next:this.next.bind(this),prev:this.prev.bind(this),goTo:this.goTo.bind(this),items:new Array,slidesToScroll:1,controls:!0,controlsPosition:"inside-middle",pauseOnHover:!0,sticky:!1,indicators:!0,indicatorsPosition:"inside-bottom",pause:!1,drag:!0,autoplay:!1,autoplayInterval:0,autoplayVelocity:.8,controlPrevIconSrc:"",controlNextIconSrc:"",indicatorActiveIconSrc:"",indicatorInactiveIconSrc:"",angle:"horizontal",xs:{minWidth:0},sm:{minWidth:576},md:{minWidth:768},lg:{minWidth:992},xl:{minWidth:1200},controlsPositionClass:"",indicatorsPositionClass:""}),(0,I.Z)(this,"onViewChanges",Bt(this._onViewChanges.bind(this))),(0,I.Z)(this,"onScroll",Bt(this._onScroll.bind(this))),(0,I.Z)(this,"onMouseUp",Rt(this._onMouseUp.bind(this))),this.onViewChanges=this.onViewChanges.bind(this),this.onVisibilityChanged=this.onVisibilityChanged.bind(this),this.onScroll=this.onScroll.bind(this),this.onScrollend=this.onScrollend.bind(this),this.onMouseIn=this.onMouseIn.bind(this),this.onMouseOut=this.onMouseOut.bind(this)}next(){this.scrollToNextSlide()}prev(){this.scrollToPrevSlide()}goTo(t){this.setSlidePositions();let e=0,s=0;if(this.scope.items[t]){if("vertical"===this.scope.angle){if(0===this.scope.items[t].position.centerY)return;e=this.slideshowInner.scrollTop+this.scope.items[t].position.centerY}else{if(0===this.scope.items[t].position.centerX)return;s=this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX}this.slideElements[t]&&("function"==typeof this.slideshowInner.scroll?this.slideshowInner.scroll({behavior:"smooth",left:s,top:e}):"vertical"===this.scope.angle?this.slideshowInner.scrollTop=e:this.slideshowInner.scrollLeft=s)}else console.error(`Slide with index "${t}" not found!`,this.scope.items[t])}setOptions(t,e){t.slidesToScroll=void 0!==e.slidesToScroll?J(!1,e.slidesToScroll):t.slidesToScroll,t.controls=void 0!==e.controls?J(!1,e.controls):t.controls,t.controlsPosition=void 0!==e.controlsPosition?J(!1,e.controlsPosition):t.controlsPosition,t.drag=void 0!==e.drag?J(!1,e.drag):t.drag,t.autoplay=void 0!==e.autoplay?J(!1,e.autoplay):t.autoplay,t.autoplayInterval=void 0!==e.autoplayInterval?J(!1,e.autoplayInterval):t.autoplayInterval,t.autoplayVelocity=void 0!==e.autoplayVelocity?J(!1,e.autoplayVelocity):t.autoplayVelocity,t.controlPrevIconSrc=void 0!==e.controlPrevIconSrc?J(!1,e.controlPrevIconSrc):t.controlPrevIconSrc,t.controlNextIconSrc=void 0!==e.controlNextIconSrc?J(!1,e.controlNextIconSrc):t.controlNextIconSrc,t.indicatorActiveIconSrc=void 0!==e.indicatorActiveIconSrc?J(!1,e.indicatorActiveIconSrc):t.indicatorActiveIconSrc,t.indicatorInactiveIconSrc=void 0!==e.indicatorInactiveIconSrc?J(!1,e.indicatorInactiveIconSrc):t.indicatorInactiveIconSrc,t.angle=void 0!==e.angle?J(!1,e.angle):t.angle,t.pauseOnHover=void 0!==e.pauseOnHover?J(!1,e.pauseOnHover):t.pauseOnHover,t.sticky=void 0!==e.sticky?J(!1,e.sticky):t.sticky,t.indicators=void 0!==e.indicators?J(!1,e.indicators):t.indicators,t.indicatorsPosition=void 0!==e.indicatorsPosition?J(!1,e.indicatorsPosition):t.indicatorsPosition,t.pause=void 0!==e.pause?J(!1,e.pause):t.pause}setOptionsIfUndefined(t,e){t.slidesToScroll=void 0===t.slidesToScroll?e.slidesToScroll:t.slidesToScroll,t.controls=void 0===t.controls?e.controls:t.controls,t.controlsPosition=void 0===t.controlsPosition?e.controlsPosition:t.controlsPosition,t.drag=void 0===t.drag?e.drag:t.drag,t.autoplay=void 0===t.autoplay?e.autoplay:t.autoplay,t.autoplayInterval=void 0===t.autoplayInterval?e.autoplayInterval:t.autoplayInterval,t.autoplayVelocity=void 0===t.autoplayVelocity?e.autoplayVelocity:t.autoplayVelocity,t.controlPrevIconSrc=void 0===t.controlPrevIconSrc?e.controlPrevIconSrc:t.controlPrevIconSrc,t.controlNextIconSrc=void 0===t.controlNextIconSrc?e.controlNextIconSrc:t.controlNextIconSrc,t.indicatorActiveIconSrc=void 0===t.indicatorActiveIconSrc?e.indicatorActiveIconSrc:t.indicatorActiveIconSrc,t.indicatorInactiveIconSrc=void 0===t.indicatorInactiveIconSrc?e.indicatorInactiveIconSrc:t.indicatorInactiveIconSrc,t.angle=void 0===t.angle?e.angle:t.angle,t.pauseOnHover=void 0===t.pauseOnHover?e.pauseOnHover:t.pauseOnHover,t.sticky=void 0===t.sticky?e.sticky:t.sticky,t.indicators=void 0===t.indicators?e.indicators:t.indicators,t.indicatorsPosition=void 0===t.indicatorsPosition?e.indicatorsPosition:t.indicatorsPosition,t.pause=void 0===t.pause?e.pause:t.pause}initResponsiveOptions(){this.setOptions(this.scope.xs,this.scope),this.setOptionsIfUndefined(this.scope.sm,this.scope.xs),this.setOptionsIfUndefined(this.scope.md,this.scope.sm),this.setOptionsIfUndefined(this.scope.lg,this.scope.md),this.setOptionsIfUndefined(this.scope.xl,this.scope.lg),this.breakpoint=this.getBreakpoint(),this.setOptionsByBreakpoint(this.breakpoint)}setControlsOptions(){var t,e,s,i,n;const o=null===(t=this.scope.xs.controlsPosition)||void 0===t?void 0:t.split("-"),r=null===(e=this.scope.sm.controlsPosition)||void 0===e?void 0:e.split("-"),a=null===(s=this.scope.md.controlsPosition)||void 0===s?void 0:s.split("-"),l=null===(i=this.scope.lg.controlsPosition)||void 0===i?void 0:i.split("-"),c=null===(n=this.scope.xl.controlsPosition)||void 0===n?void 0:n.split("-");this.scope.controlsPositionClass=`control-${o[0]} control-${o[1]} control-sm-${r[0]} control-sm-${r[1]} control-md-${a[0]} control-md-${a[1]} control-lg-${l[0]} control-lg-${l[1]} control-xl-${c[0]} control-xl-${c[1]}`}setIndicatorsOptions(){var t,e,s,i,n;const o=null===(t=this.scope.xs.indicatorsPosition)||void 0===t?void 0:t.split("-"),r=null===(e=this.scope.sm.indicatorsPosition)||void 0===e?void 0:e.split("-"),a=null===(s=this.scope.md.indicatorsPosition)||void 0===s?void 0:s.split("-"),l=null===(i=this.scope.lg.indicatorsPosition)||void 0===i?void 0:i.split("-"),c=null===(n=this.scope.xl.indicatorsPosition)||void 0===n?void 0:n.split("-");this.scope.indicatorsPositionClass=`indicators-${o[0]} indicators-${o[1]} indicators-sm-${r[0]} indicators-sm-${r[1]} indicators-md-${a[0]} indicators-md-${a[1]} indicators-lg-${l[0]} indicators-lg-${l[1]} indicators-xl-${c[0]} indicators-xl-${c[1]}`}getBreakpoint(){const t=window.innerWidth;return t>=this.scope.xs.minWidth&&t<this.scope.sm.minWidth?"xs":t>=this.scope.sm.minWidth&&t<this.scope.md.minWidth?"sm":t>=this.scope.md.minWidth&&t<this.scope.lg.minWidth?"md":t>=this.scope.lg.minWidth&&t<this.scope.xl.minWidth?"lg":"xl"}setOptionsByBreakpoint(t){this.setOptions(this.scope,this.scope[t]),this.scope.autoplay?this.enableAutoplay():this.disableAutoplay(),this.scope.drag?this.enableDesktopDragscroll():this.disableDesktopDragscroll(),this.setControlsOptions(),this.setIndicatorsOptions()}onBreakpointChanges(){this.setOptionsByBreakpoint(this.breakpoint)}_onViewChanges(){this.debug("onViewChanges");const t=this.getBreakpoint();t!==this.breakpoint&&(this.breakpoint=t,this.onBreakpointChanges()),this.setSlidePositions();const e=this.setCenteredSlideActive();this.scope.sticky&&this.goTo(e)}onVisibilityChanged(t){var e,s;t.detail.visible&&(null===(e=this.dragscrollService)||void 0===e||e.checkDraggable(),null===(s=this.continuousAutoplayService)||void 0===s||s.update())}_onScroll(){this.resume(1e3)}onScrollend(){this.setSlidePositions(),this.setCenteredSlideActive(),this.scope.sticky&&this.scrollToNearestSlide(),this.resume(1e3)}onMouseIn(){this.scope.pauseOnHover&&(this.scope.pause=!0)}onMouseOut(){this.resume(200)}_onMouseUp(){this.resume(1e3)}resume(t=1e3){this.scope.pause&&(null!==this.resumeTimer&&(clearTimeout(this.resumeTimer),this.resumeTimer=null),this.resumeTimer=window.setTimeout((()=>{this.setSlidePositions(),this.scope.pause=!1}),t))}connectedCallback(){return super.connectedCallback(),this.init(ec.observedAttributes)}addEventListeners(){var t;(this.routerEvents.on("newPageReady",this.onBreakpointChanges,this),window.ResizeObserver)?(this.resizeObserver=new window.ResizeObserver(this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.observe(this)):window.addEventListener("resize",this.onViewChanges,{passive:!0});this.addEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner.addEventListener("scroll",this.onScroll,{passive:!0}),this.slideshowInner.addEventListener("scrollended",this.onScrollend,{passive:!0}),this.addEventListener("mouseenter",this.onMouseIn,{passive:!0}),this.addEventListener("mouseover",this.onMouseIn,{passive:!0}),this.addEventListener("focusin",this.onMouseIn,{passive:!0}),this.addEventListener("touchstart",this.onMouseIn,{passive:!0}),this.addEventListener("mouseout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseleave",this.onMouseOut,{passive:!0}),this.addEventListener("focusout",this.onMouseOut,{passive:!0}),this.addEventListener("mouseup",this.onMouseUp,{passive:!0}),this.addEventListener("touchend",this.onMouseUp,{passive:!0}),this.addEventListener("scroll",this.onMouseUp,{passive:!0}),this.addEventListener("scrollend",this.onMouseUp,{passive:!0}),this.addEventListener("scrollended",this.onMouseUp,{passive:!0}),this.onViewChanges(),this.onScrollend()}removeEventListeners(){var t;this.routerEvents.off("newPageReady",this.onBreakpointChanges,this),window.removeEventListener("resize",this.onViewChanges),null===(t=this.resizeObserver)||void 0===t||t.unobserve(this),this.removeEventListener("visibility-changed",this.onVisibilityChanged),this.slideshowInner.removeEventListener("scroll",this.onScroll),this.slideshowInner.removeEventListener("scrollended",this.onScrollend),this.removeEventListener("mouseenter",this.onMouseIn),this.removeEventListener("mouseover",this.onMouseIn),this.removeEventListener("focusin",this.onMouseIn),this.removeEventListener("touchstart",this.onMouseIn),this.removeEventListener("mouseout",this.onMouseOut),this.removeEventListener("mouseleave",this.onMouseOut),this.removeEventListener("focusout",this.onMouseOut),this.removeEventListener("mouseup",this.onMouseUp),this.removeEventListener("touchend",this.onMouseUp),this.removeEventListener("scroll",this.onMouseUp),this.removeEventListener("scrollend",this.onMouseUp),this.removeEventListener("scrollended",this.onMouseUp)}async beforeBind(){return await super.beforeBind()}async afterBind(){this.initSlideshowInner(),this.initResponsiveOptions(),this.addEventListeners(),await super.afterBind()}initSlideshowInner(){this.initSlideshowInnerSlides(),this.scrollEventsService=new Ri(this.slideshowInner)}enableDesktopDragscroll(){if(!this.dragscrollService){const t={detectGlobalMove:!0};this.dragscrollService=new Ii(this.slideshowInner,t)}}disableDesktopDragscroll(){this.dragscrollService&&(this.dragscrollService.destroy(),this.dragscrollService=void 0)}enableContinuousAutoplay(){if(!this.continuousAutoplayService){const t={velocity:this.scope.autoplayVelocity,angle:this.scope.angle,pauseOnHover:this.scope.pauseOnHover};this.continuousAutoplayService=new Pi(this.slideshowInner,t)}if(!this.continuousAutoplayIntervalIndex){const t=1e4*this.scope.autoplayVelocity;this.continuousAutoplayIntervalIndex=window.setInterval(this.onScrollend.bind(this),t)}}disableContinuousAutoplay(){this.continuousAutoplayService&&(this.continuousAutoplayService.destroy(),this.continuousAutoplayService=void 0),this.continuousAutoplayIntervalIndex&&(window.clearInterval(this.continuousAutoplayIntervalIndex),this.continuousAutoplayIntervalIndex=null)}enableIntervalAutoplay(){null===this.autoplayIntervalIndex&&(this.autoplayIntervalIndex=window.setInterval((()=>{this.scope.pause||this.next()}),this.scope.autoplayInterval))}disableIntervalAutoplay(){this.autoplayIntervalIndex&&(window.clearInterval(this.autoplayIntervalIndex),this.autoplayIntervalIndex=null)}disableAutoplay(){this.disableIntervalAutoplay(),this.disableContinuousAutoplay()}enableAutoplay(){this.scope.autoplayInterval<=0?this.enableContinuousAutoplay():this.enableIntervalAutoplay()}initSlideshowInnerSlides(){if(!this.slideElements)throw new Error("No slides found!");0===this.scope.items.length&&this.addItemsByChilds()}transformTemplateAttributes(t,e){return(t=super.transformTemplateAttributes(t,e)).handle=t.handle||e.toString(),t.index=e,t.class=t.class||"",t.class+=" slide",t}addItemByTemplate(t,e){const s=this.getTemplateAttributes(t,e),i=t.innerHTML;s.type&&("slide"===s.type&&this.scope.items.push(Jl(Jl({},s),{},{content:i})),"controls"===s.type&&(this.templateControls=i),"indicators"===s.type&&(this.templateIndicators=i))}addItemsByChilds(){this.slideElements&&this.slideElements.forEach(((t,e)=>{const s=t.getAttribute("handle")||t.getAttribute("id")||e.toString();t.setAttribute("index",e.toString());const i={handle:s,active:!1,content:t.innerHTML,index:e,position:Jl(Jl({},t.getBoundingClientRect()),{},{centerY:0,centerX:0})};this.scope.items.push(i)}))}getScrollPosition(){return Li(this.slideshowInner)}getCurrentClosestNumber(t,e,s){return Math.abs(e-t)<Math.abs(s-t)?e:s}getMostCenteredSlideIndex(){if(this.scope.items.length<=0)return-1;let t=Math.abs("vertical"===this.scope.angle?this.scope.items[0].position.centerY:this.scope.items[0].position.centerX),e=0;for(let s=1;s<this.scope.items.length;s++){const i=Math.abs("vertical"===this.scope.angle?this.scope.items[s].position.centerY:this.scope.items[s].position.centerX);t=this.getCurrentClosestNumber(0,i,t),t===i&&(e=s)}return e}setAllSlidesInactive(t=-1){if(this.slideElements)for(let e=0;e<this.scope.items.length;e++)e!==t&&(this.scope.items[e]&&(this.scope.items[e].active=!1),this.slideElements[e]&&this.slideElements[e].classList&&this.slideElements[e].classList.remove("active"))}setCenteredSlideActive(){const t=this.getMostCenteredSlideIndex();return this.setAllSlidesInactive(t),this.scope.items[t]?(this.scope.items[t].active=!0,this.slideElements&&this.slideElements[t].classList&&this.slideElements[t].classList.add("active"),t):-1}isScrollableToIndex(t){if(!this.scope.items[t])return!1;const e="vertical"===this.scope.angle?this.getScrollPosition().maxY:this.getScrollPosition().maxX,s="vertical"===this.scope.angle?this.slideshowInner.scrollTop+this.scope.items[t].position.centerY:this.slideshowInner.scrollLeft+this.scope.items[t].position.centerX;return s<=e&&s>=0}scrollToNextSlide(){this.setSlidePositions();let t=this.getMostCenteredSlideIndex()+this.scope.slidesToScroll;return t>=this.slideElements.length&&(t-=this.slideElements.length),this.goTo(t)}scrollToPrevSlide(){this.setSlidePositions();let t=this.getMostCenteredSlideIndex()-this.scope.slidesToScroll;return t<0&&(t=this.slideElements.length-1+(t+1)),this.goTo(t)}scrollToNearestSlide(){this.setSlidePositions();const t=this.getMostCenteredSlideIndex();return this.goTo(t)}setSlidePositions(){var t,e;if(this.scope.items.length!==(null===(t=this.slideElements)||void 0===t?void 0:t.length))return void console.warn(`The slide objects must be the same size as the slide elements! ${this.scope.items.length} !== ${null===(e=this.slideElements)||void 0===e?void 0:e.length}`);const s=this.slideshowInner.getBoundingClientRect();for(let t=0;t<this.scope.items.length;t++){const e=this.slideElements[t],i=this.scope.items[t],n=e.getBoundingClientRect();n.x-=s.x,n.y-=s.y,i.position={x:n.x,y:n.y,width:n.width,height:n.height,bottom:n.bottom,left:n.left,right:n.right,top:n.top,toJSON:n.toJSON,centerY:n.y+n.height/2-s.height/2,centerX:n.x+n.width/2-s.width/2}}}requiredAttributes(){return[]}async attributeChangedCallback(t,e,s,i){let n="xs",o=this.scope;this.observedAttributesToCheck&&this.observedAttributesToCheck[t]&&(this.observedAttributesToCheck[t].initialized=!0),s=this.parseAttribute(s),t.startsWith("sm-")?(n="sm",o=this.scope.sm,t=t.slice(3)):t.startsWith("md-")?(n="md",o=this.scope.md,t=t.slice(3)):t.startsWith("lg-")?(n="lg",o=this.scope.lg,t=t.slice(3)):t.startsWith("xl-")&&(n="xl",o=this.scope.xl,t=t.slice(3));const r=X(t);o&&o[r]&&(e=o[r]),o[r]=s,this.parsedAttributeChangedCallback(n+r,e,s,i),this.bindIfReady()}parsedAttributeChangedCallback(t,e,s,i){return super.parsedAttributeChangedCallback(t,e,s,i)}disconnectedCallback(){var t;return this.removeEventListeners(),null===(t=this.scrollEventsService)||void 0===t||t.destroy(),this.disableAutoplay(),this.disableDesktopDragscroll(),super.disconnectedCallback()}template(){return!Et(this)||this.hasOnlyTemplateChilds()?'<div class="slideshow-inner"> <div rv-each-slide="items" rv-class="slide.class" rv-class-active="slide.active" rv-id="\'slide-\' | append slide.handle" rv-index="slide.index" rv-html="slide.content"></div> </div> '+this.templateControls+this.templateIndicators:(this.controlsElements.length<=0&&(this.innerHTML+=this.templateControls),this.indicatorsElement||(this.innerHTML+=this.templateIndicators),null)}}(0,I.Z)(ec,"tagName","bs4-slideshow");class sc extends je{static get observedAttributes(){return["target-id"]}requiredAttributes(){return["targetId"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"eventDispatcher",void 0),(0,I.Z)(this,"scope",{targetId:void 0,toggle:this.toggle,state:"undefined",isActive:!0,isClosed:!1})}toggle(){this.eventDispatcher&&this.eventDispatcher.trigger(eo.eventNames.toggle,this.scope.targetId)}async afterBind(){var t;null===(t=this.eventDispatcher)||void 0===t||t.trigger(eo.eventNames.init,this.scope.targetId),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(sc.observedAttributes)}onToggledEvent(t){this.scope.state=t,this.scope.isActive="hidden"!==t&&"removed"!==t,this.scope.isClosed=!this.scope.isActive}initEventDispatcher(t){this.eventDispatcher&&this.eventDispatcher.off(eo.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher=new rt(eo.nsPrefix+t),this.eventDispatcher.on(eo.eventNames.toggled,this.onToggledEvent,this),this.eventDispatcher.on(eo.eventNames.state,this.onToggledEvent,this)}async attributeChangedCallback(t,e,s,i){super.attributeChangedCallback(t,e,s,i)}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"targetId"===t&&s&&this.initEventDispatcher(s)}disconnectedCallback(){super.disconnectedCallback(),this.eventDispatcher&&this.eventDispatcher.off(eo.eventNames.toggled,this.onToggledEvent,this)}template(){return Et(this)||console.warn("No child elements found, this component as no template so you need to define your own as child of this component."),null}}(0,I.Z)(sc,"tagName","bs4-toggle-button");class ic extends je{static get observedAttributes(){return["collapse-selector"]}constructor(){super(),(0,I.Z)(this,"scope",{toggle:this.toggle,show:this.show,hide:this.hide,isCollapsed:!0,collapseSelector:".navbar-collapse"}),(0,I.Z)(this,"collapseTargets",new Map),(0,I.Z)(this,"routerEvents",void 0),this.onStateChange=this.onStateChange.bind(this)}async afterBind(){this.hide(),await super.afterBind()}toggle(t){for(const t of this.collapseTargets.values())t.toggle();t&&(t.preventDefault(),t.stopPropagation())}show(t){for(const t of this.collapseTargets.values())t.show();t&&(t.preventDefault(),t.stopPropagation())}hide(t){for(const t of this.collapseTargets.values())t.hide();t&&(t.preventDefault(),t.stopPropagation())}connectedCallback(){super.connectedCallback(),this.routerEvents=new rt("main"),this.routerEvents.on("newPageReady",this.onNewPageReady,this),this.setCollapseElement(),this.onStateChange(),this.init(ic.observedAttributes)}setCollapseElement(){const t=Array.from(this.querySelectorAll(this.scope.collapseSelector)||[]);for(const e of this.collapseTargets.keys())t.find((t=>t===e))||this.disposeCollapseTarget(e);for(const e of t)this.collapseTargets.has(e)||(this.collapseTargets.set(e,new kr(e,[this],{toggle:!1})),e.addEventListener(fr,this.onStateChange),e.addEventListener(yr,this.onStateChange));this.hide()}disposeCollapseTargets(){for(const t of this.collapseTargets.keys())this.disposeCollapseTarget(t)}disposeCollapseTarget(t){const e=this.collapseTargets.get(t);e&&e.dispose(),this.collapseTargets.delete(t),t.removeEventListener(fr,this.onStateChange),t.removeEventListener(yr,this.onStateChange)}disconnectedCallback(){super.disconnectedCallback(),this.disposeCollapseTargets(),this.routerEvents&&this.routerEvents.off("newPageReady",this.onNewPageReady,this)}onStateChange(){var t;this.scope.isCollapsed=null===(t=this.collapseTargets.values().next().value)||void 0===t?void 0:t.isCollapsed(),this.scope.isCollapsed?(this.classList.add(Sr),this.setAttribute("aria-expanded","false")):(this.classList.remove(Sr),this.setAttribute("aria-expanded","true"))}onNewPageReady(){this.hide()}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),"collapseSelector"===t&&this.setCollapseElement()}template(){return null}}(0,I.Z)(ic,"tagName","bs4-navbar");const nc=js.read;class oc extends $e{static get observedAttributes(){return["option-tabs-auto-height","option-tabs-angle","tab-0-title","tab-0-content","tab-0-handle","tab-1-title","tab-1-content","tab-1-handle","tab-2-title","tab-2-content","tab-2-handle","tab-3-title","tab-3-content","tab-3-handle","tab-4-title","tab-4-content","tab-4-handle","tab-5-title","tab-5-content","tab-5-handle","tab-6-title","tab-6-content","tab-6-handle","tab-7-title","tab-7-content","tab-7-handle","tab-8-title","tab-8-content","tab-8-handle","tab-9-title","tab-9-content","tab-9-handle","tab-10-title","tab-10-content","tab-10-handle","tab-11-title","tab-11-content","tab-11-handle","tab-12-title","tab-12-content","tab-12-handle","tab-13-title","tab-13-content","tab-13-handle","tab-14-title","tab-14-content","tab-14-handle","tab-15-title","tab-15-content","tab-15-handle","tab-16-title","tab-16-content","tab-16-handle","tab-17-title","tab-17-content","tab-17-handle","tab-18-title","tab-18-content","tab-18-handle","tab-19-title","tab-19-content","tab-19-handle"]}constructor(){super(),(0,I.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),(0,I.Z)(this,"scope",{items:new Array,activate:this.activate,deactivate:this.deactivate,deactivateAll:this.deactivateAll,optionTabsAutoHeight:!1,optionTabsAngle:"horizontal"}),(0,I.Z)(this,"tabs",void 0),(0,I.Z)(this,"tabPanes",void 0),(0,I.Z)(this,"scrollable",void 0),(0,I.Z)(this,"onResize",Bt(this._onResize.bind(this)))}_onResize(){this.setHeight()}setHeight(){if(this.scope.optionTabsAutoHeight)return;this.setElements();let t=0;this.tabPanes&&(this.tabPanes.forEach((e=>{if(!e.style)return;e.style.height="auto",e.style.display="block";const s=e.offsetHeight||0;s>t&&(t=s)})),this.tabPanes.forEach((e=>{e.style&&(e.style.display="",t>0&&(e.style.height=t+"px"))})))}deactivateAll(){for(let t=0;t<this.scope.items.length;t++){const e=this.scope.items[t];this.deactivate(e)}}deactivate(t){t.active=!1;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activate(t){this.deactivateAll(),t.active=!0;const e=this.getTabContentChildByIndex(t.index);e&&this.triggerVisibilityChangedForElement(e,t.active)}activateFirstTab(){this.scope.items.length>0&&this.activate(this.scope.items[0])}getTabContentChildByIndex(t){return this.querySelector(`.tab-content .tab-pane:nth-child(${t+1}) > *`)||void 0}triggerVisibilityChangedForElement(t,e){setTimeout((()=>{t.dispatchEvent(new CustomEvent("visibility-changed",{detail:{visible:e}}))}),200)}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(oc.observedAttributes)}disconnectedCallback(){this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler)})),window.removeEventListener("resize",this.onResize)}setElements(){this.tabs=this.querySelectorAll('[role="tab"]'),this.tabPanes=this.querySelectorAll('[role="tabpanel"]'),this.scrollable=this.querySelector("[scrollable]")}resizeTabsArray(t){for(;t>this.scope.items.length;)this.scope.items.push({handle:"",title:"",content:"",active:!1,index:this.scope.items.length-1})}onTabShownEventHandler(t){const e=t.target||t.srcElement;if(e&&this.scrollable){const t=e.getBoundingClientRect(),s=this.scrollable.scrollLeft||0+t.left;this.scrollable.scrollLeft=s}}initTabs(){this.setElements(),this.tabs&&this.tabs.forEach((t=>{t.removeEventListener("shown.bs.tab",this.onTabShownEventHandler),t.addEventListener("shown.bs.tab",this.onTabShownEventHandler)})),this.scope.optionTabsAutoHeight&&(window.removeEventListener("resize",this.onResize),window.addEventListener("resize",this.onResize,{passive:!0}),this.setHeight())}addTabByAttribute(t,e){const s=Number(t.replace(/[^0-9]/g,""));s>=this.scope.items.length&&this.resizeTabsArray(s+1),this.scope.items[s].index=s,t.endsWith("Content")&&(this.scope.items[s].content=e),t.endsWith("Title")&&(this.scope.items[s].title=e,this.scope.items[s].handle=this.scope.items[s].handle||nc(this.scope.items[s].title)),t.endsWith("Handle")&&(this.scope.items[s].handle=e),this.scope.items.length>0&&this.scope.items[0]&&this.scope.items[0].content.length>0&&this.scope.items[0].title.length>0&&this.scope.items[0].handle.length>0&&this.activateFirstTab()}transformTemplateAttributes(t,e){return!(t=super.transformTemplateAttributes(t,e)).handle&&t.title&&(t.handle=nc(t.title)),t.active=t.active||!1,t}parsedAttributeChangedCallback(t,e,s,i){super.parsedAttributeChangedCallback(t,e,s,i),t.startsWith("tab")&&(this.addTabByAttribute(t,s),this.initTabs())}async afterBind(){setTimeout((()=>{this.scope.optionTabsAutoHeight&&this.setHeight()}),500),await super.afterBind()}template(){return!Et(this)||this.hasOnlyTemplateChilds()?"horizontal"===this.scope.optionTabsAngle?'<ul rv-scrollbar-draggable rv-aria-orientation="optionTabsAngle" role="tablist" class="nav nav-tabs flex-scrollbar-x-auto scrollbar-y-hidden"> <li class="nav-item" rv-each-tab="items"> <button role="tab" class="btn btn-link nav-link" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </li> </ul> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> ':'<div class="row"> <div class="col-auto"> <div class="nav flex-column nav-pills" role="tablist" rv-aria-orientation="optionTabsAngle"> <div class="nav-item" rv-each-tab="items"> <button class="btn btn-link nav-link" role="tab" rv-class-active="tab.active" rv-id="\'tab-title-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append tab.handle" rv-on-click="activate | args tab" rv-html="tab.title"></button> </div> </div> </div> <div class="col-auto"> <div class="tab-content"> <div rv-each-tab="items" role="tabpanel" class="tab-pane" rv-class-show="tab.active" rv-class-active="tab.active" rv-id="\'tab-content-\' | append tab.handle" rv-aria-labelledby="\'tab-title-\' | append tab.handle" rv-template="tab.content"></div> </div> </div> </div> ':null}}(0,I.Z)(oc,"tagName","bs4-tabs");class rc extends je{static get observedAttributes(){return["id","disable-submit-until-change","use-ajax","ajax-request-type","auto-set-form-data","strip-html","scroll-invalid-element","animate-invalid-element"]}getDefaultScope(){return{id:Lt("form"),form:{fields:{},valid:!1,error:void 0},disableSubmitUntilChange:!1,submitDisabled:!1,onSubmit:this.onSubmit,useAjax:!0,ajaxRequestType:"form",autoSetFormData:!0,stripHtml:!0,scrollToInvalidElement:!0,animateInvalidElement:!0}}constructor(){super(),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"formEl",null),(0,I.Z)(this,"scope",this.getDefaultScope()),this.enableSubmit=this.enableSubmit.bind(this)}connectedCallback(){super.connectedCallback(),this.init(rc.observedAttributes),this.addEventListeners()}addEventListeners(){this.scope.disableSubmitUntilChange&&this.addEventListener("input",this.enableSubmit)}removeEventListeners(){this.removeEventListener("input",this.enableSubmit)}enableSubmit(){this.scope.submitDisabled=!1}requiredAttributes(){return[]}async beforeBind(){await super.beforeBind(),this.id=this.scope.id}async afterBind(){await super.afterBind()}stripHtml(){for(const t in this.scope.form.fields)this.scope.form.fields[t]&&"string"==typeof this.scope.form.fields[t]&&(this.scope.form.fields[t]=Y(this.scope.form.fields[t]))}onSubmit(t,e){if(this.debug("onSubmit",t,e),!this.formEl)return console.warn("No form found"),!1;if(this.scope.autoSetFormData&&this.getFormValues(),this.scope.stripHtml&&this.stripHtml(),this.validate(this.formEl,this.scope.form),!this.scope.form.valid)return void this.onInvalidForm(t);const s=this.getSubmitSettings(t);if("_blank"===(null==s?void 0:s.target))return!0;this.scope.useAjax&&(t.preventDefault(),t.stopPropagation(),this.ajaxSubmit(t,e))}async ajaxSubmit(t,e){this.debug("onSubmit",t,e,this.scope);const s=this.getSubmitSettings(t);if(s){this.scope.autoSetFormData&&this.getFormValues();try{const t=await dt.fetch(s.action,s.method,this.scope.form.fields,s.type);if(!t||!t.body)return this.onErrorSubmit("500","Error","Empty body!");const e=t.body&&t.body.message?t.body.message:"";return Number(t.status)>=400&&this.onErrorSubmit(t.status.toString(),e,t.body),this.onSuccessSubmit(t.status.toString(),e,t.body)}catch(t){this.onErrorSubmit(t.status,t.body.message,t.body)}}else console.warn("Can't get submit settings")}getSubmitSettings(t){var e;if(!this.formEl)return console.warn("No form found"),null;let s=this.formEl.action,i=this.formEl.method,n=this.formEl.method;if(null!=t&&null!==(e=t.originalEvent)&&void 0!==e&&e.submitter){var o;const e=null==t||null===(o=t.originalEvent)||void 0===o?void 0:o.submitter;s=(null==e?void 0:e.formAction)||s,i=(null==e?void 0:e.formMethod)||i,n=(null==e?void 0:e.formTarget)||n}return{action:s,method:i.toUpperCase(),target:n,type:this.scope.ajaxRequestType}}onInvalidForm(t){if(this.debug("Form not valid",this.scope),t.preventDefault(),t.stopPropagation(),!this.formEl)return void console.warn("No form found");const e=this.formEl.querySelectorAll(":invalid");if(e&&e.length){const t=e[0];this.scope.scrollToInvalidElement&&this.scrollToElement(t),this.scope.animateInvalidElement&&this.scrollToElement(t)}this.dispatchEvent(new CustomEvent("invalid",{detail:{elements:e}}))}scrollToElement(t){const e=Dt().h/2;kt(t,e,window),this.animateInvalidElement(t)}animateInvalidElement(t,e=3e3){t.classList.add("invalid-flashing-animation"),setTimeout((()=>{t.classList.remove("invalid-flashing-animation")}),e)}onErrorSubmit(t,e,s){this.debug("onErrorSubmit"),this.dispatchEvent(new CustomEvent("submit-error",{detail:{status:t,message:e,response:s}}))}onSuccessSubmit(t,e,s){this.debug("onSuccessSubmit"),this.scope.disableSubmitUntilChange&&(this.scope.submitDisabled=!0),this.dispatchEvent(new CustomEvent("submit-success",{detail:{status:t,message:e,response:s}}))}validate(t,e,s="validation-error"){e.valid=t.checkValidity(),e.error=t.validationMessage,e.valid||(this.dispatchEvent(new CustomEvent(s)),t.classList.add("was-validated"))}getFormValues(){return this.formEl?(this.scope.form.fields=new FormData(this.formEl),this.scope.form.fields):(console.warn("No form found"),null)}initForm(){const t=this.querySelector("form");t&&t.length>0?(this.formEl=t,this.formEl.classList.add("needs-validation"),this.formEl.setAttribute("novalidate","")):console.warn("bs4 form without children found")}template(){return Et(this)?(this.initForm(),null):"<form> </form>"}}(0,I.Z)(rc,"tagName","bs4-form");class ac extends je{static get observedAttributes(){return["icon-url","position-class","channel-name"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"notificationDispatcher",void 0),(0,I.Z)(this,"scope",{notifications:[],positionClass:"absolute-bottom absolute-center",channelName:"toast",onItemHide:this.onItemHide})}connectedCallback(){super.connectedCallback(),this.init(ac.observedAttributes)}onItemHide(t,e,s,i){s>-1?this.notifications.splice(s,1):console.warn("Notification not found",i)}onShowNotification(t){this.debug("Received notification container on "+this.scope.channelName,this.scope,t),this.scope.notifications.push(t)}async afterBind(){this.notificationDispatcher=new rt(this.scope.channelName),this.notificationDispatcher.on("show-notification",this.onShowNotification,this),await super.afterBind()}disconnectedCallback(){super.disconnectedCallback(),this.notificationDispatcher.off("show-notification",this.onShowNotification,this)}requiredAttributes(){return[]}template(){return Et(this)?null:'<div class="toast-container"> <div aria-live="polite" aria-atomic="true" class="toast-item-container" rv-add-class="positionClass"> <div rv-each-toast="notifications"> <div rv-if="toast.type | eq \'toast\'"> <bs4-toast-item rv-index="%toast%" rv-parent rv-icon-url="iconUrl" rv-co-toast="toast"></bs4-toast-item> </div> </div> </div> </div> <div rv-each-modal="notifications"> <div rv-if="modal.type | eq \'modal\'"> <bs4-modal-item rv-index="%modal%" rv-parent rv-icon-url="iconUrl" rv-co-modal="modal"></bs4-modal-item> </div> </div>'}}(0,I.Z)(ac,"tagName","bs4-notification-container");class lc extends je{static get observedAttributes(){return["toast","icon-url","index"]}requiredAttributes(){return["toast"]}constructor(){super(),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"toastService",void 0),(0,I.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this),toast:void 0})}connectedCallback(){super.connectedCallback(),this.init(lc.observedAttributes)}async afterBind(){this.initToastService(),await super.afterBind()}initToastService(){const t=this.scope.toast,e=this.firstElementChild;t&&e&&(this.toastService=new yl(e,{delay:void 0!==t.delay?t.delay:yl.Default.delay,autohide:void 0!==t.autoHide?t.autoHide:yl.Default.autohide,animation:void 0!==t.animation?t.animation:yl.Default.animation}),e.addEventListener(pl,this.scope.onHidden,{once:!0}),this.toastService.show())}dismiss(){var t;null===(t=this.toastService)||void 0===t||t.hide()}onHidden(t,e){var s;e||(e=At(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.toast&&e&&i.onItemHide(t,e,this.scope.index,this.scope.toast)}template(){return'<div class="toast my-1" rv-add-class="toast.contextualClass | prepend \'toast-\'" role="alert" aria-live="assertive" aria-atomic="true"> <div class="toast-header" rv-show="toast.title"> <bs4-icon rv-if="iconUrl" rv-src="iconUrl" size="16" rv-color="toast.contextualClass" class="mr-2" alt="toast icon"></bs4-icon> <strong class="mr-auto" rv-template="toast.title"></strong> <button type="button" class="ml-2 mb-1 close" rv-on-click="dismiss" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="toast-body" rv-template="toast.message"></div> </div>'}}(0,I.Z)(lc,"tagName","bs4-toast-item");class cc extends je{static get observedAttributes(){return["modal","index"]}requiredAttributes(){return["modal"]}constructor(){super(),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"modalService",void 0),(0,I.Z)(this,"scope",{onHidden:this.onHidden.bind(this),index:-1,dismiss:this.dismiss.bind(this)})}connectedCallback(){super.connectedCallback(),this.init(cc.observedAttributes)}async afterBind(){this.initModalService(),await super.afterBind()}initModalService(){const t=this.scope.modal,e=this.firstElementChild;t&&e&&(this.modalService=new da(e,{focus:void 0!==t.focus?t.focus:da.Default.focus,keyboard:void 0!==t.keyboard?t.keyboard:da.Default.keyboard,backdrop:void 0!==t.backdrop?t.backdrop:da.Default.backdrop,show:void 0!==t.show?t.show:da.Default.show}),e.addEventListener(ta,this.scope.onHidden,{once:!0}),this.modalService.show(this))}dismiss(t){var e;null===(e=this.modalService)||void 0===e||e.hide(t)}onHidden(t,e){var s;e||(e=At(t));const i=(null===(s=this.scope.$parent)||void 0===s?void 0:s.$parent)||null;"function"==typeof(null==i?void 0:i.onItemHide)&&this.scope.modal&&e&&i.onItemHide(t,e,this.scope.index,this.scope.modal)}template(){return'<div class="modal fade" tabindex="-1" role="dialog" rv-add-class="modal.contextualClass | prepend \'modal-\'"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" rv-show="modal.title"> <h5 class="modal-title" rv-template="modal.title"></h5> <button type="button" class="close" aria-label="Close" rv-on-click="dismiss"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body"> <p rv-template="modal.message"></p> </div> <div class="modal-footer" rv-show="modal.buttons | size | gt 0"> <div rv-each-button="modal.buttons"> <button type="button" class="btn" rv-add-class="button.class" rv-on-click="button.action" rv-template="modal.label"></button> </div> </div> </div> </div> </div>'}}(0,I.Z)(cc,"tagName","bs4-modal-item");function hc(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function dc(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?hc(Object(s),!0).forEach((function(e){(0,I.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hc(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}class uc extends je{static get observedAttributes(){return["tags","options","debug"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"_debug",!0),(0,I.Z)(this,"image",void 0),(0,I.Z)(this,"scope",{debug:!1,tags:[],options:{popoverOptions:{},multiPopover:!1,tagOptions:{}},fillPopoverOptions:t=>dc(dc(dc({},this.scope.options.popoverOptions),this.scope.options.tagOptions.popoverOptions),t),triggerOnFocus:t=>this.scope.fillPopoverOptions(t).trigger?0:null,onClick:this.onClick.bind(this),onPopoverBound:this.onPopoverBound.bind(this),onPopoverShown:this.onPopoverShown.bind(this),onPopoverHidden:this.onPopoverHidden.bind(this),updateTagPositions:Bt(this.updateTagPositions.bind(this))}),this.scope.options.popoverOptions.container=this}parsedAttributeChangedCallback(t,e,s){if("options"===t){this.bound?this.scope.options=s:this.scope.options=K({deep:!0},e,s);const t=this.scope.options.popoverOptions;t&&"string"==typeof t.container&&(t.container=document.querySelector(t.container)||void 0)}}template(){return Et(this)&&this.parseChildTags(),'<img> <tag rv-each-tag="tags" rv-index="tag.index" rv-style-left="tag.left" rv-style-top="tag.top" rv-shape="tag.shape" rv-color="tag.color" rv-style---tag-color="tag.color" rv-style---tag-border-radius="tag.borderRadius" rv-style---tag-full-size="tag.fullSize" rv-style---tag-small-size="tag.smallSize" rv-bs4-popover="fillPopoverOptions | call tag.popoverOptions" rv-on-bound.bs.popover="onPopoverBound" rv-on-shown.bs.popover="onPopoverShown" rv-on-hidden.bs.popover="onPopoverHidden" rv-tabindex="triggerOnFocus | call tag.popoverOptions"> </tag> '}async beforeBind(){await super.beforeBind(),this.image=this.querySelector("img"),this.addEventListeners(),this.initTags()}addEventListeners(){const t=this.image;t.addEventListener("load",this.scope.updateTagPositions),t.addEventListener("click",this.scope.onClick),window.addEventListener("resize",this.scope.updateTagPositions,{passive:!0})}removeEventListeners(){const t=this.image;t.removeEventListener("load",this.scope.updateTagPositions),t.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.scope.updateTagPositions)}async afterBind(){this.passImageAttributes(),await super.afterBind()}connectedCallback(){super.connectedCallback(),this.init(uc.observedAttributes)}disconnectedCallback(){this.removeEventListener("click",this.scope.onClick),window.removeEventListener("resize",this.scope.updateTagPositions)}parseChildTags(){this.debug("parseChildTags()");for(const e of Array.from(this.querySelectorAll("tag"))){const s=e.getAttribute("title")||"",i=e.innerHTML,n=(t=parseFloat(e.getAttribute("x")||""),isNaN(t)?Math.random():t),o=(t=>isNaN(t)?Math.random():t)(parseFloat(e.getAttribute("y")||"")),r=e.getAttribute("shape")||void 0,a=e.getAttribute("color")||void 0,l=e.getAttribute("border-radius")||void 0,c=e.getAttribute("full-size")||void 0,h=e.getAttribute("small-size")||void 0,d=dc(dc({},this.scope.options.tagOptions),{},{popoverOptions:this.scope.fillPopoverOptions({title:s,content:i,html:!0}),x:n,y:o,shape:r,color:a,borderRadius:l,fullSize:c,smallSize:h});this.scope.tags.push(d)}var t}initTags(){const t=this.scope.options.tagOptions;for(const[e,s]of this.scope.tags.entries())s.index=e,s.shape=s.shape||t.shape,s.borderRadius=s.borderRadius||t.borderRadius,s.smallSize=s.smallSize||t.smallSize,s.fullSize=s.fullSize||t.fullSize,s.color=s.color||t.color}passImageAttributes(){const t=this.image,e=this.attributes;for(let s=e.length-1;s>=0;s--)e[s].name.startsWith("img-")&&t.setAttribute(e[s].name.substr(4),e[s].value)}onClick(t){if(this.scope.debug){const e=this.image,{clientTop:s,clientLeft:i,width:n,height:o,naturalWidth:r,naturalHeight:a}=e,{clientX:l,clientY:c}=t;let h=l-i,d=c-s;const u=n/r,p=o/a;let m=n,v=o;u<p?(m=n*p/u,h+=(m-n)/2):p<u&&(v=o*u/p,d+=(v-o)/2),h*=100/m,d*=100/v,console.log({x:h,y:d})}}onPopoverBound(t){const e=t.target.getAttribute("index");if(null===e)throw new Error("popup bound on no index");const s=parseInt(e);if(isNaN(s))throw new Error(`boundIndex "${e}" is not a number!`);const i=this.scope.tags.find((t=>t.index===s));if(!i)throw new Error(`Tag with index (${s}, "${e}") not found`);i.el=t.target}onPopoverShown(t){for(const i of this.scope.tags){var e,s;if(i.el===t.target)i.el.classList.add("active");else if(!this.scope.options.multiPopover)null===(e=i.el)||void 0===e||e.classList.remove("active"),null===(s=i.el)||void 0===s||s.dispatchEvent(new CustomEvent("trigger-hide"))}}onPopoverHidden(t){const e=this.scope.tags.find((e=>e.el===t.target));var s;e&&(null===(s=e.el)||void 0===s||s.classList.remove("active"))}updateTagPositions(){const t=this.image,{width:e,height:s,naturalWidth:i,naturalHeight:n}=t,o=i/e,r=n/s,a=window.getComputedStyle(t).getPropertyValue("object-fit");if("cover"===a&&o>r||"contain"===a&&r>o)for(const t of this.scope.tags)t.top=100*t.y+"%",t.left=100*(o/r*(t.x-.5)+.5)+"%";else if("cover"===a||"contain"===a)for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*(r/o*(t.y-.5)+.5)+"%";else for(const t of this.scope.tags)t.left=100*t.x+"%",t.top=100*t.y+"%"}}(0,I.Z)(uc,"tagName","bs4-tagged-image");const pc={binders:C,services:E,formatters:_,components:S,helper:k,constants:w,init(t={}){return Qn.setSingleton(t),this}};class mc extends je{static get observedAttributes(){return["type","title","text","url","media-url","label","dropdown-direction"]}constructor(){super(),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"dropdown",void 0),(0,I.Z)(this,"scope",void 0),this.scope=this.getScopeDefaults(),this.debug("constructor",this.scope),mc.count++,this.onExternalOpenEvent=this.onExternalOpenEvent.bind(this),this.onExternalCloseEvent=this.onExternalCloseEvent.bind(this)}getDefaultShareServices(){return[{id:"facebook",label:"Facebook",urlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{url}}",mediaUrlTemplate:"https://www.facebook.com/sharer/sharer.php?u={{media_url}}",type:"popup",url:"",availableFor:["page","image","video"]},{id:"twitter",label:"Twitter",urlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}",mediaUrlTemplate:"https://twitter.com/intent/tweet?text={{text}}&url={{media_url}}%0A({{url}})",url:"",availableFor:["page","image","video"]},{id:"pinterest",label:"Pinterest",urlTemplate:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{media_url}}&description={{text}}",type:"popup",url:"",availableFor:["image","video"]},{id:"whatsapp",label:"WhatsApp",urlTemplate:"https://api.whatsapp.com/send?text={{text}}%0A%0A{{url}}",mediaUrlTemplate:"https://api.whatsapp.com/send?text={{text}}%0A%0A{{media_url}}%0A({{url}})",type:"popup",url:"",availableFor:["page","image","video"]},{id:"telegram",label:"Telegram",urlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}",mediaUrlTemplate:"https://telegram.me/share/url?url={{media_url}}&text={{text}}%0A({{url}})",type:"popup",url:"",availableFor:["page","image","video"]},{id:"email",label:"Email",urlTemplate:"mailto:?subject={{title}}&body={{text}}%0A%0A{{url}}",mediaUrlTemplate:"mailto:?subject={{title}}&body={{text}}%0A%0A{{media_url}}%0A({{url}})",type:"href",url:"",availableFor:["page","image","video"]},{id:"download",label:"Download image",urlTemplate:"{{raw_media_url}}",type:"download",url:"",availableFor:["image","video"]}]}isIos(){return null!==navigator.userAgent.match(/iPhone|iPad|iPod/i)}isAndroid(){return null!==navigator.userAgent.match(/Android/i)}browserSupportsNativeShare(){return"function"==typeof navigator.share}getScopeDefaults(){const t={type:"page",title:document.title,text:"Look at this! ",url:window.location.href,label:"Share",labelTemplate:'<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-text="label"></div> ',isAndroid:this.isAndroid(),isIos:this.isIos(),isDesktop:!1,isNative:this.browserSupportsNativeShare(),dropdownId:"dropdownShare"+mc.count,shareItems:this.getDefaultShareServices(),dropdownDirection:"down",share:this.share,shareOnService:this.shareOnService};return t.isDesktop=!t.isIos&&!t.isAndroid,t}onExternalOpenEvent(){var t;null===(t=this.dropdown)||void 0===t||t.show()}onExternalCloseEvent(){var t;null===(t=this.dropdown)||void 0===t||t.close()}connectedCallback(){super.connectedCallback(),this.init(mc.observedAttributes),this.addEventListeners()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListeners()}addEventListeners(){this.addEventListener("open",this.onExternalOpenEvent),this.addEventListener("close",this.onExternalCloseEvent)}removeEventListeners(){this.removeEventListener("open",this.onExternalOpenEvent),this.removeEventListener("close",this.onExternalOpenEvent)}getURLForShare(){return"page"===this.scope.type&&this.scope.url?Gt(this.scope.url):window.location.href}getMediaUrlForShare(){return"page"!==this.scope.type&&this.scope.url?Gt(this.scope.url):""}getTextForShare(){return this.scope.text}getTitleForShare(){return this.scope.title}updateShareURLs(){for(const t of this.scope.shareItems){const e=this.getURLForShare(),s=this.getMediaUrlForShare(),i=this.getTextForShare(),n=this.getTitleForShare();let o=t.urlTemplate;"page"!==this.scope.type&&t.mediaUrlTemplate&&(o=t.mediaUrlTemplate);const r=o.replace("{{url}}",encodeURIComponent(e)).replace("{{url}}",encodeURIComponent(e)).replace("{{media_url}}",encodeURIComponent(s)).replace("{{raw_media_url}}",s).replace("{{text}}",encodeURIComponent(i)).replace("{{title}}",encodeURIComponent(n));t.available=-1!==t.availableFor.indexOf(this.scope.type),t.url=r}}initDropdown(){const t=this.querySelector(".dropdown-toggle-share");t?this.dropdown=new Wr(t):console.warn('Element with selector ".dropdown-toggle-share" not found!',this)}shareOnService(t,e,s){var i;return this.debug("Open popup"),null===(i=this.dropdown)||void 0===i||i.close(),s&&s.href?!!(s.hasAttribute("type")&&"download"===s.getAttribute("type")||"href"===s.getAttribute("type"))||(t.preventDefault(),t.stopPropagation(),window.open(s.href,"Share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),!1):(console.error("No href attribute found"),!1)}async share(t){return this.debug("share",this.scope),t.preventDefault(),t.stopPropagation(),this.scope.isNative&&!this.scope.isDesktop?navigator.share({title:this.scope.title,text:`${this.scope.text}\r\n\r\n`,url:this.scope.url||window.location.href}).catch((t=>{"AbortError"!==t.name&&console.error(`Error ${t.name}: ${t.message}`,t)})):(this.updateShareURLs(),null===(e=this.dropdown)||void 0===e?void 0:e.toggle());var e}async beforeBind(){await super.beforeBind()}async afterBind(){this.initDropdown(),await super.afterBind()}requiredAttributes(){return["url"]}template(){return this.debug("template",this,Et(this)),this&&Et(this)&&(this.scope.labelTemplate=this.innerHTML,this.debug("Custom label template: ",this.scope.labelTemplate)),Jn}}(0,I.Z)(mc,"tagName","bs4-share"),(0,I.Z)(mc,"count",0);class vc extends mc{static get observedAttributes(){return[...mc.observedAttributes,"text-i18n","label-i18n","service-label-i18n"]}constructor(){super(),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"localesService",void 0),(0,I.Z)(this,"scope",super.scope),this.scope=this.getScopeDefaults(),this.scope.labelTemplate='<div class="share-label" rv-on-click="share" role="button" aria-haspopup="true" aria-expanded="false" rv-i18n-text="labelI18n"></div> '}connectedCallback(){super.connectedCallback(),this.init(mc.observedAttributes),this.addEventListeners()}async initI18n(){return new Promise((t=>{var e,s,i;if(null===(e=this.localesService)||void 0===e||e.event.on("changed",(async e=>t(e))),null!==(s=this.localesService)&&void 0!==s&&s.ready){var n;const e=null===(n=this.localesService)||void 0===n?void 0:n.getLangcode();return t(e)}null===(i=this.localesService)||void 0===i||i.event.on("ready",(async e=>t(e)))}))}async i18n(t,e){var s;if(e)return null===(s=this.localesService)||void 0===s?void 0:s.get([t,...e.split(".")]).then((t=>t)).catch((t=>{console.error(t)}))}async beforeBind(){await super.beforeBind(),this.localesService=Vn.options.localesService;const t=await this.initI18n();if(this.scope.textI18n&&t&&(this.scope.text=await this.i18n(t,this.scope.textI18n)||this.scope.text),this.scope.serviceLabelI18n&&t)for(const e of this.scope.shareItems)e.label=await this.i18n(t,this.scope.serviceLabelI18n+"."+e.id)||e.label}async afterBind(){await super.afterBind()}template(){return this.debug("template",this,Et(this)),this&&Et(this)&&(this.scope.labelTemplate=this.innerHTML,this.debug("Custom label template: ",this.scope.labelTemplate)),Jn}}(0,I.Z)(vc,"tagName","i18n-share");const gc=async(t,e,s)=>{const i=t.split(".");return s||(s=e.getLangcode())?e.get([s,...i]).then((t=>t)).catch((t=>{console.error(t)})):null},fc={name:"t",read(t,e){const s=Vn.options.localesService;return new Promise(((i,n)=>{s.event.on("changed",(()=>{gc(t,s,e).then((t=>{i(t)})).catch((t=>{n(t)}))})),s.event.on("ready",(()=>{gc(t,s,e).then((t=>{i(t)})).catch((t=>{n(t)}))})),s.ready&&gc(t,s,e).then((t=>{i(t)}))}))}},bc={binders:b,components:T,formatters:A,services:y,init(t){return Vn.setSingleton(t),this}};const yc=s(6264).io;class wc extends je{static get observedAttributes(){return["instagram-id","open-links","limit"]}constructor(){super(),(0,I.Z)(this,"instagram",void 0),(0,I.Z)(this,"_debug",!1),(0,I.Z)(this,"scope",{media:[],openLinks:!1,limit:0,instagramId:void 0,onTap:this.onTap}),this.instagram=Sc.getSingleton()}connectedCallback(){super.connectedCallback(),this.init(wc.observedAttributes)}onTap(t,e,s){if(!this.scope.openLinks)return;const i=En.getInstance("main");if(!i)return;const n=s.dataset.url;n&&i.goTo(n,!0)}loadMedia(){if(!this.scope.instagramId)return Promise.reject();this.instagram.media(this.scope.instagramId,this.scope.limit).then((t=>{t&&(this.scope.media=t.media||[])})).catch((t=>{console.debug("Error: Can't load instagram media",t)}))}async beforeBind(){return this.loadMedia()}requiredAttributes(){return["instagramId","limit"]}template(){return this&&this.hasChildNodes()?null:'<div class="row"> <div class="col-4 px-0 embed-responsive embed-responsive-1by1 lazy" rv-each-image="media.data" rv-add-class="image.media_type"> {% comment %} IMAGE {% endcomment %} <img lazyload="lazy" class="embed-responsive-item" rv-if="image.media_type | eq \'IMAGE\'" rv-src="image.media_url" rv-alt="image.caption"> {% comment %} CAROUSEL_ALBUM {% endcomment %} <img lazyload="lazy" class="embed-responsive-item" rv-if="image.media_type | eq \'CAROUSEL_ALBUM\'" rv-src="image.media_url" rv-src="image.media_url" rv-alt="image.caption"> {% comment %} VIDEO {% endcomment %} <video class="embed-responsive-item" rv-if="image.media_type | eq \'VIDEO\'" autoplay muted loop preload> <source rv-src="image.media_url" type="video/mp4"> Your browser does not support the video tag. </video> {% comment %} hover info {% endcomment %} <div class="embed-responsive-item caption d-none d-md-flex align-items-center" rv-text="image.caption"> </div> </div> </div> '}}(0,I.Z)(wc,"tagName","shopify-tda-instagram");const Ec="https://the-developer-app.artandcode.studio";class Cc{constructor(t=Ec){var e;(0,I.Z)(this,"host",void 0),null!==(e=t)&&void 0!==e&&e.endsWith("/")&&(t=t.substring(0,t.length-1)),this.host=t}}class Sc extends Cc{constructor(t){super(t),(0,I.Z)(this,"baseUrl",void 0),this.baseUrl=this.host+"/instagram/api"}static getSingleton(t){return Sc.instance||(Sc.instance=new Sc(t)),Sc.instance}async media(t,e=0,s="caption,comments_count,is_comment_enabled,like_count,media_type,media_url,permalink,timestamp,children{media_type,media_url}"){const i=`${this.baseUrl}/media/${t}`,n={fields:s,limit:e};window.Shopify.shop&&(n.shop=window.Shopify.shop);return(await dt.getJSON(i,n)).body}}(0,I.Z)(Sc,"instance",void 0);class _c extends je{static get observedAttributes(){return["instagram-id","open-links","limit","open-url"]}constructor(){super(),(0,I.Z)(this,"scope",{instagramId:void 0,openLinks:!1,openUrl:"",limit:0,onScroll:this.onScroll,onTap:this.onTap,media:void 0}),(0,I.Z)(this,"scollWith",null),(0,I.Z)(this,"instagram",Sc.getSingleton())}connectedCallback(){super.connectedCallback(),this.init(_c.observedAttributes)}onTap(t,e,s){const i=En.getInstance("main");if(i&&(this.scope.openUrl.length>0&&i.goTo(this.scope.openUrl),this.scope.openLinks)){var n;const t=null===(n=s.firstChild)||void 0===n?void 0:n.dataset.url;t&&i.goTo(t,!0)}}onScroll(t,e,s){if(this.scollWith){const t=3;this.scollWith.scrollLeft=s.scrollLeft/t}}getTitleWidth(){var t;return this.scollWith&&(null===(t=this.scollWith.querySelector(".title-col"))||void 0===t?void 0:t.clientWidth)||0}getInstagramWidth(){if(!this.scope.media)return;return Dt().w/3*this.scope.media.length}async loadMedia(){if(!this.scope.instagramId)throw new Error("instagram id is required!");try{const t=await this.instagram.media(this.scope.instagramId,this.scope.limit);t&&(this.scope.media=t.media,console.debug("response",t))}catch(t){console.debug("Error: Can't load instagram media",t)}}async beforeBind(){return this.scollWith=this.querySelector(".title-row"),this.loadMedia()}requiredAttributes(){return["instagramId","limit"]}template(){return Et(this)?null:""}}(0,I.Z)(_c,"tagName","shopify-tda-instagram-scrollbar");class kc extends Cc{constructor(t){super(t),(0,I.Z)(this,"baseUrl",void 0),this.baseUrl=this.host+"/facebook/api"}static getSingleton(t){return kc.instance||(kc.instance=new kc(t)),kc.instance}async pages(){const t=(await dt.getJSON(`${this.baseUrl}/user/pages`)).body;return console.debug("[services:FacebookApiService] pages",t),t}async posts(){const t=(await dt.getJSON(`${this.baseUrl}/posts/user`)).body;return console.debug("[services:FacebookApiService] posts",t),t}}(0,I.Z)(kc,"instance",void 0);class Tc extends Yn{static getInstance(){return this.instance}constructor(t=Ec,e=!1,s=!1){let i=`${t}/shopify/api/themes/${window.Shopify.theme.id}/locales`;if(window.Shopify.shop&&(i+=`?shop=${window.Shopify.shop}`),super(i,e,s),Tc.instance)return Tc.instance;Tc.instance=this}static getSingleton(t=Ec,e=!1,s=!1){return Tc.instance||(Tc.instance=new Tc(t,e,s)),Tc.instance}}(0,I.Z)(Tc,"instance",void 0);class Ac{static get options(){return this._options}constructor(){}static getSingleton(){if(this.instance)return this.instance;throw new Error("Singleton of ModuleService not defined, please call setSingleton first!")}static setSingleton(t={}){if(this.instance)throw new Error("Singleton of ModuleService already defined!");return this._options=t,this.instance=new this,this.instance}}(0,I.Z)(Ac,"_options",void 0),(0,I.Z)(Ac,"instance",void 0);class Dc extends Cc{constructor(t){super(t),(0,I.Z)(this,"baseUrl",void 0),this.baseUrl=this.host+"/shopify/api/blogs"}static getSingleton(t){return Dc.instance||(Dc.instance=new Dc(t)),Dc.instance}async list(t){return dt.getJSON(`${this.baseUrl}/${t}/articles`).then((t=>(console.debug("[ShopifyApiArticleService] articles",t.body),t.body)))}async get(t,e){return dt.getJSON(`${this.baseUrl}/${t}/articles/${e}`).then((t=>(console.debug("[ShopifyApiArticleService] get article",t),t.body)))}}(0,I.Z)(Dc,"instance",void 0);class Lc extends Cc{constructor(t){super(t),(0,I.Z)(this,"baseUrl",void 0),this.baseUrl=this.host+"/shopify/api/blogs"}static getSingleton(t){return Lc.instance||(Lc.instance=new Lc(t)),Lc.instance}async list(){const t=(await dt.getJSON(`${this.baseUrl}`)).body;return console.debug("[ShopifyApiBlogsService] blogs",t),t}}(0,I.Z)(Lc,"instance",void 0);class Oc extends Cc{constructor(t){var e,s,i;super(t),(0,I.Z)(this,"baseUrl",void 0),(0,I.Z)(this,"socket",void 0),(0,I.Z)(this,"events",new rt("shopify-api-product-service")),(0,I.Z)(this,"on",void 0),(0,I.Z)(this,"once",void 0),this.on=this.events.on.bind(this.events),this.once=this.events.once.bind(this.events),this.baseUrl=`${this.host}/shopify/api/products`,console.debug("[ShopifyApiProductService] constructor"),this.socket=yc({path:"/socket.io/shopify/api/products",transports:["websocket","polling"]}),null===(e=this.socket)||void 0===e||e.on("connect",(()=>{console.debug("[ShopifyApiProductService] connect"),this.events.trigger("connect")})),null===(s=this.socket)||void 0===s||s.on("exception",(t=>{console.error("exception",t),this.events.trigger("exception",t)})),null===(i=this.socket)||void 0===i||i.on("all",(t=>{console.debug("[ShopifyApiProductService] all",t),this.events.trigger("all",t)}))}static getSingleton(t){return Oc.instance||(Oc.instance=new Oc(t)),Oc.instance}async list(t){let e=`${this.baseUrl}`;t&&(e+="?limit="+t);const s=await dt.getJSON(e);return console.debug("[ShopifyApiProductService] products",s.body),s.body}async all(t={}){this.socket&&this.socket.emit("all",t)}}(0,I.Z)(Oc,"instance",void 0);class xc extends Cc{constructor(t){super(t),(0,I.Z)(this,"baseUrl",void 0),this.baseUrl=this.host+"/shopify/api/blogs"}static getSingleton(t){return xc.instance||(xc.instance=new xc(t)),xc.instance}async list(){const t=(await dt.getJSON("/shopify/api/themes")).body;return console.debug("[ShopifyApiThemesService] themes",t),t}async locales(t,e){let s=`/shopify/api/themes/${t}/locales`;e&&(s+="/"+e);const i=(await dt.getJSON(s)).body;return console.debug("[ShopifyApiThemesService] locales",i),i}async assets(t,e){let s=`/shopify/api/themes/${t}/assets`;e&&(s+="/"+e);const i=(await dt.getJSON(s)).body;return console.debug("[ShopifyApiThemesService] assets",i),i}async assetLocalesList(t){const e=(await dt.getJSON(`/shopify/api/themes/${t}/locales/list`)).body;return console.debug("[ShopifyApiThemesService] assets",e),e}}(0,I.Z)(xc,"instance",void 0);class Pc extends je{constructor(){super(),(0,I.Z)(this,"content",""),(0,I.Z)(this,"scope",{}),(0,I.Z)(this,"autobind",!1)}bindContent(){this.classList.add("bound"),this.innerHTML=this.content,this.removeEventListener("click",this.bindContent),this.bind()}connectedCallback(){this.addEventListener("click",this.bindContent),this.init([])}template(){const t=this.firstElementChild;return t&&"TEMPLATE"===t.tagName?(this.content=t.innerHTML,'<div class="wrapper"> <div class="icon"></div> <p>Click to load example</p> </div> '):(console.error("The child element must be a template"),null)}}(0,I.Z)(Pc,"tagName","rv-bind-content");var Ic=s(8470);class Nc extends oc{static get observedAttributes(){return["option-tabs-auto-height","handle"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"templateAttributes",[{name:"title",required:!0},{name:"handle",required:!1},{name:"type",required:!1},{name:"active",required:!1},{name:"index",required:!1}]),this.scope.sum=this.sum}sum(t,e){return this.scope.result=Number(t)+Number(e),this.scope.result}activate(t){if(super.activate(t),"realtime-result"===t.type){const e=this.querySelector(".tab-content-preview");e&&(t.content=`<pre class="language-html"><code class="language-html">${G(e.innerHTML.trim())}</code></pre>`,Ic.highlightAll())}}async bindIfReady(){return super.bindIfReady()}connectedCallback(){super.connectedCallback(),this.initTabs(),this.activateFirstTab(),this.init(oc.observedAttributes)}async afterBind(){Ic.highlightAll(),await super.afterBind()}countOfFirstWhitespaces(t){const e=t.match(/^([\s]+)/s);return e?e[0].length:0}removeIndentsOfSource(t){const e=t.split(/\r?\n/);let s=this.countOfFirstWhitespaces(e[0]);for(;s===e[0].length;)e.shift(),s=this.countOfFirstWhitespaces(e[0]);if(0!==s)for(let t=0;t<e.length;t++){this.countOfFirstWhitespaces(e[t])>=s&&(e[t]=e[t].substring(s))}return e.join("\n").trim()}addItemsByTemplate(){const t=this.querySelectorAll("template");for(let e=0;e<t.length;e++){const s=t[e];if("single-html-file"===s.getAttribute("type")){const t=document.createElement("template"),i=this.removeIndentsOfSource(s.innerHTML);t.setAttribute("title","Source"),t.setAttribute("type","source"),t.innerHTML=`<pre class="language-html"><code class="language-html">${G(i)}</code></pre>`,this.addItemByTemplate(t,e);const n=document.createElement("template");n.setAttribute("title","Preview"),n.setAttribute("type","preview"),n.innerHTML=i,this.addItemByTemplate(n,e+1);const o=document.createElement("template");o.setAttribute("title","Rendered"),o.setAttribute("type","realtime-result"),o.innerHTML="",this.addItemByTemplate(o,e+2)}else this.addItemByTemplate(s,e)}this.templateReady=!0}template(){return!Et(this)||this.hasOnlyTemplateChilds()?'<div class="col-12 px-0"> <div rv-scrollbar-draggable role="tablist" class="tab-list nav nav-tabs nav-tabs-underline d-flex flex-scrollbar-x-auto scrollbar-y-hidden scrollbar-primary-on-hover" role="tablist"> <div role="tab" class="flex-grow-1 nav-item nav-link d-inline-block text-nowrap text-center" rv-each-tab="items" rv-class-active="tab.active" rv-add-class="\'tab-title-\' | append tab.handle" rv-id="\'tab-title-\' | append handle | append \'-\' | append tab.handle" rv-aria-controls="\'tab-content-\' | append handle | append \'-\' | append tab.handle" rv-html="tab.title" rv-title="tab.title" rv-on-click="activate | args tab" rv-aria-selected="tab.active"></div> </div> <div class="tab-content mx-auto"> <div role="tabpanel" class="tab-pane" rv-each-tab="items" rv-class-active="tab.active" rv-class-show="tab.active" rv-add-class="\'tab-content-\' | append tab.handle" rv-id="\'tab-content-\' | append handle | append \'-\' | append tab.handle" rv-template="tab.content" rv-aria-labelledby="\'tab-title-\' | append handle | append \'-\' | append tab.handle"> </div> </div> </div> ':null}}(0,I.Z)(Nc,"tagName","rv-example-tabs");class Zc extends Me{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init(Zc.observedAttributes)}template(){return Et(this)?null:""}}(0,I.Z)(Zc,"tagName","rv-file-tree");class Bc extends je{static get observedAttributes(){return["asset-path"]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{assetPath:"",name:"",src:"",sizes:[96,88,80,72,64,56,48,40,32,24,16,8],colors:["black","white","primary","success","info","warning","danger",["stroke-black","white"],["stroke-white","black"],["stroke-primary","white"],["stroke-success","white"],["stroke-info","white"],["stroke-warning","white"],["stroke-danger","white"]],directions:["left","left-up","up","up-right","right","right-down","down","down-left"],example:"string"});const t=new URLSearchParams(window.location.search).get("name");if(!t)throw new Error('Query url parameter "name" is required!');this.scope.name=t}connectedCallback(){super.connectedCallback(),this.init(Bc.observedAttributes)}async init(t){return super.init(t)}async afterBind(){Ic.highlightAll(),await super.afterBind()}parsedAttributeChangedCallback(t,e,s,i){if(super.parsedAttributeChangedCallback(t,e,s,i),"assetPath"===t){const t=this.scope.assetPath.split("?");this.scope.assetPath=t[0];const e=t[1];this.scope.src=this.scope.assetPath+=this.scope.name+".svg?"+e,this.scope.example=G(`\n        <bs4-icon color="danger" src="/assets/${this.scope.name+".svg"}" size="32" direction="up"></bs4-icon>\n      `.trim())}}requiredAttributes(){return["assetPath","src"]}template(){return Et(this)?null:'<h2 rv-text="name"></h2> <div class="row"> <section #sizes class="col-12"> <h3>Sizes</h3> <div class="row"> <div class="col-4 col-md-2 col-xl-2 py-2" rv-each-size="sizes"> <div class="row"> <div class="col-12 d-flex justify-content-center flex-row"> <bs4-icon class="m-1" rv-src="src" rv-size="size" color="black"></bs4-icon> </div> </div> <div class="row"> <div class="col-12 text-center" rv-text="size"></div> </div> </div> </div> </section> </div> <div class="row"> <section #colors class="col-12"> <h3>Colors</h3> <div class="row"> <div class="col-4 col-md-2 col-xl-2 py-2" rv-each-color="colors" rv-add-class="color | prepend \'example-color-\'"> <div class="row"> <div class="col-12 d-flex justify-content-center flex-row"> <bs4-icon class="m-1" rv-src="src" size="32" rv-color="color"></bs4-icon> </div> </div> <div class="row"> <div class="col-12 text-center" rv-text="color"></div> </div> </div> </div> </section> </div> <div class="row"> <section #directions class="col-12"> <h3>Directions</h3> <div class="row"> <div class="col-4 col-md-2 col-xl-2 py-2" rv-each-direction="directions"> <div class="row"> <div class="col-12 d-flex justify-content-center flex-row"> <bs4-icon class="m-1" rv-src="src" size="32" rv-direction="direction"></bs4-icon> </div> </div> <div class="row"> <div class="col-12 text-center" rv-text="direction"></div> </div> </div> </div> </section> </div> <div class="row"> <section #directions class="col-12"> <h3>Example</h3> <pre class="language-html"><code class="language-html" rv-html="example"></code></pre> </section> </div> '}}(0,I.Z)(Bc,"tagName","rv-icon-preview");var Rc=s(4375);class Fc extends je{static get observedAttributes(){return["sentences-per-paragraph-max","sentences-per-paragraph-min","words-per-sentence-max","words-per-sentence-min","words","generate-words","generate-sentences","generate-paragraphs","format"]}constructor(){super(),(0,I.Z)(this,"options",{sentencesPerParagraph:{max:8,min:4},wordsPerSentence:{max:16,min:4}}),(0,I.Z)(this,"lorem",void 0),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{generateParagraphs:1,format:"html"})}connectedCallback(){super.connectedCallback(),this.init(Fc.observedAttributes)}async init(t){return super.init(t).then((t=>t))}async beforeBind(){await super.beforeBind()}async afterBind(){this.lorem=new Rc.Ap(this.options,this.scope.format),this.scope.generateWords?this.innerHTML=this.lorem.generateWords(this.scope.generateWords):this.scope.generateSentences?this.innerHTML=this.lorem.generateSentences(this.scope.generateSentences):this.scope.generateParagraphs&&(this.innerHTML=this.lorem.generateParagraphs(this.scope.generateParagraphs)),await super.afterBind()}requiredAttributes(){return[]}parsedAttributeChangedCallback(t,e,s,i){switch(super.parsedAttributeChangedCallback(t,e,s,i),t){case"sentencesPerParagraphMax":this.options.sentencesPerParagraph&&(this.options.sentencesPerParagraph.max=s);break;case"sentencesPerParagraphMin":this.options.sentencesPerParagraph&&(this.options.sentencesPerParagraph.min=s);break;case"wordsPerSentenceMax":this.options.wordsPerSentence&&(this.options.wordsPerSentence.max=s);break;case"wordsPerSentenceMin":this.options.wordsPerSentence&&(this.options.wordsPerSentence.min=s);break;case"words":this.options.words&&(this.options.words=s)}}disconnectedCallback(){super.disconnectedCallback()}template(){return null}}(0,I.Z)(Fc,"tagName","rv-lorem-ipsum");class Mc extends jn{constructor(){super()}template(){return Et(this)?null:'<nav class="nav" rv-add-class="linklist.handle" rv-class-nav-pills="pills" rv-class-w-100="vertical" rv-class-flex-column="vertical" rv-class-flex-row="vertical | not"> <div class="nav-item nav-item-level-0" rv-each-link="linklist.links"> <a rv-if="link.collapseable | not" class="nav-link" rv-class-active="link.active" rv-route-class-active="link.url" rv-route="link.url" rv-href="link.url"> <span>{link.title}</span> </a> <div rv-if="link.collapseable" class="nav-link cursor-pointer dropdown-toggle" rv-on-click="toggle | args link"> <span>{link.title}</span> </div> <div class="nav-item nav-item-level-1" rv-hide="link.collapsed" rv-each-sublink="link.links"> <a rv-if="sublink.collapseable | not" class="nav-link" rv-add-class="sublink.level | prepend \'level-\'" rv-class-active="sublink.active" rv-route-class-active="sublink.url" rv-route="sublink.url" rv-href="sublink.url"> <span>{sublink.title}</span> </a> <div rv-if="sublink.collapseable" class="nav-link cursor-pointer dropdown-toggle" rv-on-click="toggle | args sublink"> <span>{sublink.title}</span> </div> <div class="nav-item nav-item-level-2" rv-hide="sublink.collapsed" rv-each-subsublink="sublink.links"> <a class="nav-link" rv-add-class="subsublink.level | prepend \'level-\'" rv-class-active="subsublink.active" rv-route-class-active="subsublink.url" rv-route="subsublink.url" rv-href="subsublink.url"> <span>{subsublink.title}</span> </a> </div> </div> </div> </nav> '}}(0,I.Z)(Mc,"tagName","shopify-linklist");class jc extends je{constructor(){super(),(0,I.Z)(this,"scope",{items:this.getItems(),pop:this.pop,push:this.push,reset:this.reset,shift:this.shift,sort:this.sort,splice:this.splice,unshift:this.unshift})}push(){this.scope.items.push({name:"pushed"})}pop(){this.scope.items.pop()}shift(){this.scope.items.shift()}unshift(){this.scope.items.unshift({name:"shifted"})}splice(){this.scope.items.splice(1,1,{name:"spliced1"},{name:"spliced2"})}reset(){this.scope.items=this.getItems()}sort(){this.scope.items.sort(((t,e)=>(t.value||0)-(e.value||0)))}connectedCallback(){super.connectedCallback(),this.init([])}getItems(){return[{name:"x",value:2},{name:"y",value:1},{name:"z",value:3}]}async init(t){return super.init(t).then((t=>t))}template(){return'<nav> <button rv-on-click="push">Push</button> <button rv-on-click="pop">Pop</button> <button rv-on-click="shift">Shift</button> <button rv-on-click="unshift">Unshift</button> <button rv-on-click="splice">Splice</button> <button rv-on-click="sort">Sort</button> <button rv-on-click="reset">Reset</button> </nav> <section> <div rv-each-item="items"> <div>Item { %item% } / { item.name }</div> </div> </section> '}}(0,I.Z)(jc,"tagName","rv-each-item-example");class qc extends je{constructor(){super(),(0,I.Z)(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init([])}template(){return'<bs4-tabs option-tabs-angle="vertical" tab-0-title="Tab 0" tab-0-content="<p class=\'my-3\'>Hello from <strong>tab 0</strong></p>" tab-1-title="Tab 1" tab-1-content="<p class=\'my-3\'>Hello from <strong>tab 1</strong></p>" tab-2-title="Tab 2" tab-2-content="<p class=\'my-3\'>Hello from <strong>tab 2</strong></p>" tab-3-title="Tab 3" tab-3-content="<p class=\'my-3\'>Hello from <strong>tab 3</strong></p>" tab-4-title="Tab 4" tab-4-content="<p class=\'my-3\'>Hello from <strong>tab 4</strong></p>" tab-5-title="Tab 5" tab-5-content="<p class=\'my-3\'>Hello from <strong>tab 5</strong></p>" tab-6-title="Tab 6" tab-6-content="<p class=\'my-3\'>Hello from <strong>tab 6</strong></p>" tab-7-title="Tab 7" tab-7-content="<p class=\'my-3\'>Hello from <strong>tab 7</strong></p>" tab-8-title="Tab 8" tab-8-content="<p class=\'my-3\'>Hello from <strong>tab 8</strong></p>" tab-9-title="Tab 9" tab-9-content="<p class=\'my-3\'>Hello from <strong>tab 9</strong></p>"></bs4-tabs> '}}(0,I.Z)(qc,"tagName","rv-bs4-tabs-attr-example");class Uc extends je{constructor(){super(),(0,I.Z)(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init([])}template(){return'<bs4-tabs> <template title="Tab 0"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/7c00b5/FFFFFF?text=Tab%200" alt="Tab 0"> </template> <template title="Tab 1"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/00b56a/FFFFFF?text=Tab%201" alt="Tab 1"> </template> <template title="Tab 2"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/001f3f/FFFFFF?text=Tab%202" alt="Tab 2"> </template> <template title="Tab 3"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/0074D9/FFFFFF?text=Tab%203" alt="Tab 3"> </template> <template title="Tab 4"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/7FDBFF/FFFFFF?text=Tab%204" alt="Tab 4"> </template> <template title="Tab 5"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/39CCCC/FFFFFF?text=Tab%205" alt="Tab 5"> </template> <template title="Tab 6"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/3D9970/FFFFFF?text=Tab%206" alt="Tab 6"> </template> <template title="Tab 7"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/2ECC40/FFFFFF?text=Tab%207" alt="Tab 7"> </template> <template title="Tab 8"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/FF851B/FFFFFF?text=Tab%208" alt="Tab 8"> </template> <template title="Tab 9"> <img class="img-fluid my-3" src="https://via.placeholder.com/150/85144b/FFFFFF?text=Tab%209" alt="Tab 9"> </template> </bs4-tabs> '}}(0,I.Z)(Uc,"tagName","rv-bs4-tabs-tpl-example");class Hc extends je{static get observedAttributes(){return[]}constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"scope",{})}connectedCallback(){super.connectedCallback(),this.init(Hc.observedAttributes)}async init(t){return super.init(t).then((t=>t))}requiredAttributes(){return[]}template(){return'<i18n-switcher> <p><strong rv-i18n-text="\'examples.i18n.switch_language\'"></strong></p> <div class="btn-group" role="group"> <button type="button" class="btn btn-secondary text-uppercase" rv-each-langcode="langcodes" rv-text="langcode.code" rv-on-click="switch | args langcode" rv-class-active="langcode.active">Left</button> </div> </i18n-switcher> <div class="form-row my-5"> <div class="col-12"> <h1 rv-i18n-text="\'examples.newsletter.title\'"></h1> <p rv-i18n-html="\'examples.newsletter.description_html\'"></p> </div> <div class="col"> <input type="text" class="form-control" rv-i18n-value="\'examples.newsletter.input_value\'"/> </div> <div class="col"> <input type="text" class="form-control" rv-i18n-placeholder="\'examples.newsletter.placeholder_last_name\'"/> </div> </div> '}}(0,I.Z)(Hc,"tagName","rv-i18n-static-example");class $c extends je{constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"consoleElement",null),(0,I.Z)(this,"touchZoneElement",null),(0,I.Z)(this,"scope",{log:this.log})}log(t,e){if(this.consoleElement){let s=`<p class="log"><span class="name">${t}</span>`;e.detail&&e.detail.offset&&(s+=`<span class="detail">(X: ${e.detail.offset.x} Y: ${e.detail.offset.y})</span>`),s+='<span class="time">'+(new Date).toLocaleTimeString()+"</span></p>",this.consoleElement.insertAdjacentHTML("afterbegin",s)}}connectedCallback(){super.connectedCallback(),this.init([])}async beforeBind(){return super.beforeBind().then((()=>{this.consoleElement=this.querySelector(".console"),this.touchZoneElement=this.querySelector(".touch-zone")}))}template(){return Et(this)?null:'<div class="row flex-column flex-md-row d-flex flex-nowrap h-100"> <div class="col-md-7 col-lg-8 col-xl-9 bg-light text-dark py-3 d-flex justify-content-center align-items-center touch-zone" rv-touch-events rv-on-tapstart="log | args \'tapstart\'" rv-on-tapend="log | args \'tapend\'" rv-on-tap="log | args \'tap\'" rv-on-tap2="log | args \'tap2\'" rv-on-tap3="log | args \'tap3\'" rv-on-singletap="log | args \'singletap\'" rv-on-doubletap="log | args \'doubletap\'" rv-on-taphold="log | args \'taphold\'" rv-on-swipe="log | args \'swipe\'" rv-on-swipeup="log | args \'swipeup\'" rv-on-swiperight="log | args \'swiperight\'" rv-on-swipedown="log | args \'swipedown\'" rv-on-swipeleft="log | args \'swipeleft\'" rv-on-swipeend="log | args \'swipeend\'"> <span>Touch here</span> </div> <div class="col-md-5 col-lg-4 col-xl-3 bg-dark text-light py-3 h-100 console"> <p class="log"> <span class="no-data">Start touching to send data to this console.</span> </p> </div> </div> '}}(0,I.Z)($c,"tagName","rv-touch-events-example");class zc extends je{constructor(){super(),(0,I.Z)(this,"autobind",!0),(0,I.Z)(this,"consoleElement",null),(0,I.Z)(this,"touchZoneElement",null),(0,I.Z)(this,"scope",{log:this.log})}log(t,e){if(this.consoleElement){let s=`<p class="log"><span class="name">${t}</span>`;const i=e.detail;i&&i.position&&(s+=`<span class="detail">(x: ${i.position.x} y: ${i.position.y} maxX: ${i.position.maxX} maxY: ${i.position.maxY})</span>`),s+='<span class="time">'+(new Date).toLocaleTimeString()+"</span></p>",this.consoleElement.insertAdjacentHTML("afterbegin",s)}}connectedCallback(){super.connectedCallback(),this.init([])}async beforeBind(){await super.beforeBind(),this.consoleElement=this.querySelector(".console"),this.touchZoneElement=this.querySelector(".touch-zone")}template(){return Et(this)?null:'<div class="row flex-column flex-md-row d-flex flex-nowrap h-100"> <div class="col bg-light text-dark touch-zone" rv-scroll-events rv-scrollbar-draggable rv-on-scrollstart="log | args \'scrollstart\'" rv-on-scrollended="log | args \'scrollended\'" rv-on-scrollleft="log | args \'scrollleft\'" rv-on-scrollright="log | args \'scrollright\'" rv-on-scrollup="log | args \'scrollup\'" rv-on-scrolldown="log | args \'scrolldown\'" rv-on-scrolling="log | args \'scrolling\'" rv-on-scrollend="log | args \'(native scrollend)\'" rv-on-scroll="log | args \'(native scroll)\'"> <div class="touch-zone-background d-flex justify-content-center align-items-center h-100 w-100">Scroll here</div> <div class="touch-space"></div> </div> <div class="col-12 col-md-6 col-lg-4 col-xl-4 bg-dark text-light py-3 h-100 console"> <p class="log"> <span class="no-data">Start touching to send data to this console.</span> </p> </div> </div> '}}(0,I.Z)(zc,"tagName","rv-extras-scroll-events-example");s(7421),s(6031),s(472);class Vc{constructor(){(0,I.Z)(this,"riba",new Ce),(0,I.Z)(this,"dispatcher",new rt("main")),(0,I.Z)(this,"localesService",Tc.getInstance()),this.riba.module.regist(vi.init()),this.riba.module.regist(Xi.init()),this.riba.module.regist(Nn.init()),this.riba.module.regist(zn.init()),this.riba.module.regist(bc.init({localesService:this.localesService})),this.riba.module.regist(pc.init()),this.riba.module.component.regists(P),this.riba.module.component.regists({EachItemExampleComponent:jc,Bs4TabsAttrExampleComponent:qc,Bs4TabsTplExampleComponent:Uc,I18nStaticExampleComponent:Hc,TouchEventsExampleComponent:$c,ExtrasScrollEventsExampleComponent:zc}),this.dispatcher.on("newPageReady",(()=>{Ic.highlightAll()})),this.riba.bind(document.body,window.model)}}(t=>{if(!t||"function"!=typeof t)return new Error("The callback is required!");const e=()=>{"loading"!==document.readyState&&(t(),document.attachEvent&&document.detachEvent("onreadystatechange",e),document.removeEventListener("DOMContentLoaded",e))};document.attachEvent&&document.attachEvent("onreadystatechange",e),document.addEventListener&&document.addEventListener("DOMContentLoaded",e),e()})((()=>{new Vc}))},5475:function(){(()=>{if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),s}t.prototype=window.Event.prototype,window.CustomEvent=t})()},6220:function(){}},s={};function i(t){var n=s[t];if(void 0!==n)return n.exports;var o=s[t]={exports:{}};return e[t].call(o.exports,o,o.exports,i),o.exports}i.m=e,t=[],i.O=function(e,s,n,o){if(!s){var r=1/0;for(h=0;h<t.length;h++){s=t[h][0],n=t[h][1],o=t[h][2];for(var a=!0,l=0;l<s.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(a=!1,o<r&&(r=o));if(a){t.splice(h--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[s,n,o]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,o,r=s[0],a=s[1],l=s[2],c=0;for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(l)var h=l(i);for(e&&e(s);c<r.length;c++)o=r[c],i.o(t,o)&&t[o]&&t[o][0](),t[r[c]]=0;return i.O(h)},s=self.webpackChunk_ribajs_doc=self.webpackChunk_ribajs_doc||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}(),i.O(void 0,[216],(function(){return i(6220)}));var n=i.O(void 0,[216],(function(){return i(9892)}));n=i.O(n)}();